(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function mx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var px={exports:{}},Vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN=Symbol.for("react.transitional.element"),sN=Symbol.for("react.fragment");function gx(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:iN,type:t,key:i,ref:e!==void 0?e:null,props:n}}Vh.Fragment=sN;Vh.jsx=gx;Vh.jsxs=gx;px.exports=Vh;var f=px.exports,yx={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=Symbol.for("react.transitional.element"),rN=Symbol.for("react.portal"),aN=Symbol.for("react.fragment"),oN=Symbol.for("react.strict_mode"),lN=Symbol.for("react.profiler"),cN=Symbol.for("react.consumer"),uN=Symbol.for("react.context"),hN=Symbol.for("react.forward_ref"),fN=Symbol.for("react.suspense"),dN=Symbol.for("react.memo"),vx=Symbol.for("react.lazy"),mN=Symbol.for("react.activity"),Nv=Symbol.iterator;function pN(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var _x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bx=Object.assign,Tx={};function La(t,e,n){this.props=t,this.context=e,this.refs=Tx,this.updater=n||_x}La.prototype.isReactComponent={};La.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};La.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xx(){}xx.prototype=La.prototype;function lg(t,e,n){this.props=t,this.context=e,this.refs=Tx,this.updater=n||_x}var cg=lg.prototype=new xx;cg.constructor=lg;bx(cg,La.prototype);cg.isPureReactComponent=!0;var Iv=Array.isArray;function mm(){}var Ie={H:null,A:null,T:null,S:null},Ex=Object.prototype.hasOwnProperty;function ug(t,e,n){var i=n.ref;return{$$typeof:og,type:t,key:e,ref:i!==void 0?i:null,props:n}}function gN(t,e){return ug(t.type,e,t.props)}function hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===og}function yN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dv=/\/+/g;function Zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yN(""+t.key):e.toString(36)}function vN(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(mm,mm):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Or(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case og:case rN:a=!0;break;case vx:return a=t._init,Or(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+Zf(t,0):i,Iv(s)?(n="",a!=null&&(n=a.replace(Dv,"$&/")+"/"),Or(s,e,n,"",function(u){return u})):s!=null&&(hg(s)&&(s=gN(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Dv,"$&/")+"/")+a)),e.push(s)),1;a=0;var o=i===""?".":i+":";if(Iv(t))for(var c=0;c<t.length;c++)i=t[c],r=o+Zf(i,c),a+=Or(i,e,n,r,s);else if(c=pN(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,r=o+Zf(i,c++),a+=Or(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return Or(vN(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Dc(t,e,n){if(t==null)return t;var i=[],s=0;return Or(t,i,"","",function(r){return e.call(n,r,s++)}),i}function _N(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ov=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bN={map:Dc,forEach:function(t,e,n){Dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dc(t,function(){e++}),e},toArray:function(t){return Dc(t,function(e){return e})||[]},only:function(t){if(!hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Activity=mN;ne.Children=bN;ne.Component=La;ne.Fragment=aN;ne.Profiler=lN;ne.PureComponent=lg;ne.StrictMode=oN;ne.Suspense=fN;ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ie.H.useMemoCache(t)}};ne.cache=function(t){return function(){return t.apply(null,arguments)}};ne.cacheSignal=function(){return null};ne.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=bx({},t.props),s=t.key;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)!Ex.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return ug(t.type,s,i)};ne.createContext=function(t){return t={$$typeof:uN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:cN,_context:t},t};ne.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)Ex.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return ug(t,r,s)};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:hN,render:t}};ne.isValidElement=hg;ne.lazy=function(t){return{$$typeof:vx,_payload:{_status:-1,_result:t},_init:_N}};ne.memo=function(t,e){return{$$typeof:dN,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Ie.T,n={};Ie.T=n;try{var i=t(),s=Ie.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(mm,Ov)}catch(r){Ov(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ie.T=e}};ne.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()};ne.use=function(t){return Ie.H.use(t)};ne.useActionState=function(t,e,n){return Ie.H.useActionState(t,e,n)};ne.useCallback=function(t,e){return Ie.H.useCallback(t,e)};ne.useContext=function(t){return Ie.H.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t,e){return Ie.H.useDeferredValue(t,e)};ne.useEffect=function(t,e){return Ie.H.useEffect(t,e)};ne.useEffectEvent=function(t){return Ie.H.useEffectEvent(t)};ne.useId=function(){return Ie.H.useId()};ne.useImperativeHandle=function(t,e,n){return Ie.H.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Ie.H.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Ie.H.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Ie.H.useMemo(t,e)};ne.useOptimistic=function(t,e){return Ie.H.useOptimistic(t,e)};ne.useReducer=function(t,e,n){return Ie.H.useReducer(t,e,n)};ne.useRef=function(t){return Ie.H.useRef(t)};ne.useState=function(t){return Ie.H.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Ie.H.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Ie.H.useTransition()};ne.version="19.2.0";yx.exports=ne;var V=yx.exports;const TN=mx(V);var Sx={exports:{}},jh={},wx={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,$){var G=q.length;q.push($);e:for(;0<G;){var me=G-1>>>1,we=q[me];if(0<s(we,$))q[me]=$,q[G]=we,G=me;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],G=q.pop();if(G!==$){q[0]=G;e:for(var me=0,we=q.length,xt=we>>>1;me<xt;){var Ut=2*(me+1)-1,Mn=q[Ut],dt=Ut+1,wn=q[dt];if(0>s(Mn,G))dt<we&&0>s(wn,Mn)?(q[me]=wn,q[dt]=G,me=dt):(q[me]=Mn,q[Ut]=G,me=Ut);else if(dt<we&&0>s(wn,G))q[me]=wn,q[dt]=G,me=dt;else break e}}return $}function s(q,$){var G=q.sortIndex-$.sortIndex;return G!==0?G:q.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,d=null,p=3,y=!1,v=!1,C=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function w(q){for(var $=n(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function N(q){if(C=!1,w(q),!v)if(n(c)!==null)v=!0,k||(k=!0,M());else{var $=n(u);$!==null&&Dt(N,$.startTime-q)}}var k=!1,x=-1,_=5,E=-1;function I(){return R?!0:!(t.unstable_now()-E<_)}function O(){if(R=!1,k){var q=t.unstable_now();E=q;var $=!0;try{e:{v=!1,C&&(C=!1,T(x),x=-1),y=!0;var G=p;try{t:{for(w(q),d=n(c);d!==null&&!(d.expirationTime>q&&I());){var me=d.callback;if(typeof me=="function"){d.callback=null,p=d.priorityLevel;var we=me(d.expirationTime<=q);if(q=t.unstable_now(),typeof we=="function"){d.callback=we,w(q),$=!0;break t}d===n(c)&&i(c),w(q)}else i(c);d=n(c)}if(d!==null)$=!0;else{var xt=n(u);xt!==null&&Dt(N,xt.startTime-q),$=!1}}break e}finally{d=null,p=G,y=!1}$=void 0}}finally{$?M():k=!1}}}var M;if(typeof S=="function")M=function(){S(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,xe=D.port2;D.port1.onmessage=O,M=function(){xe.postMessage(null)}}else M=function(){b(O,0)};function Dt(q,$){x=b(function(){q(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var G=p;p=$;try{return q()}finally{p=G}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=p;p=q;try{return $()}finally{p=G}},t.unstable_scheduleCallback=function(q,$,G){var me=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?me+G:me):G=me,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=G+we,q={id:h++,callback:$,priorityLevel:q,startTime:G,expirationTime:we,sortIndex:-1},G>me?(q.sortIndex=G,e(u,q),n(c)===null&&q===n(u)&&(C?(T(x),x=-1):C=!0,Dt(N,G-me))):(q.sortIndex=we,e(c,q),v||y||(v=!0,k||(k=!0,M()))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var $=p;return function(){var G=p;p=$;try{return q.apply(this,arguments)}finally{p=G}}}})(Ax);wx.exports=Ax;var xN=wx.exports,Cx={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=V;function Rx(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pi(){}var Vt={d:{f:Pi,r:function(){throw Error(Rx(522))},D:Pi,C:Pi,L:Pi,m:Pi,X:Pi,S:Pi,M:Pi},p:0,findDOMNode:null},SN=Symbol.for("react.portal");function wN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:SN,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var qo=EN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Lh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Rx(299));return wN(t,e,null,n)};Lt.flushSync=function(t){var e=qo.T,n=Vt.p;try{if(qo.T=null,Vt.p=2,t)return t()}finally{qo.T=e,Vt.p=n,Vt.d.f()}};Lt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Vt.d.C(t,e))};Lt.prefetchDNS=function(t){typeof t=="string"&&Vt.d.D(t)};Lt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Lh(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Vt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Lt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Lh(e.as,e.crossOrigin);Vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Vt.d.M(t)};Lt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Lh(n,e.crossOrigin);Vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Lt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Lh(e.as,e.crossOrigin);Vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Vt.d.m(t)};Lt.requestFormReset=function(t){Vt.d.r(t)};Lt.unstable_batchedUpdates=function(t,e){return t(e)};Lt.useFormState=function(t,e,n){return qo.H.useFormState(t,e,n)};Lt.useFormStatus=function(){return qo.H.useHostTransitionStatus()};Lt.version="19.2.0";function Nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nx)}catch(t){console.error(t)}}Nx(),Cx.exports=Lt;var AN=Cx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=xN,Ix=V,CN=AN;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ox(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mx(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mv(t){if(Fl(t)!==t)throw Error(U(188))}function RN(t){var e=t.alternate;if(!e){if(e=Fl(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Mv(s),t;if(r===i)return Mv(s),e;r=r.sibling}throw Error(U(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function kx(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=kx(t),e!==null)return e;t=t.sibling}return null}var Oe=Object.assign,NN=Symbol.for("react.element"),Oc=Symbol.for("react.transitional.element"),No=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),Vx=Symbol.for("react.consumer"),ai=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),vm=Symbol.for("react.activity"),IN=Symbol.for("react.memo_cache_sentinel"),kv=Symbol.iterator;function bo(t){return t===null||typeof t!="object"?null:(t=kv&&t[kv]||t["@@iterator"],typeof t=="function"?t:null)}var DN=Symbol.for("react.client.reference");function _m(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===DN?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ur:return"Fragment";case pm:return"Profiler";case Px:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList";case vm:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case No:return"Portal";case ai:return t.displayName||"Context";case Vx:return(t._context.displayName||"Context")+".Consumer";case fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:_m(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return _m(t(e))}catch{}}return null}var Io=Array.isArray,J=Ix.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=CN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ws={pending:!1,data:null,method:null,action:null},bm=[],zr=-1;function Wn(t){return{current:t}}function ft(t){0>zr||(t.current=bm[zr],bm[zr]=null,zr--)}function Ae(t,e){zr++,bm[zr]=t.current,t.current=e}var qn=Wn(null),ml=Wn(null),ts=Wn(null),ju=Wn(null);function Lu(t,e){switch(Ae(ts,e),Ae(ml,t),Ae(qn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?z1(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=z1(e),t=nw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ft(qn),Ae(qn,t)}function pa(){ft(qn),ft(ml),ft(ts)}function Tm(t){t.memoizedState!==null&&Ae(ju,t);var e=qn.current,n=nw(e,t.type);e!==n&&(Ae(ml,t),Ae(qn,n))}function Uu(t){ml.current===t&&(ft(qn),ft(ml)),ju.current===t&&(ft(ju),wl._currentValue=Ws)}var Jf,Pv;function Bs(t){if(Jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||"",Pv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jf+t+Pv}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(y){var p=y}Reflect.construct(t,[],d)}else{try{d.call()}catch(y){p=y}t.call(d.prototype)}}else{try{throw Error()}catch(y){p=y}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(s=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===c.length||s===u.length)for(i=c.length-1,s=u.length-1;1<=i&&0<=s&&c[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(c[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||c[i]!==u[s]){var h=`
`+c[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=s);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Bs(n):""}function ON(t,e){switch(t.tag){case 26:case 27:case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return t.child!==e&&e!==null?Bs("Suspense Fallback"):Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 15:return td(t.type,!1);case 11:return td(t.type.render,!1);case 1:return td(t.type,!0);case 31:return Bs("Activity");default:return""}}function Vv(t){try{var e="",n=null;do e+=ON(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var xm=Object.prototype.hasOwnProperty,mg=ot.unstable_scheduleCallback,nd=ot.unstable_cancelCallback,MN=ot.unstable_shouldYield,kN=ot.unstable_requestPaint,nn=ot.unstable_now,PN=ot.unstable_getCurrentPriorityLevel,jx=ot.unstable_ImmediatePriority,Lx=ot.unstable_UserBlockingPriority,zu=ot.unstable_NormalPriority,VN=ot.unstable_LowPriority,Ux=ot.unstable_IdlePriority,jN=ot.log,LN=ot.unstable_setDisableYieldValue,ql=null,sn=null;function Yi(t){if(typeof jN=="function"&&LN(t),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(ql,t)}catch{}}var rn=Math.clz32?Math.clz32:BN,UN=Math.log,zN=Math.LN2;function BN(t){return t>>>=0,t===0?32:31-(UN(t)/zN|0)|0}var Mc=256,kc=262144,Pc=4194304;function Fs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Uh(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=Fs(i):(a&=o,a!==0?s=Fs(a):n||(n=o&~t,n!==0&&(s=Fs(n))))):(o=i&~r,o!==0?s=Fs(o):a!==0?s=Fs(a):n||(n=i&~t,n!==0&&(s=Fs(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function Hl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function FN(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(){var t=Pc;return Pc<<=1,!(Pc&62914560)&&(Pc=4194304),t}function id(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qN(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-rn(n),d=1<<h;o[h]=0,c[h]=-1;var p=u[h];if(p!==null)for(u[h]=null,h=0;h<p.length;h++){var y=p[h];y!==null&&(y.lane&=-536870913)}n&=~d}i!==0&&Bx(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function Bx(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-rn(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function Fx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-rn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function qx(t,e){var n=e&-e;return n=n&42?1:pg(n),n&(t.suspendedLanes|e)?0:n}function pg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Hx(){var t=ye.p;return t!==0?t:(t=window.event,t===void 0?32:dw(t.type))}function jv(t,e){var n=ye.p;try{return ye.p=t,e()}finally{ye.p=n}}var Rs=Math.random().toString(36).slice(2),yt="__reactFiber$"+Rs,Yt="__reactProps$"+Rs,Ua="__reactContainer$"+Rs,Em="__reactEvents$"+Rs,HN="__reactListeners$"+Rs,GN="__reactHandles$"+Rs,Lv="__reactResources$"+Rs,Kl="__reactMarker$"+Rs;function yg(t){delete t[yt],delete t[Yt],delete t[Em],delete t[HN],delete t[GN]}function Br(t){var e=t[yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ua]||n[yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G1(t);t!==null;){if(n=t[yt])return n;t=G1(t)}return e}t=n,n=t.parentNode}return null}function za(t){if(t=t[yt]||t[Ua]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Do(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function ia(t){var e=t[Lv];return e||(e=t[Lv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ht(t){t[Kl]=!0}var Gx=new Set,Kx={};function _r(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(Kx[t]=e,t=0;t<e.length;t++)Gx.add(e[t])}var KN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uv={},zv={};function $N(t){return xm.call(zv,t)?!0:xm.call(Uv,t)?!1:KN.test(t)?zv[t]=!0:(Uv[t]=!0,!1)}function au(t,e,n){if($N(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Vc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Jn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $x(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YN(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sm(t){if(!t._valueTracker){var e=$x(t)?"checked":"value";t._valueTracker=YN(t,e,""+t[e])}}function Yx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$x(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Bu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var QN=/[\n"\\]/g;function vn(t){return t.replace(QN,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wm(t,e,n,i,s,r,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+pn(e)):t.value!==""+pn(e)&&(t.value=""+pn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Am(t,a,pn(e)):n!=null?Am(t,a,pn(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+pn(o):t.removeAttribute("name")}function Qx(t,e,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){Sm(t);return}n=n!=null?""+pn(n):"",e=e!=null?""+pn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Sm(t)}function Am(t,e,n){e==="number"&&Bu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function sa(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xx(t,e,n){if(e!=null&&(e=""+pn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+pn(n):""}function Wx(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(U(92));if(Io(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=pn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Sm(t)}function ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var XN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bv(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||XN.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Zx(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Bv(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&Bv(t,r,e[r])}function vg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ou(t){return ZN.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Cm=null;function _g(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,ra=null;function Fv(t){var e=za(t);if(e&&(t=e.stateNode)){var n=t[Yt]||null;e:switch(t=e.stateNode,e.type){case"input":if(wm(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Yt]||null;if(!s)throw Error(U(90));wm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Yx(i)}break e;case"textarea":Xx(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&sa(t,!!n.multiple,e,!1)}}}var sd=!1;function Jx(t,e,n){if(sd)return t(e,n);sd=!0;try{var i=t(e);return i}finally{if(sd=!1,(Fr!==null||ra!==null)&&(Wh(),Fr&&(e=Fr,t=ra,ra=Fr=null,Fv(e),t)))for(e=0;e<t.length;e++)Fv(t[e])}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Yt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rm=!1;if(yi)try{var To={};Object.defineProperty(To,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Rm=!1}var Qi=null,bg=null,lu=null;function eE(){if(lu)return lu;var t,e=bg,n=e.length,i,s="value"in Qi?Qi.value:Qi.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return lu=s.slice(t,1<i?1-i:void 0)}function cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jc(){return!0}function qv(){return!1}function Qt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?jc:qv,this.isPropagationStopped=qv,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),e}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zh=Qt(br),$l=Oe({},br,{view:0,detail:0}),JN=Qt($l),rd,ad,xo,Bh=Oe({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(rd=t.screenX-xo.screenX,ad=t.screenY-xo.screenY):ad=rd=0,xo=t),rd)},movementY:function(t){return"movementY"in t?t.movementY:ad}}),Hv=Qt(Bh),eI=Oe({},Bh,{dataTransfer:0}),tI=Qt(eI),nI=Oe({},$l,{relatedTarget:0}),od=Qt(nI),iI=Oe({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),sI=Qt(iI),rI=Oe({},br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aI=Qt(rI),oI=Oe({},br,{data:0}),Gv=Qt(oI),lI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uI[t])?!!e[t]:!1}function Tg(){return hI}var fI=Oe({},$l,{key:function(t){if(t.key){var e=lI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dI=Qt(fI),mI=Oe({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kv=Qt(mI),pI=Oe({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),gI=Qt(pI),yI=Oe({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),vI=Qt(yI),_I=Oe({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bI=Qt(_I),TI=Oe({},br,{newState:0,oldState:0}),xI=Qt(TI),EI=[9,13,27,32],xg=yi&&"CompositionEvent"in window,Ho=null;yi&&"documentMode"in document&&(Ho=document.documentMode);var SI=yi&&"TextEvent"in window&&!Ho,tE=yi&&(!xg||Ho&&8<Ho&&11>=Ho),$v=" ",Yv=!1;function nE(t,e){switch(t){case"keyup":return EI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function wI(t,e){switch(t){case"compositionend":return iE(e);case"keypress":return e.which!==32?null:(Yv=!0,$v);case"textInput":return t=e.data,t===$v&&Yv?null:t;default:return null}}function AI(t,e){if(qr)return t==="compositionend"||!xg&&nE(t,e)?(t=eE(),lu=bg=Qi=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tE&&e.locale!=="ko"?null:e.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CI[t.type]:e==="textarea"}function sE(t,e,n,i){Fr?ra?ra.push(i):ra=[i]:Fr=i,e=rh(e,"onChange"),0<e.length&&(n=new zh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Go=null,gl=null;function RI(t){JS(t,0)}function Fh(t){var e=Do(t);if(Yx(e))return t}function Xv(t,e){if(t==="change")return e}var rE=!1;if(yi){var ld;if(yi){var cd="oninput"in document;if(!cd){var Wv=document.createElement("div");Wv.setAttribute("oninput","return;"),cd=typeof Wv.oninput=="function"}ld=cd}else ld=!1;rE=ld&&(!document.documentMode||9<document.documentMode)}function Zv(){Go&&(Go.detachEvent("onpropertychange",aE),gl=Go=null)}function aE(t){if(t.propertyName==="value"&&Fh(gl)){var e=[];sE(e,gl,t,_g(t)),Jx(RI,e)}}function NI(t,e,n){t==="focusin"?(Zv(),Go=e,gl=n,Go.attachEvent("onpropertychange",aE)):t==="focusout"&&Zv()}function II(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(gl)}function DI(t,e){if(t==="click")return Fh(e)}function OI(t,e){if(t==="input"||t==="change")return Fh(e)}function MI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:MI;function yl(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!xm.call(e,s)||!cn(t[s],e[s]))return!1}return!0}function Jv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e1(t,e){var n=Jv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jv(n)}}function oE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lE(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Bu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bu(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var kI=yi&&"documentMode"in document&&11>=document.documentMode,Hr=null,Nm=null,Ko=null,Im=!1;function t1(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||Hr==null||Hr!==Bu(i)||(i=Hr,"selectionStart"in i&&Eg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ko&&yl(Ko,i)||(Ko=i,i=rh(Nm,"onSelect"),0<i.length&&(e=new zh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Hr)))}function Ls(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},ud={},cE={};yi&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Tr(t){if(ud[t])return ud[t];if(!Gr[t])return t;var e=Gr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cE)return ud[t]=e[n];return t}var uE=Tr("animationend"),hE=Tr("animationiteration"),fE=Tr("animationstart"),PI=Tr("transitionrun"),VI=Tr("transitionstart"),jI=Tr("transitioncancel"),dE=Tr("transitionend"),mE=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function Dn(t,e){mE.set(t,e),_r(e,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mn=[],Kr=0,Sg=0;function qh(){for(var t=Kr,e=Sg=Kr=0;e<t;){var n=mn[e];mn[e++]=null;var i=mn[e];mn[e++]=null;var s=mn[e];mn[e++]=null;var r=mn[e];if(mn[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&pE(n,s,r)}}function Hh(t,e,n,i){mn[Kr++]=t,mn[Kr++]=e,mn[Kr++]=n,mn[Kr++]=i,Sg|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function wg(t,e,n,i){return Hh(t,e,n,i),qu(t)}function xr(t,e){return Hh(t,null,null,e),qu(t)}function pE(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-rn(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function qu(t){if(50<tl)throw tl=0,Zm=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var $r={};function LI(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,i){return new LI(t,e,n,i)}function Ag(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hi(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function gE(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function uu(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")Ag(t)&&(a=1);else if(typeof t=="string")a=q4(t,n,qn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case vm:return t=en(31,n,e,s),t.elementType=vm,t.lanes=r,t;case Ur:return Zs(n.children,s,r,e);case Px:a=8,s|=24;break;case pm:return t=en(12,n,e,s|2),t.elementType=pm,t.lanes=r,t;case gm:return t=en(13,n,e,s),t.elementType=gm,t.lanes=r,t;case ym:return t=en(19,n,e,s),t.elementType=ym,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ai:a=10;break e;case Vx:a=9;break e;case fg:a=11;break e;case dg:a=14;break e;case Li:a=16,i=null;break e}a=29,n=Error(U(130,t===null?"null":typeof t,"")),i=null}return e=en(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Zs(t,e,n,i){return t=en(7,t,i,e),t.lanes=n,t}function hd(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function yE(t){var e=en(18,null,null,0);return e.stateNode=t,e}function fd(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n1=new WeakMap;function _n(t,e){if(typeof t=="object"&&t!==null){var n=n1.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Vv(e)},n1.set(t,e),e)}return{value:t,source:e,stack:Vv(e)}}var Yr=[],Qr=0,Hu=null,vl=0,gn=[],yn=0,gs=null,zn=1,Bn="";function si(t,e){Yr[Qr++]=vl,Yr[Qr++]=Hu,Hu=t,vl=e}function vE(t,e,n){gn[yn++]=zn,gn[yn++]=Bn,gn[yn++]=gs,gs=t;var i=zn;t=Bn;var s=32-rn(i)-1;i&=~(1<<s),n+=1;var r=32-rn(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,zn=1<<32-rn(e)+s|n<<s|i,Bn=r+t}else zn=1<<r|n<<s|i,Bn=t}function Cg(t){t.return!==null&&(si(t,1),vE(t,1,0))}function Rg(t){for(;t===Hu;)Hu=Yr[--Qr],Yr[Qr]=null,vl=Yr[--Qr],Yr[Qr]=null;for(;t===gs;)gs=gn[--yn],gn[yn]=null,Bn=gn[--yn],gn[yn]=null,zn=gn[--yn],gn[yn]=null}function _E(t,e){gn[yn++]=zn,gn[yn++]=Bn,gn[yn++]=gs,zn=e.id,Bn=e.overflow,gs=t}var vt=null,Ne=null,he=!1,ns=null,bn=!1,Om=Error(U(519));function ys(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(_n(e,t)),Om}function i1(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[yt]=t,e[Yt]=i,n){case"dialog":ae("cancel",e),ae("close",e);break;case"iframe":case"object":case"embed":ae("load",e);break;case"video":case"audio":for(n=0;n<El.length;n++)ae(El[n],e);break;case"source":ae("error",e);break;case"img":case"image":case"link":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"input":ae("invalid",e),Qx(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ae("invalid",e);break;case"textarea":ae("invalid",e),Wx(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||tw(e.textContent,n)?(i.popover!=null&&(ae("beforetoggle",e),ae("toggle",e)),i.onScroll!=null&&ae("scroll",e),i.onScrollEnd!=null&&ae("scrollend",e),i.onClick!=null&&(e.onclick=oi),e=!0):e=!1,e||ys(t,!0)}function s1(t){for(vt=t.return;vt;)switch(vt.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:vt=vt.return}}function Ir(t){if(t!==vt)return!1;if(!he)return s1(t),he=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||ip(t.type,t.memoizedProps)),n=!n),n&&Ne&&ys(t),s1(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Ne=H1(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Ne=H1(t)}else e===27?(e=Ne,Ns(t.type)?(t=op,op=null,Ne=t):Ne=e):Ne=vt?En(t.stateNode.nextSibling):null;return!0}function or(){Ne=vt=null,he=!1}function dd(){var t=ns;return t!==null&&(qt===null?qt=t:qt.push.apply(qt,t),ns=null),t}function _l(t){ns===null?ns=[t]:ns.push(t)}var Mm=Wn(null),Er=null,li=null;function zi(t,e,n){Ae(Mm,e._currentValue),e._currentValue=n}function fi(t){t._currentValue=Mm.current,ft(Mm)}function km(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Pm(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=s;for(var c=0;c<e.length;c++)if(o.context===e[c]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),km(r.return,n,t),i||(a=null);break e}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),km(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Ba(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var o=s.type;cn(s.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(s===ju.current){if(a=s.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}s=s.return}t!==null&&Pm(e,t,n,i),e.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){Er=t,li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return bE(Er,t)}function Lc(t,e){return Er===null&&lr(t),bE(t,e)}function bE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},li===null){if(t===null)throw Error(U(308));li=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else li=li.next=e;return n}var UI=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},zI=ot.unstable_scheduleCallback,BI=ot.unstable_NormalPriority,Ze={$$typeof:ai,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ng(){return{controller:new UI,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&zI(BI,function(){t.controller.abort()})}var $o=null,Vm=0,va=0,aa=null;function FI(t,e){if($o===null){var n=$o=[];Vm=0,va=ey(),aa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Vm++,e.then(r1,r1),e}function r1(){if(--Vm===0&&$o!==null){aa!==null&&(aa.status="fulfilled");var t=$o;$o=null,va=0,aa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qI(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var a1=J.S;J.S=function(t,e){kS=nn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&FI(t,e),a1!==null&&a1(t,e)};var Js=Wn(null);function Ig(){var t=Js.current;return t!==null?t:Se.pooledCache}function hu(t,e){e===null?Ae(Js,Js.current):Ae(Js,e.pool)}function TE(){var t=Ig();return t===null?null:{parent:Ze._currentValue,pool:t}}var Fa=Error(U(460)),Dg=Error(U(474)),Gh=Error(U(542)),Ku={then:function(){}};function o1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xE(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(oi,oi),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,c1(t),t;default:if(typeof e.status=="string")e.then(oi,oi);else{if(t=Se,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,c1(t),t}throw er=e,Fa}}function qs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(er=n,Fa):n}}var er=null;function l1(){if(er===null)throw Error(U(459));var t=er;return er=null,t}function c1(t){if(t===Fa||t===Gh)throw Error(U(483))}var oa=null,bl=0;function Uc(t){var e=bl;return bl+=1,oa===null&&(oa=[]),xE(oa,t,e)}function Eo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function zc(t,e){throw e.$$typeof===NN?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function EE(t){function e(b,T){if(t){var S=b.deletions;S===null?(b.deletions=[T],b.flags|=16):S.push(T)}}function n(b,T){if(!t)return null;for(;T!==null;)e(b,T),T=T.sibling;return null}function i(b){for(var T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function s(b,T){return b=hi(b,T),b.index=0,b.sibling=null,b}function r(b,T,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<T?(b.flags|=67108866,T):S):(b.flags|=67108866,T)):(b.flags|=1048576,T)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,T,S,w){return T===null||T.tag!==6?(T=hd(S,b.mode,w),T.return=b,T):(T=s(T,S),T.return=b,T)}function c(b,T,S,w){var N=S.type;return N===Ur?h(b,T,S.props.children,w,S.key):T!==null&&(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Li&&qs(N)===T.type)?(T=s(T,S.props),Eo(T,S),T.return=b,T):(T=uu(S.type,S.key,S.props,null,b.mode,w),Eo(T,S),T.return=b,T)}function u(b,T,S,w){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=fd(S,b.mode,w),T.return=b,T):(T=s(T,S.children||[]),T.return=b,T)}function h(b,T,S,w,N){return T===null||T.tag!==7?(T=Zs(S,b.mode,w,N),T.return=b,T):(T=s(T,S),T.return=b,T)}function d(b,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=hd(""+T,b.mode,S),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Oc:return S=uu(T.type,T.key,T.props,null,b.mode,S),Eo(S,T),S.return=b,S;case No:return T=fd(T,b.mode,S),T.return=b,T;case Li:return T=qs(T),d(b,T,S)}if(Io(T)||bo(T))return T=Zs(T,b.mode,S,null),T.return=b,T;if(typeof T.then=="function")return d(b,Uc(T),S);if(T.$$typeof===ai)return d(b,Lc(b,T),S);zc(b,T)}return null}function p(b,T,S,w){var N=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return N!==null?null:o(b,T,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Oc:return S.key===N?c(b,T,S,w):null;case No:return S.key===N?u(b,T,S,w):null;case Li:return S=qs(S),p(b,T,S,w)}if(Io(S)||bo(S))return N!==null?null:h(b,T,S,w,null);if(typeof S.then=="function")return p(b,T,Uc(S),w);if(S.$$typeof===ai)return p(b,T,Lc(b,S),w);zc(b,S)}return null}function y(b,T,S,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return b=b.get(S)||null,o(T,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oc:return b=b.get(w.key===null?S:w.key)||null,c(T,b,w,N);case No:return b=b.get(w.key===null?S:w.key)||null,u(T,b,w,N);case Li:return w=qs(w),y(b,T,S,w,N)}if(Io(w)||bo(w))return b=b.get(S)||null,h(T,b,w,N,null);if(typeof w.then=="function")return y(b,T,S,Uc(w),N);if(w.$$typeof===ai)return y(b,T,S,Lc(T,w),N);zc(T,w)}return null}function v(b,T,S,w){for(var N=null,k=null,x=T,_=T=0,E=null;x!==null&&_<S.length;_++){x.index>_?(E=x,x=null):E=x.sibling;var I=p(b,x,S[_],w);if(I===null){x===null&&(x=E);break}t&&x&&I.alternate===null&&e(b,x),T=r(I,T,_),k===null?N=I:k.sibling=I,k=I,x=E}if(_===S.length)return n(b,x),he&&si(b,_),N;if(x===null){for(;_<S.length;_++)x=d(b,S[_],w),x!==null&&(T=r(x,T,_),k===null?N=x:k.sibling=x,k=x);return he&&si(b,_),N}for(x=i(x);_<S.length;_++)E=y(x,b,_,S[_],w),E!==null&&(t&&E.alternate!==null&&x.delete(E.key===null?_:E.key),T=r(E,T,_),k===null?N=E:k.sibling=E,k=E);return t&&x.forEach(function(O){return e(b,O)}),he&&si(b,_),N}function C(b,T,S,w){if(S==null)throw Error(U(151));for(var N=null,k=null,x=T,_=T=0,E=null,I=S.next();x!==null&&!I.done;_++,I=S.next()){x.index>_?(E=x,x=null):E=x.sibling;var O=p(b,x,I.value,w);if(O===null){x===null&&(x=E);break}t&&x&&O.alternate===null&&e(b,x),T=r(O,T,_),k===null?N=O:k.sibling=O,k=O,x=E}if(I.done)return n(b,x),he&&si(b,_),N;if(x===null){for(;!I.done;_++,I=S.next())I=d(b,I.value,w),I!==null&&(T=r(I,T,_),k===null?N=I:k.sibling=I,k=I);return he&&si(b,_),N}for(x=i(x);!I.done;_++,I=S.next())I=y(x,b,_,I.value,w),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?_:I.key),T=r(I,T,_),k===null?N=I:k.sibling=I,k=I);return t&&x.forEach(function(M){return e(b,M)}),he&&si(b,_),N}function R(b,T,S,w){if(typeof S=="object"&&S!==null&&S.type===Ur&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Oc:e:{for(var N=S.key;T!==null;){if(T.key===N){if(N=S.type,N===Ur){if(T.tag===7){n(b,T.sibling),w=s(T,S.props.children),w.return=b,b=w;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Li&&qs(N)===T.type){n(b,T.sibling),w=s(T,S.props),Eo(w,S),w.return=b,b=w;break e}n(b,T);break}else e(b,T);T=T.sibling}S.type===Ur?(w=Zs(S.props.children,b.mode,w,S.key),w.return=b,b=w):(w=uu(S.type,S.key,S.props,null,b.mode,w),Eo(w,S),w.return=b,b=w)}return a(b);case No:e:{for(N=S.key;T!==null;){if(T.key===N)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(b,T.sibling),w=s(T,S.children||[]),w.return=b,b=w;break e}else{n(b,T);break}else e(b,T);T=T.sibling}w=fd(S,b.mode,w),w.return=b,b=w}return a(b);case Li:return S=qs(S),R(b,T,S,w)}if(Io(S))return v(b,T,S,w);if(bo(S)){if(N=bo(S),typeof N!="function")throw Error(U(150));return S=N.call(S),C(b,T,S,w)}if(typeof S.then=="function")return R(b,T,Uc(S),w);if(S.$$typeof===ai)return R(b,T,Lc(b,S),w);zc(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(b,T.sibling),w=s(T,S),w.return=b,b=w):(n(b,T),w=hd(S,b.mode,w),w.return=b,b=w),a(b)):n(b,T)}return function(b,T,S,w){try{bl=0;var N=R(b,T,S,w);return oa=null,N}catch(x){if(x===Fa||x===Gh)throw x;var k=en(29,x,null,b.mode);return k.lanes=w,k.return=b,k}finally{}}}var cr=EE(!0),SE=EE(!1),Ui=!1;function Og(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ss(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=qu(t),pE(t,null,n),e}return Hh(t,i,e,n),qu(t)}function Yo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Fx(t,n)}}function md(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Lm=!1;function Qo(){if(Lm){var t=aa;if(t!==null)throw t}}function Xo(t,e,n,i){Lm=!1;var s=t.updateQueue;Ui=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?r=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(r!==null){var d=s.baseState;a=0,h=u=c=null,o=r;do{var p=o.lane&-536870913,y=p!==o.lane;if(y?(ce&p)===p:(i&p)===p){p!==0&&p===va&&(Lm=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var v=t,C=o;p=e;var R=n;switch(C.tag){case 1:if(v=C.payload,typeof v=="function"){d=v.call(R,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,p=typeof v=="function"?v.call(R,d,p):v,p==null)break e;d=Oe({},d,p);break e;case 2:Ui=!0}}p=o.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=s.callbacks,y===null?s.callbacks=[p]:y.push(p))}else y={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=y,c=d):h=h.next=y,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;y=o,o=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,r===null&&(s.shared.lanes=0),_s|=a,t.lanes=a,t.memoizedState=d}}function wE(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function AE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)wE(n[t],e)}var _a=Wn(null),$u=Wn(0);function u1(t,e){t=Ti,Ae($u,t),Ae(_a,e),Ti=t|e.baseLanes}function Um(){Ae($u,Ti),Ae(_a,_a.current)}function Mg(){Ti=$u.current,ft(_a),ft($u)}var un=Wn(null),xn=null;function Bi(t){var e=t.alternate;Ae(He,He.current&1),Ae(un,t),xn===null&&(e===null||_a.current!==null||e.memoizedState!==null)&&(xn=t)}function zm(t){Ae(He,He.current),Ae(un,t),xn===null&&(xn=t)}function CE(t){t.tag===22?(Ae(He,He.current),Ae(un,t),xn===null&&(xn=t)):Fi()}function Fi(){Ae(He,He.current),Ae(un,un.current)}function Jt(t){ft(un),xn===t&&(xn=null),ft(He)}var He=Wn(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||rp(n)||ap(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vi=0,se=null,Te=null,Xe=null,Qu=!1,la=!1,ur=!1,Xu=0,Tl=0,ca=null,HI=0;function Le(){throw Error(U(321))}function kg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function Pg(t,e,n,i,s,r){return vi=r,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J.H=t===null||t.memoizedState===null?sS:Kg,ur=!1,r=n(i,s),ur=!1,la&&(r=NE(e,n,i,s)),RE(t),r}function RE(t){J.H=xl;var e=Te!==null&&Te.next!==null;if(vi=0,Xe=Te=se=null,Qu=!1,Tl=0,ca=null,e)throw Error(U(300));t===null||et||(t=t.dependencies,t!==null&&Gu(t)&&(et=!0))}function NE(t,e,n,i){se=t;var s=0;do{if(la&&(ca=null),Tl=0,la=!1,25<=s)throw Error(U(301));if(s+=1,Xe=Te=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}J.H=rS,r=e(n,i)}while(la);return r}function GI(){var t=J.H,e=t.useState()[0];return e=typeof e.then=="function"?Ql(e):e,t=t.useState()[0],(Te!==null?Te.memoizedState:null)!==t&&(se.flags|=1024),e}function Vg(){var t=Xu!==0;return Xu=0,t}function jg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Lg(t){if(Qu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Qu=!1}vi=0,Xe=Te=se=null,la=!1,Tl=Xu=0,ca=null}function kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?se.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Ke(){if(Te===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=Xe===null?se.memoizedState:Xe.next;if(e!==null)Xe=e,Te=t;else{if(t===null)throw se.alternate===null?Error(U(467)):Error(U(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Xe===null?se.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var e=Tl;return Tl+=1,ca===null&&(ca=[]),t=xE(ca,t,e),e=se,(Xe===null?e.memoizedState:Xe.next)===null&&(e=e.alternate,J.H=e===null||e.memoizedState===null?sS:Kg),t}function $h(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===ai)return _t(t)}throw Error(U(438,String(t)))}function Ug(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Kh(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=IN;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function fu(t){var e=Ke();return zg(e,Te,t)}function zg(t,e,n){var i=t.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var o=a=null,c=null,u=e,h=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(ce&d)===d:(vi&d)===d){var p=u.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===va&&(h=!0);else if((vi&p)===p){u=u.next,p===va&&(h=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,a=r):c=c.next=d,se.lanes|=p,_s|=p;d=u.action,ur&&n(r,d),r=u.hasEagerState?u.eagerState:n(r,d)}else p={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=p,a=r):c=c.next=p,se.lanes|=d,_s|=d;u=u.next}while(u!==null&&u!==e);if(c===null?a=r:c.next=o,!cn(r,t.memoizedState)&&(et=!0,h&&(n=aa,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=c,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function pd(t){var e=Ke(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);cn(r,e.memoizedState)||(et=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function IE(t,e,n){var i=se,s=Ke(),r=he;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=e();var a=!cn((Te||s).memoizedState,n);if(a&&(s.memoizedState=n,et=!0),s=s.queue,Bg(ME.bind(null,i,s,t),[t]),s.getSnapshot!==e||a||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,ba(9,{destroy:void 0},OE.bind(null,i,s,n,e),null),Se===null)throw Error(U(349));r||vi&127||DE(i,e,n)}return n}function DE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=Kh(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OE(t,e,n,i){e.value=n,e.getSnapshot=i,kE(e)&&PE(t)}function ME(t,e,n){return n(function(){kE(e)&&PE(t)})}function kE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function PE(t){var e=xr(t,2);e!==null&&Gt(e,t,2)}function Bm(t){var e=kt();if(typeof t=="function"){var n=t;if(t=n(),ur){Yi(!0);try{n()}finally{Yi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function VE(t,e,n,i){return t.baseState=n,zg(t,Te,typeof i=="function"?i:_i)}function KI(t,e,n,i,s){if(Qh(t))throw Error(U(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};J.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,jE(e,r)):(r.next=n.next,e.pending=n.next=r)}}function jE(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=J.T,a={};J.T=a;try{var o=n(s,i),c=J.S;c!==null&&c(a,o),h1(t,e,o)}catch(u){Fm(t,e,u)}finally{r!==null&&a.types!==null&&(r.types=a.types),J.T=r}}else try{r=n(s,i),h1(t,e,r)}catch(u){Fm(t,e,u)}}function h1(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){f1(t,e,i)},function(i){return Fm(t,e,i)}):f1(t,e,n)}function f1(t,e,n){e.status="fulfilled",e.value=n,LE(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,jE(t,n)))}function Fm(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,LE(e),e=e.next;while(e!==i)}t.action=null}function LE(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function UE(t,e){return e}function d1(t,e){if(he){var n=Se.formState;if(n!==null){e:{var i=se;if(he){if(Ne){t:{for(var s=Ne,r=bn;s.nodeType!==8;){if(!r){s=null;break t}if(s=En(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Ne=En(s.nextSibling),i=s.data==="F!";break e}}ys(i)}i=!1}i&&(e=n[0])}}return n=kt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UE,lastRenderedState:e},n.queue=i,n=tS.bind(null,se,i),i.dispatch=n,i=Bm(!1),r=Gg.bind(null,se,!1,i.queue),i=kt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=KI.bind(null,se,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function m1(t){var e=Ke();return zE(e,Te,t)}function zE(t,e,n){if(e=zg(t,e,UE)[0],t=fu(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ql(e)}catch(a){throw a===Fa?Gh:a}else i=e;e=Ke();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(se.flags|=2048,ba(9,{destroy:void 0},$I.bind(null,s,n),null)),[i,r,t]}function $I(t,e){t.action=e}function p1(t){var e=Ke(),n=Te;if(n!==null)return zE(e,n,t);Ke(),e=e.memoizedState,n=Ke();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ba(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=se.updateQueue,e===null&&(e=Kh(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function BE(){return Ke().memoizedState}function du(t,e,n,i){var s=kt();se.flags|=t,s.memoizedState=ba(1|e,{destroy:void 0},n,i===void 0?null:i)}function Yh(t,e,n,i){var s=Ke();i=i===void 0?null:i;var r=s.memoizedState.inst;Te!==null&&i!==null&&kg(i,Te.memoizedState.deps)?s.memoizedState=ba(e,r,n,i):(se.flags|=t,s.memoizedState=ba(1|e,r,n,i))}function g1(t,e){du(8390656,8,t,e)}function Bg(t,e){Yh(2048,8,t,e)}function YI(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=Kh(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function FE(t){var e=Ke().memoizedState;return YI({ref:e,nextImpl:t}),function(){if(ge&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function qE(t,e){return Yh(4,2,t,e)}function HE(t,e){return Yh(4,4,t,e)}function GE(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KE(t,e,n){n=n!=null?n.concat([t]):null,Yh(4,4,GE.bind(null,e,t),n)}function Fg(){}function $E(t,e){var n=Ke();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&kg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function YE(t,e){var n=Ke();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&kg(e,i[1]))return i[0];if(i=t(),ur){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[i,e],i}function qg(t,e,n){return n===void 0||vi&1073741824&&!(ce&261930)?t.memoizedState=e:(t.memoizedState=n,t=VS(),se.lanes|=t,_s|=t,n)}function QE(t,e,n,i){return cn(n,e)?n:_a.current!==null?(t=qg(t,n,i),cn(t,e)||(et=!0),t):!(vi&42)||vi&1073741824&&!(ce&261930)?(et=!0,t.memoizedState=n):(t=VS(),se.lanes|=t,_s|=t,e)}function XE(t,e,n,i,s){var r=ye.p;ye.p=r!==0&&8>r?r:8;var a=J.T,o={};J.T=o,Gg(t,!1,e,n);try{var c=s(),u=J.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=qI(c,i);Wo(t,e,h,an(t))}else Wo(t,e,i,an(t))}catch(d){Wo(t,e,{then:function(){},status:"rejected",reason:d},an())}finally{ye.p=r,a!==null&&o.types!==null&&(a.types=o.types),J.T=a}}function QI(){}function qm(t,e,n,i){if(t.tag!==5)throw Error(U(476));var s=WE(t).queue;XE(t,s,e,Ws,n===null?QI:function(){return ZE(t),n(i)})}function WE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ws,baseState:Ws,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Ws},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ZE(t){var e=WE(t);e.next===null&&(e=t.alternate.memoizedState),Wo(t,e.next.queue,{},an())}function Hg(){return _t(wl)}function JE(){return Ke().memoizedState}function eS(){return Ke().memoizedState}function XI(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=an();t=is(n);var i=ss(e,t,n);i!==null&&(Gt(i,e,n),Yo(i,e,n)),e={cache:Ng()},t.payload=e;return}e=e.return}}function WI(t,e,n){var i=an();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Qh(t)?nS(e,n):(n=wg(t,e,n,i),n!==null&&(Gt(n,t,i),iS(n,e,i)))}function tS(t,e,n){var i=an();Wo(t,e,n,i)}function Wo(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qh(t))nS(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,cn(o,a))return Hh(t,e,s,0),Se===null&&qh(),!1}catch{}finally{}if(n=wg(t,e,s,i),n!==null)return Gt(n,t,i),iS(n,e,i),!0}return!1}function Gg(t,e,n,i){if(i={lane:2,revertLane:ey(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qh(t)){if(e)throw Error(U(479))}else e=wg(t,n,i,2),e!==null&&Gt(e,t,2)}function Qh(t){var e=t.alternate;return t===se||e!==null&&e===se}function nS(t,e){la=Qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iS(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Fx(t,n)}}var xl={readContext:_t,use:$h,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};xl.useEffectEvent=Le;var sS={readContext:_t,use:$h,useCallback:function(t,e){return kt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:g1,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,du(4194308,4,GE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return du(4194308,4,t,e)},useInsertionEffect:function(t,e){du(4,2,t,e)},useMemo:function(t,e){var n=kt();e=e===void 0?null:e;var i=t();if(ur){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=kt();if(n!==void 0){var s=n(e);if(ur){Yi(!0);try{n(e)}finally{Yi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=WI.bind(null,se,t),[i.memoizedState,t]},useRef:function(t){var e=kt();return t={current:t},e.memoizedState=t},useState:function(t){t=Bm(t);var e=t.queue,n=tS.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Fg,useDeferredValue:function(t,e){var n=kt();return qg(n,t,e)},useTransition:function(){var t=Bm(!1);return t=XE.bind(null,se,t.queue,!0,!1),kt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=se,s=kt();if(he){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Se===null)throw Error(U(349));ce&127||DE(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,g1(ME.bind(null,i,r,t),[t]),i.flags|=2048,ba(9,{destroy:void 0},OE.bind(null,i,r,n,e),null),n},useId:function(){var t=kt(),e=Se.identifierPrefix;if(he){var n=Bn,i=zn;n=(i&~(1<<32-rn(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=HI++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Hg,useFormState:d1,useActionState:d1,useOptimistic:function(t){var e=kt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Gg.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ug,useCacheRefresh:function(){return kt().memoizedState=XI.bind(null,se)},useEffectEvent:function(t){var e=kt(),n={impl:t};return e.memoizedState=n,function(){if(ge&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},Kg={readContext:_t,use:$h,useCallback:$E,useContext:_t,useEffect:Bg,useImperativeHandle:KE,useInsertionEffect:qE,useLayoutEffect:HE,useMemo:YE,useReducer:fu,useRef:BE,useState:function(){return fu(_i)},useDebugValue:Fg,useDeferredValue:function(t,e){var n=Ke();return QE(n,Te.memoizedState,t,e)},useTransition:function(){var t=fu(_i)[0],e=Ke().memoizedState;return[typeof t=="boolean"?t:Ql(t),e]},useSyncExternalStore:IE,useId:JE,useHostTransitionStatus:Hg,useFormState:m1,useActionState:m1,useOptimistic:function(t,e){var n=Ke();return VE(n,Te,t,e)},useMemoCache:Ug,useCacheRefresh:eS};Kg.useEffectEvent=FE;var rS={readContext:_t,use:$h,useCallback:$E,useContext:_t,useEffect:Bg,useImperativeHandle:KE,useInsertionEffect:qE,useLayoutEffect:HE,useMemo:YE,useReducer:pd,useRef:BE,useState:function(){return pd(_i)},useDebugValue:Fg,useDeferredValue:function(t,e){var n=Ke();return Te===null?qg(n,t,e):QE(n,Te.memoizedState,t,e)},useTransition:function(){var t=pd(_i)[0],e=Ke().memoizedState;return[typeof t=="boolean"?t:Ql(t),e]},useSyncExternalStore:IE,useId:JE,useHostTransitionStatus:Hg,useFormState:p1,useActionState:p1,useOptimistic:function(t,e){var n=Ke();return Te!==null?VE(n,Te,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ug,useCacheRefresh:eS};rS.useEffectEvent=FE;function gd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hm={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=an(),s=is(i);s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(Gt(e,t,i),Yo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=an(),s=is(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ss(t,s,i),e!==null&&(Gt(e,t,i),Yo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),i=is(n);i.tag=2,e!=null&&(i.callback=e),e=ss(t,i,n),e!==null&&(Gt(e,t,n),Yo(e,t,n))}};function y1(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!yl(n,i)||!yl(s,r):!0}function v1(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Hm.enqueueReplaceState(e,e.state,null)}function hr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Oe({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function aS(t){Fu(t)}function oS(t){console.error(t)}function lS(t){Fu(t)}function Wu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function _1(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Gm(t,e,n){return n=is(n),n.tag=3,n.payload={element:null},n.callback=function(){Wu(t,e)},n}function cS(t){return t=is(t),t.tag=3,t}function uS(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){_1(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){_1(e,n,i),typeof s!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function ZI(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Ba(e,n,s,!0),n=un.current,n!==null){switch(n.tag){case 31:case 13:return xn===null?nh():n.alternate===null&&ze===0&&(ze=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Ku?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Cd(t,i,s)),!1;case 22:return n.flags|=65536,i===Ku?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Cd(t,i,s)),!1}throw Error(U(435,n.tag))}return Cd(t,i,s),nh(),!1}if(he)return e=un.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Om&&(t=Error(U(422),{cause:i}),_l(_n(t,n)))):(i!==Om&&(e=Error(U(423),{cause:i}),_l(_n(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=_n(i,n),s=Gm(t.stateNode,i,s),md(t,s),ze!==4&&(ze=2)),!1;var r=Error(U(520),{cause:i});if(r=_n(r,n),el===null?el=[r]:el.push(r),ze!==4&&(ze=2),e===null)return!0;i=_n(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Gm(n.stateNode,i,t),md(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=cS(s),uS(s,t,n,i),md(n,s),!1}n=n.return}while(n!==null);return!1}var $g=Error(U(461)),et=!1;function pt(t,e,n,i){e.child=t===null?SE(e,null,n,i):cr(e,t.child,n,i)}function b1(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return lr(e),i=Pg(t,e,n,a,r,s),o=Vg(),t!==null&&!et?(jg(t,e,s),bi(t,e,s)):(he&&o&&Cg(e),e.flags|=1,pt(t,e,i,s),e.child)}function T1(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Ag(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,hS(t,e,r,i,s)):(t=uu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Yg(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(a,i)&&t.ref===e.ref)return bi(t,e,s)}return e.flags|=1,t=hi(r,i),t.ref=e.ref,t.return=e,e.child=t}function hS(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(yl(r,i)&&t.ref===e.ref)if(et=!1,e.pendingProps=i=r,Yg(t,s))t.flags&131072&&(et=!0);else return e.lanes=t.lanes,bi(t,e,s)}return Km(t,e,n,i,s)}function fS(t,e,n,i){var s=i.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,e.child=null;return x1(t,e,r,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&hu(e,r!==null?r.cachePool:null),r!==null?u1(e,r):Um(),CE(e);else return i=e.lanes=536870912,x1(t,e,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(hu(e,r.cachePool),u1(e,r),Fi(),e.memoizedState=null):(t!==null&&hu(e,null),Um(),Fi());return pt(t,e,s,n),e.child}function Oo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function x1(t,e,n,i,s){var r=Ig();return r=r===null?null:{parent:Ze._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&hu(e,null),Um(),CE(e),t!==null&&Ba(t,e,i,!0),e.childLanes=s,null}function mu(t,e){return e=Zu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function E1(t,e,n){return cr(e,t.child,null,n),t=mu(e,e.pendingProps),t.flags|=2,Jt(e),e.memoizedState=null,t}function JI(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(he){if(i.mode==="hidden")return t=mu(e,i),e.lanes=536870912,Oo(null,t);if(zm(e),(t=Ne)?(t=sw(t,bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:gs!==null?{id:zn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},n=yE(t),n.return=e,e.child=n,vt=e,Ne=null)):t=null,t===null)throw ys(e);return e.lanes=536870912,null}return mu(e,i)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(zm(e),s)if(e.flags&256)e.flags&=-257,e=E1(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(et||Ba(t,e,n,!1),s=(n&t.childLanes)!==0,et||s){if(i=Se,i!==null&&(a=qx(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,xr(t,a),Gt(i,t,a),$g;nh(),e=E1(t,e,n)}else t=r.treeContext,Ne=En(a.nextSibling),vt=e,he=!0,ns=null,bn=!1,t!==null&&_E(e,t),e=mu(e,i),e.flags|=4096;return e}return t=hi(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function pu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Km(t,e,n,i,s){return lr(e),n=Pg(t,e,n,i,void 0,s),i=Vg(),t!==null&&!et?(jg(t,e,s),bi(t,e,s)):(he&&i&&Cg(e),e.flags|=1,pt(t,e,n,s),e.child)}function S1(t,e,n,i,s,r){return lr(e),e.updateQueue=null,n=NE(e,i,n,s),RE(t),i=Vg(),t!==null&&!et?(jg(t,e,r),bi(t,e,r)):(he&&i&&Cg(e),e.flags|=1,pt(t,e,n,r),e.child)}function w1(t,e,n,i,s){if(lr(e),e.stateNode===null){var r=$r,a=n.contextType;typeof a=="object"&&a!==null&&(r=_t(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Hm,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},Og(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?_t(a):$r,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(gd(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Hm.enqueueReplaceState(r,r.state,null),Xo(e,i,r,s),Qo(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var o=e.memoizedProps,c=hr(n,o);r.props=c;var u=r.context,h=n.contextType;a=$r,typeof h=="object"&&h!==null&&(a=_t(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||u!==a)&&v1(e,r,i,a),Ui=!1;var p=e.memoizedState;r.state=p,Xo(e,i,r,s),Qo(),u=e.memoizedState,o||p!==u||Ui?(typeof d=="function"&&(gd(e,n,d,i),u=e.memoizedState),(c=Ui||y1(e,n,c,i,p,u,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),r.props=i,r.state=u,r.context=a,i=c):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,jm(t,e),a=e.memoizedProps,h=hr(n,a),r.props=h,d=e.pendingProps,p=r.context,u=n.contextType,c=$r,typeof u=="object"&&u!==null&&(c=_t(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==d||p!==c)&&v1(e,r,i,c),Ui=!1,p=e.memoizedState,r.state=p,Xo(e,i,r,s),Qo();var y=e.memoizedState;a!==d||p!==y||Ui||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof o=="function"&&(gd(e,n,o,i),y=e.memoizedState),(h=Ui||y1(e,n,h,i,p,y,c)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,y,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,y,c)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),r.props=i,r.state=y,r.context=c,i=h):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,pu(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=cr(e,t.child,null,s),e.child=cr(e,null,n,s)):pt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=bi(t,e,s),t}function A1(t,e,n,i){return or(),e.flags|=256,pt(t,e,n,i),e.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:TE()}}function _d(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=tn),t}function dS(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(he){if(s?Bi(e):Fi(),(t=Ne)?(t=sw(t,bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:gs!==null?{id:zn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},n=yE(t),n.return=e,e.child=n,vt=e,Ne=null)):t=null,t===null)throw ys(e);return ap(t)?e.lanes=32:e.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(Fi(),s=e.mode,o=Zu({mode:"hidden",children:o},s),i=Zs(i,s,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i=e.child,i.memoizedState=vd(n),i.childLanes=_d(t,a,n),e.memoizedState=yd,Oo(null,i)):(Bi(e),$m(e,o))}var c=t.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(r)e.flags&256?(Bi(e),e.flags&=-257,e=bd(t,e,n)):e.memoizedState!==null?(Fi(),e.child=t.child,e.flags|=128,e=null):(Fi(),o=i.fallback,s=e.mode,i=Zu({mode:"visible",children:i.children},s),o=Zs(o,s,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,cr(e,t.child,null,n),i=e.child,i.memoizedState=vd(n),i.childLanes=_d(t,a,n),e.memoizedState=yd,e=Oo(null,i));else if(Bi(e),ap(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(U(419)),i.stack="",i.digest=a,_l({value:i,source:null,stack:null}),e=bd(t,e,n)}else if(et||Ba(t,e,n,!1),a=(n&t.childLanes)!==0,et||a){if(a=Se,a!==null&&(i=qx(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,xr(t,i),Gt(a,t,i),$g;rp(o)||nh(),e=bd(t,e,n)}else rp(o)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Ne=En(o.nextSibling),vt=e,he=!0,ns=null,bn=!1,t!==null&&_E(e,t),e=$m(e,i.children),e.flags|=4096);return e}return s?(Fi(),o=i.fallback,s=e.mode,c=t.child,u=c.sibling,i=hi(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,u!==null?o=hi(u,o):(o=Zs(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,Oo(null,i),i=e.child,o=t.child.memoizedState,o===null?o=vd(n):(s=o.cachePool,s!==null?(c=Ze._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=TE(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=_d(t,a,n),e.memoizedState=yd,Oo(t.child,i)):(Bi(e),n=t.child,t=n.sibling,n=hi(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function $m(t,e){return e=Zu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Zu(t,e){return t=en(22,t,null,e),t.lanes=0,t}function bd(t,e,n){return cr(e,t.child,null,n),t=$m(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C1(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),km(t.return,e,n)}function Td(t,e,n,i,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function mS(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=He.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,Ae(He,a),pt(t,e,i,n),i=he?vl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C1(t,n,e);else if(t.tag===19)C1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Td(e,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Td(e,!0,n,null,r,i);break;case"together":Td(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ba(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function e4(t,e,n){switch(e.tag){case 3:Lu(e,e.stateNode.containerInfo),zi(e,Ze,t.memoizedState.cache),or();break;case 27:case 5:Tm(e);break;case 4:Lu(e,e.stateNode.containerInfo);break;case 10:zi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,zm(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Bi(e),e.flags|=128,null):n&e.child.childLanes?dS(t,e,n):(Bi(e),t=bi(t,e,n),t!==null?t.sibling:null);Bi(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Ba(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return mS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(He,He.current),i)break;return null;case 22:return e.lanes=0,fS(t,e,n,e.pendingProps);case 24:zi(e,Ze,t.memoizedState.cache)}return bi(t,e,n)}function pS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)et=!0;else{if(!Yg(t,n)&&!(e.flags&128))return et=!1,e4(t,e,n);et=!!(t.flags&131072)}else et=!1,he&&e.flags&1048576&&vE(e,vl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=qs(e.elementType),e.type=t,typeof t=="function")Ag(t)?(i=hr(t,i),e.tag=1,e=w1(null,e,t,i,n)):(e.tag=0,e=Km(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===fg){e.tag=11,e=b1(null,e,t,i,n);break e}else if(s===dg){e.tag=14,e=T1(null,e,t,i,n);break e}}throw e=_m(t)||t,Error(U(306,e,""))}}return e;case 0:return Km(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=hr(i,e.pendingProps),w1(t,e,i,s,n);case 3:e:{if(Lu(e,e.stateNode.containerInfo),t===null)throw Error(U(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,jm(t,e),Xo(e,i,null,n);var a=e.memoizedState;if(i=a.cache,zi(e,Ze,i),i!==r.cache&&Pm(e,[Ze],n,!0),Qo(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=A1(t,e,i,n);break e}else if(i!==s){s=_n(Error(U(424)),e),_l(s),e=A1(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ne=En(t.firstChild),vt=e,he=!0,ns=null,bn=!0,n=SE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(or(),i===s){e=bi(t,e,n);break e}pt(t,e,i,n)}e=e.child}return e;case 26:return pu(t,e),t===null?(n=$1(e.type,null,e.pendingProps,null))?e.memoizedState=n:he||(n=e.type,t=e.pendingProps,i=ah(ts.current).createElement(n),i[yt]=e,i[Yt]=t,bt(i,n,t),ht(i),e.stateNode=i):e.memoizedState=$1(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Tm(e),t===null&&he&&(i=e.stateNode=rw(e.type,e.pendingProps,ts.current),vt=e,bn=!0,s=Ne,Ns(e.type)?(op=s,Ne=En(i.firstChild)):Ne=s),pt(t,e,e.pendingProps.children,n),pu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&he&&((s=i=Ne)&&(i=I4(i,e.type,e.pendingProps,bn),i!==null?(e.stateNode=i,vt=e,Ne=En(i.firstChild),bn=!1,s=!0):s=!1),s||ys(e)),Tm(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,ip(s,r)?i=null:a!==null&&ip(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=Pg(t,e,GI,null,null,n),wl._currentValue=s),pu(t,e),pt(t,e,i,n),e.child;case 6:return t===null&&he&&((t=n=Ne)&&(n=D4(n,e.pendingProps,bn),n!==null?(e.stateNode=n,vt=e,Ne=null,t=!0):t=!1),t||ys(e)),null;case 13:return dS(t,e,n);case 4:return Lu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=cr(e,null,i,n):pt(t,e,i,n),e.child;case 11:return b1(t,e,e.type,e.pendingProps,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,zi(e,e.type,i.value),pt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,lr(e),s=_t(s),i=i(s),e.flags|=1,pt(t,e,i,n),e.child;case 14:return T1(t,e,e.type,e.pendingProps,n);case 15:return hS(t,e,e.type,e.pendingProps,n);case 19:return mS(t,e,n);case 31:return JI(t,e,n);case 22:return fS(t,e,n,e.pendingProps);case 24:return lr(e),i=_t(Ze),t===null?(s=Ig(),s===null&&(s=Se,r=Ng(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},Og(e),zi(e,Ze,s)):(t.lanes&n&&(jm(t,e),Xo(e,null,null,n),Qo()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),zi(e,Ze,i)):(i=r.cache,zi(e,Ze,i),i!==s.cache&&Pm(e,[Ze],n,!0))),pt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function ei(t){t.flags|=4}function xd(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(US())t.flags|=8192;else throw er=Ku,Dg}else t.flags&=-16777217}function R1(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!lw(e))if(US())t.flags|=8192;else throw er=Ku,Dg}function Bc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?zx():536870912,t.lanes|=e,Ta|=e)}function So(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function t4(t,e,n){var i=e.pendingProps;switch(Rg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Re(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),fi(Ze),pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ir(e)?ei(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dd())),Re(e),null;case 26:var s=e.type,r=e.memoizedState;return t===null?(ei(e),r!==null?(Re(e),R1(e,r)):(Re(e),xd(e,s,null,i,n))):r?r!==t.memoizedState?(ei(e),Re(e),R1(e,r)):(Re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&ei(e),Re(e),xd(e,s,t,i,n)),null;case 27:if(Uu(e),n=ts.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Re(e),null}t=qn.current,Ir(e)?i1(e):(t=rw(s,i,n),e.stateNode=t,ei(e))}return Re(e),null;case 5:if(Uu(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Re(e),null}if(r=qn.current,Ir(e))i1(e);else{var a=ah(ts.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[yt]=e,r[Yt]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(bt(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ei(e)}}return Re(e),xd(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&ei(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(t=ts.current,Ir(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=vt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[yt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||tw(t.nodeValue,n)),t||ys(e,!0)}else t=ah(t).createTextNode(i),t[yt]=e,e.stateNode=t}return Re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Ir(e),n!==null){if(t===null){if(!i)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[yt]=e}else or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),t=!1}else n=dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Jt(e),e):(Jt(e),null);if(e.flags&128)throw Error(U(558))}return Re(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ir(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[yt]=e}else or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),s=!1}else s=dd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Jt(e),e):(Jt(e),null)}return Jt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Bc(e,e.updateQueue),Re(e),null);case 4:return pa(),t===null&&ty(e.stateNode.containerInfo),Re(e),null;case 10:return fi(e.type),Re(e),null;case 19:if(ft(He),i=e.memoizedState,i===null)return Re(e),null;if(s=(e.flags&128)!==0,r=i.rendering,r===null)if(s)So(i,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Yu(t),r!==null){for(e.flags|=128,So(i,!1),t=r.updateQueue,e.updateQueue=t,Bc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)gE(n,t),n=n.sibling;return Ae(He,He.current&1|2),he&&si(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&nn()>eh&&(e.flags|=128,s=!0,So(i,!1),e.lanes=4194304)}else{if(!s)if(t=Yu(r),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Bc(e,t),So(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!he)return Re(e),null}else 2*nn()-i.renderingStartTime>eh&&n!==536870912&&(e.flags|=128,s=!0,So(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=nn(),t.sibling=null,n=He.current,Ae(He,s?n&1|2:n&1),he&&si(e,i.treeForkCount),t):(Re(e),null);case 22:case 23:return Jt(e),Mg(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),n=e.updateQueue,n!==null&&Bc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ft(Js),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),fi(Ze),Re(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function n4(t,e){switch(Rg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fi(Ze),pa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Uu(e),null;case 31:if(e.memoizedState!==null){if(Jt(e),e.alternate===null)throw Error(U(340));or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Jt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(He),null;case 4:return pa(),null;case 10:return fi(e.type),null;case 22:case 23:return Jt(e),Mg(),t!==null&&ft(Js),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return fi(Ze),null;case 25:return null;default:return null}}function gS(t,e){switch(Rg(e),e.tag){case 3:fi(Ze),pa();break;case 26:case 27:case 5:Uu(e);break;case 4:pa();break;case 31:e.memoizedState!==null&&Jt(e);break;case 13:Jt(e);break;case 19:ft(He);break;case 10:fi(e.type);break;case 22:case 23:Jt(e),Mg(),t!==null&&ft(Js);break;case 24:fi(Ze)}}function Xl(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){_e(e,e.return,o)}}function vs(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=e;var c=n,u=o;try{u()}catch(h){_e(s,c,h)}}}i=i.next}while(i!==r)}}catch(h){_e(e,e.return,h)}}function yS(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{AE(e,n)}catch(i){_e(t,t.return,i)}}}function vS(t,e,n){n.props=hr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){_e(t,e,i)}}function Zo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){_e(t,e,s)}}function Fn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){_e(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){_e(t,e,s)}else n.current=null}function _S(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){_e(t,t.return,s)}}function Ed(t,e,n){try{var i=t.stateNode;S4(i,t.type,n,e),i[Yt]=e}catch(s){_e(t,t.return,s)}}function bS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ym(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oi));else if(i!==4&&(i===27&&Ns(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}function Ju(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Ns(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ju(t,e,n),t=t.sibling;t!==null;)Ju(t,e,n),t=t.sibling}function TS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);bt(e,i,n),e[yt]=t,e[Yt]=n}catch(r){_e(t,t.return,r)}}var ri=!1,We=!1,wd=!1,N1=typeof WeakSet=="function"?WeakSet:Set,ut=null;function i4(t,e){if(t=t.containerInfo,tp=uh,t=lE(t),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,h=0,d=t,p=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==r||i!==0&&d.nodeType!==3||(c=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++u===s&&(o=a),p===r&&++h===i&&(c=a),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(np={focusedElem:t,selectionRange:n},uh=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){switch(e=ut,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var v=hr(n.type,s);t=i.getSnapshotBeforeUpdate(v,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(C){_e(n,n.return,C)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)sp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}}function xS(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n),i&4&&Xl(5,n);break;case 1:if(ni(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){_e(n,n.return,a)}else{var s=hr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}i&64&&yS(n),i&512&&Zo(n,n.return);break;case 3:if(ni(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{AE(t,e)}catch(a){_e(n,n.return,a)}}break;case 27:e===null&&i&4&&TS(n);case 26:case 5:ni(t,n),e===null&&i&4&&_S(n),i&512&&Zo(n,n.return);break;case 12:ni(t,n);break;case 31:ni(t,n),i&4&&wS(t,n);break;case 13:ni(t,n),i&4&&AS(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=f4.bind(null,n),O4(t,n))));break;case 22:if(i=n.memoizedState!==null||ri,!i){e=e!==null&&e.memoizedState!==null||We,s=ri;var r=We;ri=i,(We=e)&&!r?ii(t,n,(n.subtreeFlags&8772)!==0):ni(t,n),ri=s,We=r}break;case 30:break;default:ni(t,n)}}function ES(t){var e=t.alternate;e!==null&&(t.alternate=null,ES(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&yg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Me=null,Ft=!1;function ti(t,e,n){for(n=n.child;n!==null;)SS(t,e,n),n=n.sibling}function SS(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ql,n)}catch{}switch(n.tag){case 26:We||Fn(n,e),ti(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||Fn(n,e);var i=Me,s=Ft;Ns(n.type)&&(Me=n.stateNode,Ft=!1),ti(t,e,n),nl(n.stateNode),Me=i,Ft=s;break;case 5:We||Fn(n,e);case 6:if(i=Me,s=Ft,Me=null,ti(t,e,n),Me=i,Ft=s,Me!==null)if(Ft)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(r){_e(n,e,r)}else try{Me.removeChild(n.stateNode)}catch(r){_e(n,e,r)}break;case 18:Me!==null&&(Ft?(t=Me,F1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),wa(t)):F1(Me,n.stateNode));break;case 4:i=Me,s=Ft,Me=n.stateNode.containerInfo,Ft=!0,ti(t,e,n),Me=i,Ft=s;break;case 0:case 11:case 14:case 15:vs(2,n,e),We||vs(4,n,e),ti(t,e,n);break;case 1:We||(Fn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&vS(n,e,i)),ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:We=(i=We)||n.memoizedState!==null,ti(t,e,n),We=i;break;default:ti(t,e,n)}}function wS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wa(t)}catch(n){_e(e,e.return,n)}}}function AS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wa(t)}catch(n){_e(e,e.return,n)}}function s4(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new N1),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new N1),e;default:throw Error(U(435,t.tag))}}function Fc(t,e){var n=s4(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=d4.bind(null,t,i);i.then(s,s)}})}function zt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Ns(o.type)){Me=o.stateNode,Ft=!1;break e}break;case 5:Me=o.stateNode,Ft=!1;break e;case 3:case 4:Me=o.stateNode.containerInfo,Ft=!0;break e}o=o.return}if(Me===null)throw Error(U(160));SS(r,a,s),Me=null,Ft=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)CS(e,t),e=e.sibling}var Rn=null;function CS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zt(e,t),Bt(t),i&4&&(vs(3,t,t.return),Xl(3,t),vs(5,t,t.return));break;case 1:zt(e,t),Bt(t),i&512&&(We||n===null||Fn(n,n.return)),i&64&&ri&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=Rn;if(zt(e,t),Bt(t),i&512&&(We||n===null||Fn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Kl]||r[yt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),bt(r,i,n),r[yt]=t,ht(r),i=r;break e;case"link":var a=Q1("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}r=s.createElement(i),bt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Q1("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}r=s.createElement(i),bt(r,i,n),s.head.appendChild(r);break;default:throw Error(U(468,i))}r[yt]=t,ht(r),i=r}t.stateNode=i}else X1(s,t.type,t.stateNode);else t.stateNode=Y1(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?X1(s,t.type,t.stateNode):Y1(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,n.memoizedProps)}break;case 27:zt(e,t),Bt(t),i&512&&(We||n===null||Fn(n,n.return)),n!==null&&i&4&&Ed(t,t.memoizedProps,n.memoizedProps);break;case 5:if(zt(e,t),Bt(t),i&512&&(We||n===null||Fn(n,n.return)),t.flags&32){s=t.stateNode;try{ya(s,"")}catch(v){_e(t,t.return,v)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Ed(t,s,n!==null?n.memoizedProps:s)),i&1024&&(wd=!0);break;case 6:if(zt(e,t),Bt(t),i&4){if(t.stateNode===null)throw Error(U(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(v){_e(t,t.return,v)}}break;case 3:if(vu=null,s=Rn,Rn=oh(e.containerInfo),zt(e,t),Rn=s,Bt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(e.containerInfo)}catch(v){_e(t,t.return,v)}wd&&(wd=!1,RS(t));break;case 4:i=Rn,Rn=oh(t.stateNode.containerInfo),zt(e,t),Bt(t),Rn=i;break;case 12:zt(e,t),Bt(t);break;case 31:zt(e,t),Bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Fc(t,i)));break;case 13:zt(e,t),Bt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Xh=nn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Fc(t,i)));break;case 22:s=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ri,h=We;if(ri=u||s,We=h||c,zt(e,t),We=h,ri=u,Bt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||c||ri||We||Hs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(r=c.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var d=c.memoizedProps.style,p=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(v){_e(c,c.return,v)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(v){_e(c,c.return,v)}}}else if(e.tag===18){if(n===null){c=e;try{var y=c.stateNode;s?q1(y,!0):q1(c.stateNode,!1)}catch(v){_e(c,c.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Fc(t,n))));break;case 19:zt(e,t),Bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Fc(t,i)));break;case 30:break;case 21:break;default:zt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(bS(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var s=n.stateNode,r=Sd(t);Ju(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(ya(a,""),n.flags&=-33);var o=Sd(t);Ju(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Sd(t);Ym(t,u,c);break;default:throw Error(U(161))}}catch(h){_e(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RS(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;RS(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ni(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)xS(t,e.alternate,e),e=e.sibling}function Hs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vs(4,e,e.return),Hs(e);break;case 1:Fn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&vS(e,e.return,n),Hs(e);break;case 27:nl(e.stateNode);case 26:case 5:Fn(e,e.return),Hs(e);break;case 22:e.memoizedState===null&&Hs(e);break;case 30:Hs(e);break;default:Hs(e)}t=t.sibling}}function ii(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:ii(s,r,n),Xl(4,r);break;case 1:if(ii(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){_e(i,i.return,u)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)wE(c[s],o)}catch(u){_e(i,i.return,u)}}n&&a&64&&yS(r),Zo(r,r.return);break;case 27:TS(r);case 26:case 5:ii(s,r,n),n&&i===null&&a&4&&_S(r),Zo(r,r.return);break;case 12:ii(s,r,n);break;case 31:ii(s,r,n),n&&a&4&&wS(s,r);break;case 13:ii(s,r,n),n&&a&4&&AS(s,r);break;case 22:r.memoizedState===null&&ii(s,r,n),Zo(r,r.return);break;case 30:break;default:ii(s,r,n)}e=e.sibling}}function Qg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Yl(n))}function Xg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Yl(t))}function An(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)NS(t,e,n,i),e=e.sibling}function NS(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:An(t,e,n,i),s&2048&&Xl(9,e);break;case 1:An(t,e,n,i);break;case 3:An(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Yl(t)));break;case 12:if(s&2048){An(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){_e(e,e.return,c)}}else An(t,e,n,i);break;case 31:An(t,e,n,i);break;case 13:An(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?An(t,e,n,i):Jo(t,e):r._visibility&2?An(t,e,n,i):(r._visibility|=2,Mr(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&Qg(a,e);break;case 24:An(t,e,n,i),s&2048&&Xg(e.alternate,e);break;default:An(t,e,n,i)}}function Mr(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,o=n,c=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:Mr(r,a,o,c,s),Xl(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Mr(r,a,o,c,s):Jo(r,a):(h._visibility|=2,Mr(r,a,o,c,s)),s&&u&2048&&Qg(a.alternate,a);break;case 24:Mr(r,a,o,c,s),s&&u&2048&&Xg(a.alternate,a);break;default:Mr(r,a,o,c,s)}e=e.sibling}}function Jo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:Jo(n,i),s&2048&&Qg(i.alternate,i);break;case 24:Jo(n,i),s&2048&&Xg(i.alternate,i);break;default:Jo(n,i)}e=e.sibling}}var Mo=8192;function Dr(t,e,n){if(t.subtreeFlags&Mo)for(t=t.child;t!==null;)IS(t,e,n),t=t.sibling}function IS(t,e,n){switch(t.tag){case 26:Dr(t,e,n),t.flags&Mo&&t.memoizedState!==null&&H4(n,Rn,t.memoizedState,t.memoizedProps);break;case 5:Dr(t,e,n);break;case 3:case 4:var i=Rn;Rn=oh(t.stateNode.containerInfo),Dr(t,e,n),Rn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Mo,Mo=16777216,Dr(t,e,n),Mo=i):Dr(t,e,n));break;default:Dr(t,e,n)}}function DS(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,MS(i,t)}DS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)OS(t),t=t.sibling}function OS(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&vs(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,gu(t)):wo(t);break;default:wo(t)}}function gu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,MS(i,t)}DS(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vs(8,e,e.return),gu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,gu(e));break;default:gu(e)}t=t.sibling}}function MS(t,e){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:vs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Yl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ut=i;else e:for(n=t;ut!==null;){i=ut;var s=i.sibling,r=i.return;if(ES(i),i===n){ut=null;break e}if(s!==null){s.return=r,ut=s;break e}ut=r}}}var r4={getCacheForType:function(t){var e=_t(Ze),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return _t(Ze).controller.signal}},a4=typeof WeakMap=="function"?WeakMap:Map,ge=0,Se=null,oe=null,ce=0,ve=0,Wt=null,Xi=!1,qa=!1,Wg=!1,Ti=0,ze=0,_s=0,tr=0,Zg=0,tn=0,Ta=0,el=null,qt=null,Qm=!1,Xh=0,kS=0,eh=1/0,th=null,rs=null,it=0,as=null,xa=null,di=0,Xm=0,Wm=null,PS=null,tl=0,Zm=null;function an(){return ge&2&&ce!==0?ce&-ce:J.T!==null?ey():Hx()}function VS(){if(tn===0)if(!(ce&536870912)||he){var t=kc;kc<<=1,!(kc&3932160)&&(kc=262144),tn=t}else tn=536870912;return t=un.current,t!==null&&(t.flags|=32),tn}function Gt(t,e,n){(t===Se&&(ve===2||ve===9)||t.cancelPendingCommit!==null)&&(Ea(t,0),Wi(t,ce,tn,!1)),Gl(t,n),(!(ge&2)||t!==Se)&&(t===Se&&(!(ge&2)&&(tr|=n),ze===4&&Wi(t,ce,tn,!1)),Zn(t))}function jS(t,e,n){if(ge&6)throw Error(U(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Hl(t,e),s=i?c4(t,e):Ad(t,e,!0),r=i;do{if(s===0){qa&&!i&&Wi(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!o4(n)){s=Ad(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;s=el;var c=o.current.memoizedState.isDehydrated;if(c&&(Ea(o,a).flags|=256),a=Ad(o,a,!1),a!==2){if(Wg&&!c){o.errorRecoveryDisabledLanes|=r,tr|=r,s=4;break e}r=qt,qt=s,r!==null&&(qt===null?qt=r:qt.push.apply(qt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Ea(t,0),Wi(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Wi(i,e,tn,!Xi);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(s=Xh+300-nn(),10<s)){if(Wi(i,e,tn,!Xi),Uh(i,0,!0)!==0)break e;di=e,i.timeoutHandle=iw(I1.bind(null,i,n,qt,th,Qm,e,tn,tr,Ta,Xi,r,"Throttled",-0,0),s);break e}I1(i,n,qt,th,Qm,e,tn,tr,Ta,Xi,r,null,-0,0)}}break}while(!0);Zn(t)}function I1(t,e,n,i,s,r,a,o,c,u,h,d,p,y){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},IS(e,r,d);var v=(r&62914560)===r?Xh-nn():(r&4194048)===r?kS-nn():0;if(v=G4(d,v),v!==null){di=r,t.cancelPendingCommit=v(O1.bind(null,t,e,r,n,i,s,a,o,c,h,d,null,p,y)),Wi(t,r,a,!u);return}}O1(t,e,r,n,i,s,a,o,c)}function o4(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!cn(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e,n,i){e&=~Zg,e&=~tr,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-rn(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&Bx(t,n,e)}function Wh(){return ge&6?!0:(Wl(0),!1)}function Jg(){if(oe!==null){if(ve===0)var t=oe.return;else t=oe,li=Er=null,Lg(t),oa=null,bl=0,t=oe;for(;t!==null;)gS(t.alternate,t),t=t.return;oe=null}}function Ea(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,C4(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),di=0,Jg(),Se=t,oe=n=hi(t.current,null),ce=e,ve=0,Wt=null,Xi=!1,qa=Hl(t,e),Wg=!1,Ta=tn=Zg=tr=_s=ze=0,qt=el=null,Qm=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-rn(i),r=1<<s;e|=t[s],i&=~r}return Ti=e,qh(),n}function LS(t,e){se=null,J.H=xl,e===Fa||e===Gh?(e=l1(),ve=3):e===Dg?(e=l1(),ve=4):ve=e===$g?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Wt=e,oe===null&&(ze=1,Wu(t,_n(e,t.current)))}function US(){var t=un.current;return t===null?!0:(ce&4194048)===ce?xn===null:(ce&62914560)===ce||ce&536870912?t===xn:!1}function zS(){var t=J.H;return J.H=xl,t===null?xl:t}function BS(){var t=J.A;return J.A=r4,t}function nh(){ze=4,Xi||(ce&4194048)!==ce&&un.current!==null||(qa=!0),!(_s&134217727)&&!(tr&134217727)||Se===null||Wi(Se,ce,tn,!1)}function Ad(t,e,n){var i=ge;ge|=2;var s=zS(),r=BS();(Se!==t||ce!==e)&&(th=null,Ea(t,e)),e=!1;var a=ze;e:do try{if(ve!==0&&oe!==null){var o=oe,c=Wt;switch(ve){case 8:Jg(),a=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(e=!0);var u=ve;if(ve=0,Wt=null,Xr(t,o,c,u),n&&qa){a=0;break e}break;default:u=ve,ve=0,Wt=null,Xr(t,o,c,u)}}l4(),a=ze;break}catch(h){LS(t,h)}while(!0);return e&&t.shellSuspendCounter++,li=Er=null,ge=i,J.H=s,J.A=r,oe===null&&(Se=null,ce=0,qh()),a}function l4(){for(;oe!==null;)FS(oe)}function c4(t,e){var n=ge;ge|=2;var i=zS(),s=BS();Se!==t||ce!==e?(th=null,eh=nn()+500,Ea(t,e)):qa=Hl(t,e);e:do try{if(ve!==0&&oe!==null){e=oe;var r=Wt;t:switch(ve){case 1:ve=0,Wt=null,Xr(t,e,r,1);break;case 2:case 9:if(o1(r)){ve=0,Wt=null,D1(e);break}e=function(){ve!==2&&ve!==9||Se!==t||(ve=7),Zn(t)},r.then(e,e);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:o1(r)?(ve=0,Wt=null,D1(e)):(ve=0,Wt=null,Xr(t,e,r,7));break;case 5:var a=null;switch(oe.tag){case 26:a=oe.memoizedState;case 5:case 27:var o=oe;if(a?lw(a):o.stateNode.complete){ve=0,Wt=null;var c=o.sibling;if(c!==null)oe=c;else{var u=o.return;u!==null?(oe=u,Zh(u)):oe=null}break t}}ve=0,Wt=null,Xr(t,e,r,5);break;case 6:ve=0,Wt=null,Xr(t,e,r,6);break;case 8:Jg(),ze=6;break e;default:throw Error(U(462))}}u4();break}catch(h){LS(t,h)}while(!0);return li=Er=null,J.H=i,J.A=s,ge=n,oe!==null?0:(Se=null,ce=0,qh(),ze)}function u4(){for(;oe!==null&&!MN();)FS(oe)}function FS(t){var e=pS(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?Zh(t):oe=e}function D1(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=S1(n,e,e.pendingProps,e.type,void 0,ce);break;case 11:e=S1(n,e,e.pendingProps,e.type.render,e.ref,ce);break;case 5:Lg(e);default:gS(n,e),e=oe=gE(e,Ti),e=pS(n,e,Ti)}t.memoizedProps=t.pendingProps,e===null?Zh(t):oe=e}function Xr(t,e,n,i){li=Er=null,Lg(e),oa=null,bl=0;var s=e.return;try{if(ZI(t,s,e,n,ce)){ze=1,Wu(t,_n(n,t.current)),oe=null;return}}catch(r){if(s!==null)throw oe=s,r;ze=1,Wu(t,_n(n,t.current)),oe=null;return}e.flags&32768?(he||i===1?t=!0:qa||ce&536870912?t=!1:(Xi=t=!0,(i===2||i===9||i===3||i===6)&&(i=un.current,i!==null&&i.tag===13&&(i.flags|=16384))),qS(e,t)):Zh(e)}function Zh(t){var e=t;do{if(e.flags&32768){qS(e,Xi);return}t=e.return;var n=t4(e.alternate,e,Ti);if(n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);ze===0&&(ze=5)}function qS(t,e){do{var n=n4(t.alternate,t);if(n!==null){n.flags&=32767,oe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){oe=t;return}oe=t=n}while(t!==null);ze=6,oe=null}function O1(t,e,n,i,s,r,a,o,c){t.cancelPendingCommit=null;do Jh();while(it!==0);if(ge&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(r=e.lanes|e.childLanes,r|=Sg,qN(t,n,r,a,o,c),t===Se&&(oe=Se=null,ce=0),xa=e,as=t,di=n,Xm=r,Wm=s,PS=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,m4(zu,function(){return YS(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=J.T,J.T=null,s=ye.p,ye.p=2,a=ge,ge|=4;try{i4(t,e,n)}finally{ge=a,ye.p=s,J.T=i}}it=1,HS(),GS(),KS()}}function HS(){if(it===1){it=0;var t=as,e=xa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=J.T,J.T=null;var i=ye.p;ye.p=2;var s=ge;ge|=4;try{CS(e,t);var r=np,a=lE(t.containerInfo),o=r.focusedElem,c=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&oE(o.ownerDocument.documentElement,o)){if(c!==null&&Eg(o)){var u=c.start,h=c.end;if(h===void 0&&(h=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var y=p.getSelection(),v=o.textContent.length,C=Math.min(c.start,v),R=c.end===void 0?C:Math.min(c.end,v);!y.extend&&C>R&&(a=R,R=C,C=a);var b=e1(o,C),T=e1(o,R);if(b&&T&&(y.rangeCount!==1||y.anchorNode!==b.node||y.anchorOffset!==b.offset||y.focusNode!==T.node||y.focusOffset!==T.offset)){var S=d.createRange();S.setStart(b.node,b.offset),y.removeAllRanges(),C>R?(y.addRange(S),y.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),y.addRange(S))}}}}for(d=[],y=o;y=y.parentNode;)y.nodeType===1&&d.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}uh=!!tp,np=tp=null}finally{ge=s,ye.p=i,J.T=n}}t.current=e,it=2}}function GS(){if(it===2){it=0;var t=as,e=xa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=J.T,J.T=null;var i=ye.p;ye.p=2;var s=ge;ge|=4;try{xS(t,e.alternate,e)}finally{ge=s,ye.p=i,J.T=n}}it=3}}function KS(){if(it===4||it===3){it=0,kN();var t=as,e=xa,n=di,i=PS;e.subtreeFlags&10256||e.flags&10256?it=5:(it=0,xa=as=null,$S(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(rs=null),gg(n),e=e.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ql,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=J.T,s=ye.p,ye.p=2,J.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{J.T=e,ye.p=s}}di&3&&Jh(),Zn(t),s=t.pendingLanes,n&261930&&s&42?t===Zm?tl++:(tl=0,Zm=t):tl=0,Wl(0)}}function $S(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Yl(e)))}function Jh(){return HS(),GS(),KS(),YS()}function YS(){if(it!==5)return!1;var t=as,e=Xm;Xm=0;var n=gg(di),i=J.T,s=ye.p;try{ye.p=32>n?32:n,J.T=null,n=Wm,Wm=null;var r=as,a=di;if(it=0,xa=as=null,di=0,ge&6)throw Error(U(331));var o=ge;if(ge|=4,OS(r.current),NS(r,r.current,a,n),ge=o,Wl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ql,r)}catch{}return!0}finally{ye.p=s,J.T=i,$S(t,e)}}function M1(t,e,n){e=_n(n,e),e=Gm(t.stateNode,e,2),t=ss(t,e,2),t!==null&&(Gl(t,2),Zn(t))}function _e(t,e,n){if(t.tag===3)M1(t,t,n);else for(;e!==null;){if(e.tag===3){M1(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rs===null||!rs.has(i))){t=_n(n,t),n=cS(2),i=ss(e,n,2),i!==null&&(uS(n,i,e,t),Gl(i,2),Zn(i));break}}e=e.return}}function Cd(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new a4;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Wg=!0,s.add(n),t=h4.bind(null,t,e,n),e.then(t,t))}function h4(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Se===t&&(ce&n)===n&&(ze===4||ze===3&&(ce&62914560)===ce&&300>nn()-Xh?!(ge&2)&&Ea(t,0):Zg|=n,Ta===ce&&(Ta=0)),Zn(t)}function QS(t,e){e===0&&(e=zx()),t=xr(t,e),t!==null&&(Gl(t,e),Zn(t))}function f4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QS(t,n)}function d4(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(e),QS(t,n)}function m4(t,e){return mg(t,e)}var ih=null,kr=null,Jm=!1,sh=!1,Rd=!1,Zi=0;function Zn(t){t!==kr&&t.next===null&&(kr===null?ih=kr=t:kr=kr.next=t),sh=!0,Jm||(Jm=!0,g4())}function Wl(t,e){if(!Rd&&sh){Rd=!0;do for(var n=!1,i=ih;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-rn(42|t)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,k1(i,r))}else r=ce,r=Uh(i,i===Se?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Hl(i,r)||(n=!0,k1(i,r));i=i.next}while(n);Rd=!1}}function p4(){XS()}function XS(){sh=Jm=!1;var t=0;Zi!==0&&A4()&&(t=Zi);for(var e=nn(),n=null,i=ih;i!==null;){var s=i.next,r=WS(i,e);r===0?(i.next=null,n===null?ih=s:n.next=s,s===null&&(kr=n)):(n=i,(t!==0||r&3)&&(sh=!0)),i=s}it!==0&&it!==5||Wl(t),Zi!==0&&(Zi=0)}function WS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-rn(r),o=1<<a,c=s[a];c===-1?(!(o&n)||o&i)&&(s[a]=FN(o,e)):c<=e&&(t.expiredLanes|=o),r&=~o}if(e=Se,n=ce,n=Uh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ve===2||ve===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&nd(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Hl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&nd(i),gg(n)){case 2:case 8:n=Lx;break;case 32:n=zu;break;case 268435456:n=Ux;break;default:n=zu}return i=ZS.bind(null,t),n=mg(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&nd(i),t.callbackPriority=2,t.callbackNode=null,2}function ZS(t,e){if(it!==0&&it!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Jh()&&t.callbackNode!==n)return null;var i=ce;return i=Uh(t,t===Se?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(jS(t,i,e),WS(t,nn()),t.callbackNode!=null&&t.callbackNode===n?ZS.bind(null,t):null)}function k1(t,e){if(Jh())return null;jS(t,e,!0)}function g4(){R4(function(){ge&6?mg(jx,p4):XS()})}function ey(){if(Zi===0){var t=va;t===0&&(t=Mc,Mc<<=1,!(Mc&261888)&&(Mc=256)),Zi=t}return Zi}function P1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ou(""+t)}function V1(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function y4(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=P1((s[Yt]||null).action),a=i.submitter;a&&(e=(e=a[Yt]||null)?P1(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var o=new zh("action","action",null,i,s);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Zi!==0){var c=a?V1(s,a):new FormData(s);qm(n,{pending:!0,data:c,method:s.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=a?V1(s,a):new FormData(s),qm(n,{pending:!0,data:c,method:s.method,action:r},r,c))},currentTarget:s}]})}}for(var Nd=0;Nd<Dm.length;Nd++){var Id=Dm[Nd],v4=Id.toLowerCase(),_4=Id[0].toUpperCase()+Id.slice(1);Dn(v4,"on"+_4)}Dn(uE,"onAnimationEnd");Dn(hE,"onAnimationIteration");Dn(fE,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(PI,"onTransitionRun");Dn(VI,"onTransitionStart");Dn(jI,"onTransitionCancel");Dn(dE,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function JS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=u;try{r(s)}catch(h){Fu(h)}s.currentTarget=null,r=c}else for(a=0;a<i.length;a++){if(o=i[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=u;try{r(s)}catch(h){Fu(h)}s.currentTarget=null,r=c}}}}function ae(t,e){var n=e[Em];n===void 0&&(n=e[Em]=new Set);var i=t+"__bubble";n.has(i)||(ew(e,t,2,!1),n.add(i))}function Dd(t,e,n){var i=0;e&&(i|=4),ew(n,t,i,e)}var qc="_reactListening"+Math.random().toString(36).slice(2);function ty(t){if(!t[qc]){t[qc]=!0,Gx.forEach(function(n){n!=="selectionchange"&&(b4.has(n)||Dd(n,!1,t),Dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qc]||(e[qc]=!0,Dd("selectionchange",!1,e))}}function ew(t,e,n,i){switch(dw(e)){case 2:var s=Y4;break;case 8:s=Q4;break;default:s=ry}n=s.bind(null,e,n,t),s=void 0,!Rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Od(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Br(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=r=a;continue e}o=o.parentNode}}i=i.return}Jx(function(){var u=r,h=_g(n),d=[];e:{var p=mE.get(t);if(p!==void 0){var y=zh,v=t;switch(t){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":y=dI;break;case"focusin":v="focus",y=od;break;case"focusout":v="blur",y=od;break;case"beforeblur":case"afterblur":y=od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=tI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gI;break;case uE:case hE:case fE:y=sI;break;case dE:y=vI;break;case"scroll":case"scrollend":y=JN;break;case"wheel":y=bI;break;case"copy":case"cut":case"paste":y=aI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Kv;break;case"toggle":case"beforetoggle":y=xI}var C=(e&4)!==0,R=!C&&(t==="scroll"||t==="scrollend"),b=C?p!==null?p+"Capture":null:p;C=[];for(var T=u,S;T!==null;){var w=T;if(S=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||S===null||b===null||(w=pl(T,b),w!=null&&C.push(Sl(T,w,S))),R)break;T=T.return}0<C.length&&(p=new y(p,v,null,n,h),d.push({event:p,listeners:C}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Cm&&(v=n.relatedTarget||n.fromElement)&&(Br(v)||v[Ua]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Br(v):null,v!==null&&(R=Fl(v),C=v.tag,v!==R||C!==5&&C!==27&&C!==6)&&(v=null)):(y=null,v=u),y!==v)){if(C=Hv,w="onMouseLeave",b="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(C=Kv,w="onPointerLeave",b="onPointerEnter",T="pointer"),R=y==null?p:Do(y),S=v==null?p:Do(v),p=new C(w,T+"leave",y,n,h),p.target=R,p.relatedTarget=S,w=null,Br(h)===u&&(C=new C(b,T+"enter",v,n,h),C.target=S,C.relatedTarget=R,w=C),R=w,y&&v)t:{for(C=T4,b=y,T=v,S=0,w=b;w;w=C(w))S++;w=0;for(var N=T;N;N=C(N))w++;for(;0<S-w;)b=C(b),S--;for(;0<w-S;)T=C(T),w--;for(;S--;){if(b===T||T!==null&&b===T.alternate){C=b;break t}b=C(b),T=C(T)}C=null}else C=null;y!==null&&j1(d,p,y,C,!1),v!==null&&R!==null&&j1(d,R,v,C,!0)}}e:{if(p=u?Do(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var k=Xv;else if(Qv(p))if(rE)k=OI;else{k=II;var x=NI}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&vg(u.elementType)&&(k=Xv):k=DI;if(k&&(k=k(t,u))){sE(d,k,n,h);break e}x&&x(t,p,u),t==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&Am(p,"number",p.value)}switch(x=u?Do(u):window,t){case"focusin":(Qv(x)||x.contentEditable==="true")&&(Hr=x,Nm=u,Ko=null);break;case"focusout":Ko=Nm=Hr=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,t1(d,n,h);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":t1(d,n,h)}var _;if(xg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qr?nE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(tE&&n.locale!=="ko"&&(qr||E!=="onCompositionStart"?E==="onCompositionEnd"&&qr&&(_=eE()):(Qi=h,bg="value"in Qi?Qi.value:Qi.textContent,qr=!0)),x=rh(u,E),0<x.length&&(E=new Gv(E,t,null,n,h),d.push({event:E,listeners:x}),_?E.data=_:(_=iE(n),_!==null&&(E.data=_)))),(_=SI?wI(t,n):AI(t,n))&&(E=rh(u,"onBeforeInput"),0<E.length&&(x=new Gv("onBeforeInput","beforeinput",null,n,h),d.push({event:x,listeners:E}),x.data=_)),y4(d,t,u,n,h)}JS(d,e)})}function Sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rh(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=pl(t,n),s!=null&&i.unshift(Sl(t,s,r)),s=pl(t,e),s!=null&&i.push(Sl(t,s,r))),t.tag===3)return i;t=t.return}return[]}function T4(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j1(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===i)break;o!==5&&o!==26&&o!==27||u===null||(c=u,s?(u=pl(n,r),u!=null&&a.unshift(Sl(n,u,c))):s||(u=pl(n,r),u!=null&&a.push(Sl(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var x4=/\r\n?/g,E4=/\u0000|\uFFFD/g;function L1(t){return(typeof t=="string"?t:""+t).replace(x4,`
`).replace(E4,"")}function tw(t,e){return e=L1(e),L1(t)===e}function be(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||ya(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&ya(t,""+i);break;case"className":Vc(t,"class",i);break;case"tabIndex":Vc(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Vc(t,n,i);break;case"style":Zx(t,i,r);break;case"data":if(e!=="object"){Vc(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=ou(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&be(t,e,"name",s.name,s,null),be(t,e,"formEncType",s.formEncType,s,null),be(t,e,"formMethod",s.formMethod,s,null),be(t,e,"formTarget",s.formTarget,s,null)):(be(t,e,"encType",s.encType,s,null),be(t,e,"method",s.method,s,null),be(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=ou(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=oi);break;case"onScroll":i!=null&&ae("scroll",t);break;case"onScrollEnd":i!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=ou(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ae("beforetoggle",t),ae("toggle",t),au(t,"popover",i);break;case"xlinkActuate":Jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Jn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Jn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Jn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Jn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":au(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=WN.get(n)||n,au(t,n,i))}}function ep(t,e,n,i,s,r){switch(n){case"style":Zx(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ya(t,i):(typeof i=="number"||typeof i=="bigint")&&ya(t,""+i);break;case"onScroll":i!=null&&ae("scroll",t);break;case"onScrollEnd":i!=null&&ae("scrollend",t);break;case"onClick":i!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Yt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):au(t,n,i)}}}function bt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:be(t,e,r,a,n,null)}}s&&be(t,e,"srcSet",n.srcSet,n,null),i&&be(t,e,"src",n.src,n,null);return;case"input":ae("invalid",t);var o=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(U(137,e));break;default:be(t,e,i,h,n,null)}}Qx(t,r,o,c,u,a,s,!1);return;case"select":ae("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:be(t,e,s,o,n,null)}e=r,n=a,t.multiple=!!i,e!=null?sa(t,!!i,e,!1):n!=null&&sa(t,!!i,n,!0);return;case"textarea":ae("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:be(t,e,a,o,n,null)}Wx(t,i,s,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:be(t,e,c,i,n,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(i=0;i<El.length;i++)ae(El[i],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:be(t,e,u,i,n,null)}return;default:if(vg(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&ep(t,e,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&be(t,e,o,i,n,null))}function S4(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,c=null,u=null,h=null;for(y in n){var d=n[y];if(n.hasOwnProperty(y)&&d!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(y)||be(t,e,y,null,i,d)}}for(var p in i){var y=i[p];if(d=n[p],i.hasOwnProperty(p)&&(y!=null||d!=null))switch(p){case"type":r=y;break;case"name":s=y;break;case"checked":u=y;break;case"defaultChecked":h=y;break;case"value":a=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(U(137,e));break;default:y!==d&&be(t,e,p,y,i,d)}}wm(t,a,o,c,u,h,r,s);return;case"select":y=a=o=p=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":y=c;default:i.hasOwnProperty(r)||be(t,e,r,null,i,c)}for(s in i)if(r=i[s],c=n[s],i.hasOwnProperty(s)&&(r!=null||c!=null))switch(s){case"value":p=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==c&&be(t,e,s,r,i,c)}e=o,n=a,i=y,p!=null?sa(t,!!n,p,!1):!!i!=!!n&&(e!=null?sa(t,!!n,e,!0):sa(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:be(t,e,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":p=s;break;case"defaultValue":y=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:s!==r&&be(t,e,a,s,i,r)}Xx(t,p,y);return;case"option":for(var v in n)if(p=n[v],n.hasOwnProperty(v)&&p!=null&&!i.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:be(t,e,v,null,i,p)}for(c in i)if(p=i[c],y=n[c],i.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:be(t,e,c,p,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)p=n[C],n.hasOwnProperty(C)&&p!=null&&!i.hasOwnProperty(C)&&be(t,e,C,null,i,p);for(u in i)if(p=i[u],y=n[u],i.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:be(t,e,u,p,i,y)}return;default:if(vg(e)){for(var R in n)p=n[R],n.hasOwnProperty(R)&&p!==void 0&&!i.hasOwnProperty(R)&&ep(t,e,R,void 0,i,p);for(h in i)p=i[h],y=n[h],!i.hasOwnProperty(h)||p===y||p===void 0&&y===void 0||ep(t,e,h,p,i,y);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!i.hasOwnProperty(b)&&be(t,e,b,null,i,p);for(d in i)p=i[d],y=n[d],!i.hasOwnProperty(d)||p===y||p==null&&y==null||be(t,e,d,p,i,y)}function U1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w4(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&U1(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var c=n[i],u=c.startTime;if(u>o)break;var h=c.transferSize,d=c.initiatorType;h&&U1(d)&&(c=c.responseEnd,a+=h*(c<o?1:(o-u)/(c-u)))}if(--i,e+=8*(r+a)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tp=null,np=null;function ah(t){return t.nodeType===9?t:t.ownerDocument}function z1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Md=null;function A4(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var iw=typeof setTimeout=="function"?setTimeout:void 0,C4=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,R4=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(t){return B1.resolve(null).then(t).catch(N4)}:iw;function N4(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function F1(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),wa(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")nl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,nl(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[Kl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&nl(t.ownerDocument.body);n=s}while(n);wa(e)}function q1(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function sp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sp(n),yg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function I4(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Kl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=En(t.nextSibling),t===null)break}return null}function D4(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=En(t.nextSibling),t===null))return null;return t}function sw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=En(t.nextSibling),t===null))return null;return t}function rp(t){return t.data==="$?"||t.data==="$~"}function ap(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O4(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var op=null;function H1(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return En(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function G1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function rw(t,e,n){switch(e=ah(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function nl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);yg(t)}var Sn=new Map,K1=new Set;function oh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=ye.d;ye.d={f:M4,r:k4,D:P4,C:V4,L:j4,m:L4,X:z4,S:U4,M:B4};function M4(){var t=Ai.f(),e=Wh();return t||e}function k4(t){var e=za(t);e!==null&&e.tag===5&&e.type==="form"?ZE(e):Ai.r(t)}var Ha=typeof document>"u"?null:document;function aw(t,e,n){var i=Ha;if(i&&typeof e=="string"&&e){var s=vn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),K1.has(s)||(K1.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),bt(e,"link",t),ht(e),i.head.appendChild(e)))}}function P4(t){Ai.D(t),aw("dns-prefetch",t,null)}function V4(t,e){Ai.C(t,e),aw("preconnect",t,e)}function j4(t,e,n){Ai.L(t,e,n);var i=Ha;if(i&&t&&e){var s='link[rel="preload"][as="'+vn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+vn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+vn(n.imageSizes)+'"]')):s+='[href="'+vn(t)+'"]';var r=s;switch(e){case"style":r=Sa(t);break;case"script":r=Ga(t)}Sn.has(r)||(t=Oe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Sn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Zl(r))||e==="script"&&i.querySelector(Jl(r))||(e=i.createElement("link"),bt(e,"link",t),ht(e),i.head.appendChild(e)))}}function L4(t,e){Ai.m(t,e);var n=Ha;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+vn(i)+'"][href="'+vn(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ga(t)}if(!Sn.has(r)&&(t=Oe({rel:"modulepreload",href:t},e),Sn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jl(r)))return}i=n.createElement("link"),bt(i,"link",t),ht(i),n.head.appendChild(i)}}}function U4(t,e,n){Ai.S(t,e,n);var i=Ha;if(i&&t){var s=ia(i).hoistableStyles,r=Sa(t);e=e||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Zl(r)))o.loading=5;else{t=Oe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Sn.get(r))&&ny(t,n);var c=a=i.createElement("link");ht(c),bt(c,"link",t),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,yu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function z4(t,e){Ai.X(t,e);var n=Ha;if(n&&t){var i=ia(n).hoistableScripts,s=Ga(t),r=i.get(s);r||(r=n.querySelector(Jl(s)),r||(t=Oe({src:t,async:!0},e),(e=Sn.get(s))&&iy(t,e),r=n.createElement("script"),ht(r),bt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function B4(t,e){Ai.M(t,e);var n=Ha;if(n&&t){var i=ia(n).hoistableScripts,s=Ga(t),r=i.get(s);r||(r=n.querySelector(Jl(s)),r||(t=Oe({src:t,async:!0,type:"module"},e),(e=Sn.get(s))&&iy(t,e),r=n.createElement("script"),ht(r),bt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function $1(t,e,n,i){var s=(s=ts.current)?oh(s):null;if(!s)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Sa(n.href),n=ia(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Sa(n.href);var r=ia(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(Zl(t)))&&!r._p&&(a.instance=r,a.state.loading=5),Sn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sn.set(t,n),r||F4(s,t,n,a.state))),e&&i===null)throw Error(U(528,""));return a}if(e&&i!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ga(n),n=ia(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function Sa(t){return'href="'+vn(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function ow(t){return Oe({},t,{"data-precedence":t.precedence,precedence:null})}function F4(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),bt(e,"link",n),ht(e),t.head.appendChild(e))}function Ga(t){return'[src="'+vn(t)+'"]'}function Jl(t){return"script[async]"+t}function Y1(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+vn(n.href)+'"]');if(i)return e.instance=i,ht(i),i;var s=Oe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ht(i),bt(i,"style",s),yu(i,n.precedence,t),e.instance=i;case"stylesheet":s=Sa(n.href);var r=t.querySelector(Zl(s));if(r)return e.state.loading|=4,e.instance=r,ht(r),r;i=ow(n),(s=Sn.get(s))&&ny(i,s),r=(t.ownerDocument||t).createElement("link"),ht(r);var a=r;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),bt(r,"link",i),e.state.loading|=4,yu(r,n.precedence,t),e.instance=r;case"script":return r=Ga(n.src),(s=t.querySelector(Jl(r)))?(e.instance=s,ht(s),s):(i=n,(s=Sn.get(r))&&(i=Oe({},n),iy(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ht(s),bt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,yu(i,n.precedence,t));return e.instance}function yu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===e)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function ny(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function iy(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vu=null;function Q1(t,e,n){if(vu===null){var i=new Map,s=vu=new Map;s.set(n,i)}else s=vu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[Kl]||r[yt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function X1(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function q4(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function lw(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function H4(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Sa(i.href),r=e.querySelector(Zl(s));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=lh.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,ht(r);return}r=e.ownerDocument||e,i=ow(i),(s=Sn.get(s))&&ny(i,s),r=r.createElement("link"),ht(r);var a=r;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),bt(r,"link",i),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=lh.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var kd=0;function G4(t,e){return t.stylesheets&&t.count===0&&_u(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&kd===0&&(kd=62500*w4());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_u(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>kd?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function _u(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,e.forEach(K4,t),ch=null,lh.call(t))}function K4(t,e){if(!(e.state.loading&4)){var n=ch.get(t);if(n)var i=n.get(null);else{n=new Map,ch.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=lh.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var wl={$$typeof:ai,Provider:null,Consumer:null,_currentValue:Ws,_currentValue2:Ws,_threadCount:0};function $4(t,e,n,i,s,r,a,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=id(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=id(0),this.hiddenUpdates=id(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function cw(t,e,n,i,s,r,a,o,c,u,h,d){return t=new $4(t,e,n,a,c,u,h,d,o),e=1,r===!0&&(e|=24),r=en(3,null,null,e),t.current=r,r.stateNode=t,e=Ng(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},Og(r),t}function uw(t){return t?(t=$r,t):$r}function hw(t,e,n,i,s,r){s=uw(s),i.context===null?i.context=s:i.pendingContext=s,i=is(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ss(t,i,e),n!==null&&(Gt(n,t,e),Yo(n,t,e))}function W1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sy(t,e){W1(t,e),(t=t.alternate)&&W1(t,e)}function fw(t){if(t.tag===13||t.tag===31){var e=xr(t,67108864);e!==null&&Gt(e,t,67108864),sy(t,67108864)}}function Z1(t){if(t.tag===13||t.tag===31){var e=an();e=pg(e);var n=xr(t,e);n!==null&&Gt(n,t,e),sy(t,e)}}var uh=!0;function Y4(t,e,n,i){var s=J.T;J.T=null;var r=ye.p;try{ye.p=2,ry(t,e,n,i)}finally{ye.p=r,J.T=s}}function Q4(t,e,n,i){var s=J.T;J.T=null;var r=ye.p;try{ye.p=8,ry(t,e,n,i)}finally{ye.p=r,J.T=s}}function ry(t,e,n,i){if(uh){var s=lp(i);if(s===null)Od(t,e,i,hh,n),J1(t,i);else if(W4(s,t,e,n,i))i.stopPropagation();else if(J1(t,i),e&4&&-1<X4.indexOf(t)){for(;s!==null;){var r=za(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Fs(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-rn(a);o.entanglements[1]|=c,a&=~c}Zn(r),!(ge&6)&&(eh=nn()+500,Wl(0))}}break;case 31:case 13:o=xr(r,2),o!==null&&Gt(o,r,2),Wh(),sy(r,2)}if(r=lp(i),r===null&&Od(t,e,i,hh,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Od(t,e,i,null,n)}}function lp(t){return t=_g(t),ay(t)}var hh=null;function ay(t){if(hh=null,t=Br(t),t!==null){var e=Fl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Ox(e),t!==null)return t;t=null}else if(n===31){if(t=Mx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return hh=t,null}function dw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(PN()){case jx:return 2;case Lx:return 8;case zu:case VN:return 32;case Ux:return 268435456;default:return 32}default:return 32}}var cp=!1,os=null,ls=null,cs=null,Al=new Map,Cl=new Map,qi=[],X4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J1(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Ao(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=za(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function W4(t,e,n,i,s){switch(e){case"focusin":return os=Ao(os,t,e,n,i,s),!0;case"dragenter":return ls=Ao(ls,t,e,n,i,s),!0;case"mouseover":return cs=Ao(cs,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Al.set(r,Ao(Al.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Cl.set(r,Ao(Cl.get(r)||null,t,e,n,i,s)),!0}return!1}function mw(t){var e=Br(t.target);if(e!==null){var n=Fl(e);if(n!==null){if(e=n.tag,e===13){if(e=Ox(n),e!==null){t.blockedOn=e,jv(t.priority,function(){Z1(n)});return}}else if(e===31){if(e=Mx(n),e!==null){t.blockedOn=e,jv(t.priority,function(){Z1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lp(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Cm=i,n.target.dispatchEvent(i),Cm=null}else return e=za(n),e!==null&&fw(e),t.blockedOn=n,!1;e.shift()}return!0}function e_(t,e,n){bu(t)&&n.delete(e)}function Z4(){cp=!1,os!==null&&bu(os)&&(os=null),ls!==null&&bu(ls)&&(ls=null),cs!==null&&bu(cs)&&(cs=null),Al.forEach(e_),Cl.forEach(e_)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,cp||(cp=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Z4)))}var Gc=null;function t_(t){Gc!==t&&(Gc=t,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(ay(i||n)===null)continue;break}var r=za(n);r!==null&&(t.splice(e,3),e-=3,qm(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function wa(t){function e(c){return Hc(c,t)}os!==null&&Hc(os,t),ls!==null&&Hc(ls,t),cs!==null&&Hc(cs,t),Al.forEach(e),Cl.forEach(e);for(var n=0;n<qi.length;n++){var i=qi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<qi.length&&(n=qi[0],n.blockedOn===null);)mw(n),n.blockedOn===null&&qi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Yt]||null;if(typeof r=="function")a||t_(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Yt]||null)o=a.formAction;else if(ay(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),t_(n)}}}function pw(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function oy(t){this._internalRoot=t}ef.prototype.render=oy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,i=an();hw(n,i,t,e,null,null)};ef.prototype.unmount=oy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hw(t.current,2,null,t,null,null),Wh(),e[Ua]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qi.length&&e!==0&&e<qi[n].priority;n++);qi.splice(n,0,t),n===0&&mw(t)}};var n_=Ix.version;if(n_!=="19.2.0")throw Error(U(527,n_,"19.2.0"));ye.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=RN(e),t=t!==null?kx(t):null,t=t===null?null:t.stateNode,t};var J4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{ql=Kc.inject(J4),sn=Kc}catch{}}jh.createRoot=function(t,e){if(!Dx(t))throw Error(U(299));var n=!1,i="",s=aS,r=oS,a=lS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=cw(t,1,!1,null,null,n,i,null,s,r,a,pw),t[Ua]=e.current,ty(t),new oy(e)};jh.hydrateRoot=function(t,e,n){if(!Dx(t))throw Error(U(299));var i=!1,s="",r=aS,a=oS,o=lS,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=cw(t,1,!0,e,n??null,i,s,c,r,a,o,pw),e.context=uw(null),n=e.current,i=an(),i=pg(i),s=is(i),s.callback=null,ss(n,s,i),n=i,e.current.lanes=n,Gl(e,n),Zn(e),t[Ua]=e.current,ty(t),new ef(e)};jh.version="19.2.0";function gw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gw)}catch(t){console.error(t)}}gw(),Sx.exports=jh;var eD=Sx.exports;const tD=mx(eD);var Zt=(t=>(t.USER="USER",t.STAFF="STAFF",t))(Zt||{});const nD=[{id:"cafe-1",name:"The Green Deli",imageUrl:"https://images.unsplash.com/photo-1554118811-1e0d58224f24?auto=format&fit=crop&q=80&w=800",location:"North Block, Level 1",isOpen:!0,rating:4.8,busyLevel:"Quiet"},{id:"cafe-2",name:"South Gate Bistro",imageUrl:"https://images.unsplash.com/photo-1514933651103-005eec06c04b?auto=format&fit=crop&q=80&w=800",location:"Student Union Hub",isOpen:!0,rating:4.5,busyLevel:"Moderate"},{id:"cafe-3",name:"The Oven Hub",imageUrl:"https://images.unsplash.com/photo-1552566626-52f8b828add9?auto=format&fit=crop&q=80&w=800",location:"Engineering Plaza",isOpen:!0,rating:4.9,busyLevel:"Busy"},{id:"cafe-4",name:"Spice Route",imageUrl:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=800",location:"International Wing",isOpen:!0,rating:4.7,busyLevel:"Moderate"},{id:"cafe-5",name:"Brew & Bite",imageUrl:"https://images.unsplash.com/photo-1559925393-8be0ec41b59b?auto=format&fit=crop&q=80&w=800",location:"Library Quad",isOpen:!0,rating:4.6,busyLevel:"Quiet"}],i_=[{id:"gd-1",cafeteriaId:"cafe-1",name:"Rainbow Quinoa Bowl",description:"Organic tricolor quinoa with massaged kale and lemon tahini.",ingredients:["Quinoa","Kale","Sweet Potato","Tahini"],carbonSavedKg:1.2,nutritionalInfo:{calories:420,protein:"12g",carbs:"54g",fat:"14g"},originalPrice:280,discountedPrice:85,quantity:4,timeLeftMinutes:32,cafeteriaName:"The Green Deli",distance:"0.3 km",imageUrl:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Gluten-Free"]},{id:"gd-2",cafeteriaId:"cafe-1",name:"Avocado Toast Box",description:"Sourdough toast with chunky avocado and heirloom tomatoes.",ingredients:["Sourdough","Avocado","Tomato"],carbonSavedKg:.9,nutritionalInfo:{calories:310,protein:"8g",carbs:"38g",fat:"12g"},originalPrice:180,discountedPrice:55,quantity:6,timeLeftMinutes:45,cafeteriaName:"The Green Deli",distance:"0.3 km",imageUrl:"https://images.unsplash.com/photo-1525351484163-7529414344d8?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Fresh"]},{id:"gd-3",cafeteriaId:"cafe-1",name:"Greek Mezze Plate",description:"Hummus, feta cheese, and kalamata olives with warm pita.",ingredients:["Hummus","Feta","Olives","Pita"],carbonSavedKg:.7,nutritionalInfo:{calories:450,protein:"15g",carbs:"50g",fat:"22g"},originalPrice:250,discountedPrice:75,quantity:3,timeLeftMinutes:15,cafeteriaName:"The Green Deli",distance:"0.3 km",imageUrl:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","High Protein"]},{id:"gd-4",cafeteriaId:"cafe-1",name:"Superfood Salad",description:"Mixed greens with blueberries, walnuts, and balsamic glaze.",ingredients:["Mixed Greens","Blueberries","Walnuts"],carbonSavedKg:.5,nutritionalInfo:{calories:280,protein:"6g",carbs:"22g",fat:"18g"},originalPrice:160,discountedPrice:45,quantity:5,timeLeftMinutes:20,cafeteriaName:"The Green Deli",distance:"0.3 km",imageUrl:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Antioxidant"]},{id:"gd-5",cafeteriaId:"cafe-1",name:"Zesty Grain Bowl",description:"Farro and roasted peppers with a lime-cilantro drizzle.",ingredients:["Farro","Roasted Peppers","Lime"],carbonSavedKg:.8,nutritionalInfo:{calories:390,protein:"11g",carbs:"62g",fat:"10g"},originalPrice:210,discountedPrice:65,quantity:2,timeLeftMinutes:10,cafeteriaName:"The Green Deli",distance:"0.3 km",imageUrl:"https://images.unsplash.com/photo-1490645935967-10de6ba17061?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Grains"]},{id:"sg-1",cafeteriaId:"cafe-2",name:"Gourmet Steak Wrap",description:"Prime beef strips with chimichurri and grilled peppers.",ingredients:["Beef","Chimichurri","Peppers"],carbonSavedKg:2.5,nutritionalInfo:{calories:520,protein:"32g",carbs:"38g",fat:"22g"},originalPrice:380,discountedPrice:120,quantity:3,timeLeftMinutes:40,cafeteriaName:"South Gate Bistro",distance:"0.9 km",imageUrl:"https://images.unsplash.com/photo-1544025162-d76694265947?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Gourmet"]},{id:"sg-2",cafeteriaId:"cafe-2",name:"Classic Club Sandwich",description:"Triple decker with turkey, bacon, and herb mayo.",ingredients:["Turkey","Bacon","Bread"],carbonSavedKg:1.4,nutritionalInfo:{calories:480,protein:"24g",carbs:"42g",fat:"26g"},originalPrice:220,discountedPrice:70,quantity:4,timeLeftMinutes:25,cafeteriaName:"South Gate Bistro",distance:"0.9 km",imageUrl:"https://images.unsplash.com/photo-1528735602780-2552fd46c7af?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Classic"]},{id:"sg-3",cafeteriaId:"cafe-2",name:"Teriyaki Salmon Fillet",description:"Atlantic salmon with glaze and sesame bok choy.",ingredients:["Salmon","Teriyaki","Bok Choy"],carbonSavedKg:1.8,nutritionalInfo:{calories:440,protein:"34g",carbs:"12g",fat:"28g"},originalPrice:420,discountedPrice:145,quantity:2,timeLeftMinutes:15,cafeteriaName:"South Gate Bistro",distance:"0.9 km",imageUrl:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Omega-3"]},{id:"sg-4",cafeteriaId:"cafe-2",name:"Buffalo Chicken Salad",description:"Spicy chicken strips over crisp romaine and blue cheese.",ingredients:["Chicken","Buffalo Sauce","Romaine"],carbonSavedKg:1.2,nutritionalInfo:{calories:410,protein:"28g",carbs:"14g",fat:"28g"},originalPrice:260,discountedPrice:85,quantity:6,timeLeftMinutes:50,cafeteriaName:"South Gate Bistro",distance:"0.9 km",imageUrl:"https://images.unsplash.com/photo-1546793665-c74683c3f38d?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Spicy"]},{id:"sg-5",cafeteriaId:"cafe-2",name:"Mediterranean Wrap",description:"Grilled veggies and halloumi in a spinach tortilla.",ingredients:["Halloumi","Grilled Veggies","Tortilla"],carbonSavedKg:.9,nutritionalInfo:{calories:370,protein:"14g",carbs:"42g",fat:"18g"},originalPrice:210,discountedPrice:60,quantity:5,timeLeftMinutes:30,cafeteriaName:"South Gate Bistro",distance:"0.9 km",imageUrl:"https://images.unsplash.com/photo-1626700051175-6818013e1d4f?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Healthy"]},{id:"oh-1",cafeteriaId:"cafe-3",name:"Wild Mushroom Pizza",description:"Truffle-infused base with forest mushrooms and thyme.",ingredients:["Mushrooms","Truffle Oil","Mozzarella"],carbonSavedKg:1.1,nutritionalInfo:{calories:620,protein:"18g",carbs:"72g",fat:"28g"},originalPrice:240,discountedPrice:75,quantity:7,timeLeftMinutes:54,cafeteriaName:"The Oven Hub",distance:"1.5 km",imageUrl:"https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Signature"]},{id:"oh-2",cafeteriaId:"cafe-3",name:"Pepperoni Flatbread",description:"Thin crust with spicy pepperoni and fresh basil.",ingredients:["Pepperoni","San Marzano Tomato","Basil"],carbonSavedKg:1.5,nutritionalInfo:{calories:580,protein:"22g",carbs:"64g",fat:"26g"},originalPrice:210,discountedPrice:65,quantity:4,timeLeftMinutes:20,cafeteriaName:"The Oven Hub",distance:"1.5 km",imageUrl:"https://images.unsplash.com/photo-1574071318508-1cdbad80ad38?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Wood Fired"]},{id:"oh-3",cafeteriaId:"cafe-3",name:"Garden Lasagna",description:"Layers of fresh pasta, zucchini, and ricotta cream.",ingredients:["Zucchini","Ricotta","Pasta"],carbonSavedKg:.8,nutritionalInfo:{calories:510,protein:"16g",carbs:"58g",fat:"24g"},originalPrice:280,discountedPrice:90,quantity:3,timeLeftMinutes:15,cafeteriaName:"The Oven Hub",distance:"1.5 km",imageUrl:"https://images.unsplash.com/photo-1551183053-bf91a1d81141?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Pasta"]},{id:"oh-4",cafeteriaId:"cafe-3",name:"Garlic Knots Basket",description:"Six warm knots with herb butter and marinara.",ingredients:["Dough","Garlic","Butter"],carbonSavedKg:.4,nutritionalInfo:{calories:350,protein:"8g",carbs:"45g",fat:"15g"},originalPrice:120,discountedPrice:40,quantity:10,timeLeftMinutes:60,cafeteriaName:"The Oven Hub",distance:"1.5 km",imageUrl:"https://images.unsplash.com/photo-1541745537411-b8046dc6d66c?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Side"]},{id:"oh-5",cafeteriaId:"cafe-3",name:"Roasted Veggie Calzone",description:"Folded pizza with eggplant, peppers, and pesto.",ingredients:["Eggplant","Pesto","Cheese"],carbonSavedKg:.9,nutritionalInfo:{calories:590,protein:"14g",carbs:"68g",fat:"30g"},originalPrice:230,discountedPrice:70,quantity:5,timeLeftMinutes:45,cafeteriaName:"The Oven Hub",distance:"1.5 km",imageUrl:"https://images.unsplash.com/photo-1628840042765-356cda07504e?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Hearty"]},{id:"sr-1",cafeteriaId:"cafe-4",name:"Butter Chicken Thali",description:"Tender chicken in creamy tomato sauce with naan.",ingredients:["Chicken","Cream","Spices","Naan"],carbonSavedKg:2.2,nutritionalInfo:{calories:720,protein:"38g",carbs:"65g",fat:"35g"},originalPrice:350,discountedPrice:110,quantity:5,timeLeftMinutes:55,cafeteriaName:"Spice Route",distance:"1.2 km",imageUrl:"https://images.unsplash.com/photo-1588166524941-3bf61a9c41db?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Spicy"]},{id:"sr-2",cafeteriaId:"cafe-4",name:"Paneer Tikka Box",description:"Grilled cottage cheese with bell peppers and mint chutney.",ingredients:["Paneer","Peppers","Mint"],carbonSavedKg:1.1,nutritionalInfo:{calories:480,protein:"22g",carbs:"18g",fat:"34g"},originalPrice:280,discountedPrice:90,quantity:6,timeLeftMinutes:40,cafeteriaName:"Spice Route",distance:"1.2 km",imageUrl:"https://images.unsplash.com/photo-1567188040759-fb8a883dc6d8?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Tandoor"]},{id:"sr-3",cafeteriaId:"cafe-4",name:"Veggie Biryani",description:"Fragrant basmati rice with seasonal veggies and saffron.",ingredients:["Basmati","Veggies","Saffron"],carbonSavedKg:.9,nutritionalInfo:{calories:550,protein:"14g",carbs:"82g",fat:"18g"},originalPrice:240,discountedPrice:75,quantity:8,timeLeftMinutes:30,cafeteriaName:"Spice Route",distance:"1.2 km",imageUrl:"https://images.unsplash.com/photo-1563379091339-03b21bc4a4f8?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Classic"]},{id:"sr-4",cafeteriaId:"cafe-4",name:"Chana Masala Bowl",description:"Spiced chickpeas with brown rice and pickled onions.",ingredients:["Chickpeas","Brown Rice","Onions"],carbonSavedKg:.7,nutritionalInfo:{calories:410,protein:"16g",carbs:"64g",fat:"12g"},originalPrice:190,discountedPrice:55,quantity:4,timeLeftMinutes:20,cafeteriaName:"Spice Route",distance:"1.2 km",imageUrl:"https://images.unsplash.com/photo-1545231027-63b3f1600758?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Fiber+"]},{id:"sr-5",cafeteriaId:"cafe-4",name:"Samosa Duo",description:"Two crispy potato pastries with tangy tamarind dip.",ingredients:["Potato","Pastry","Tamarind"],carbonSavedKg:.3,nutritionalInfo:{calories:320,protein:"6g",carbs:"42g",fat:"14g"},originalPrice:100,discountedPrice:30,quantity:12,timeLeftMinutes:15,cafeteriaName:"Spice Route",distance:"1.2 km",imageUrl:"https://images.unsplash.com/photo-1601050633647-3f9bc67e2311?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Snack"]},{id:"bb-1",cafeteriaId:"cafe-5",name:"Pesto Caprese Panini",description:"Toasted ciabatta with pesto, tomato, and fresh buffalo mozzarella.",ingredients:["Ciabatta","Pesto","Mozzarella"],carbonSavedKg:.8,nutritionalInfo:{calories:460,protein:"18g",carbs:"48g",fat:"22g"},originalPrice:210,discountedPrice:65,quantity:4,timeLeftMinutes:45,cafeteriaName:"Brew & Bite",distance:"0.1 km",imageUrl:"https://images.unsplash.com/photo-1528735602780-2552fd46c7af?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Artisanal"]},{id:"bb-2",cafeteriaId:"cafe-5",name:"Almond Croissant",description:"Buttery, flakey pastry topped with sliced almonds.",ingredients:["Pastry","Almonds","Butter"],carbonSavedKg:.4,nutritionalInfo:{calories:340,protein:"7g",carbs:"36g",fat:"18g"},originalPrice:150,discountedPrice:45,quantity:8,timeLeftMinutes:60,cafeteriaName:"Brew & Bite",distance:"0.1 km",imageUrl:"https://images.unsplash.com/photo-1555507036-ab1f4038808a?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Bakery"]},{id:"bb-3",cafeteriaId:"cafe-5",name:"Tuna Salad Croissant",description:"Creamy tuna salad on a fresh-baked croissant.",ingredients:["Tuna","Croissant","Mayo"],carbonSavedKg:1.1,nutritionalInfo:{calories:420,protein:"24g",carbs:"32g",fat:"22g"},originalPrice:240,discountedPrice:80,quantity:3,timeLeftMinutes:20,cafeteriaName:"Brew & Bite",distance:"0.1 km",imageUrl:"https://images.unsplash.com/photo-1550507992-eb63ffee0847?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Lunch"]},{id:"bb-4",cafeteriaId:"cafe-5",name:"Blueberry Muffin Box",description:"Set of two oversized fresh blueberry muffins.",ingredients:["Blueberries","Flour","Sugar"],carbonSavedKg:.3,nutritionalInfo:{calories:510,protein:"6g",carbs:"78g",fat:"18g"},originalPrice:180,discountedPrice:50,quantity:5,timeLeftMinutes:35,cafeteriaName:"Brew & Bite",distance:"0.1 km",imageUrl:"https://images.unsplash.com/photo-1558401391-7899b4bd5bbf?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Veg","Sweet"]},{id:"bb-5",cafeteriaId:"cafe-5",name:"Roast Beef Sandwich",description:"Shaved roast beef with horseradish and arugula.",ingredients:["Roast Beef","Horseradish","Arugula"],carbonSavedKg:2.1,nutritionalInfo:{calories:540,protein:"38g",carbs:"44g",fat:"24g"},originalPrice:290,discountedPrice:95,quantity:2,timeLeftMinutes:10,cafeteriaName:"Brew & Bite",distance:"0.1 km",imageUrl:"https://images.unsplash.com/photo-1553909489-cd47e0907980?auto=format&fit=crop&q=80&w=800",isClaimed:!1,tags:["Non-Veg","Hearty"]}],iD=()=>{};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],o=t[n++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,o=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=r>>2,d=(r&3)<<4|o>>4;let p=(o&15)<<2|u>>6,y=u&63;c||(y=64,a||(p=64)),i.push(n[h],n[d],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||o==null||u==null||d==null)throw new rD;const p=r<<2|o>>4;if(i.push(p),u!==64){const y=o<<4&240|u>>2;if(i.push(y),d!==64){const v=u<<6&192|d;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aD=function(t){const e=yw(t);return vw.encodeByteArray(e,!0)},fh=function(t){return aD(t).replace(/\./g,"")},_w=function(t){try{return vw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=()=>oD().__FIREBASE_DEFAULTS__,cD=()=>{if(typeof process>"u"||typeof s_>"u")return;const t=s_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_w(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return iD()||lD()||cD()||uD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bw=t=>{var e,n;return(n=(e=tf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hD=t=>{const e=bw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Tw=()=>{var t;return(t=tf())==null?void 0:t.config},xw=t=>{var e;return(e=tf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ew(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fh(JSON.stringify(n)),fh(JSON.stringify(a)),""].join(".")}const il={};function mD(){const t={prod:[],emulator:[]};for(const e of Object.keys(il))il[e]?t.emulator.push(e):t.prod.push(e);return t}function pD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r_=!1;function Sw(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||il[t]===e||il[t]||r_)return;il[t]=e;function n(p){return`__firebase__banner__${p}`}const i="__firebase__banner",r=mD().prod.length>0;function a(){const p=document.getElementById(i);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{r_=!0,a()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=pD(i),y=n("text"),v=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),R=document.getElementById(C)||document.createElement("a"),b=n("preprendIcon"),T=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;o(S),h(R,C);const w=u();c(T,b),S.append(T,v,R,w),document.body.appendChild(S)}r?(v.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function yD(){var e;const t=(e=tf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _D(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xD(){return!yD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ED(){try{return typeof indexedDB=="object"}catch{return!1}}function SD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="FirebaseError";class Ci extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=wD,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?AD(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Ci(s,o,i)}}function AD(t,e){return t.replace(CD,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const CD=/\{\$([^}]+)}/g;function RD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(a_(r)&&a_(a)){if(!fr(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function a_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ko(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Po(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ND(t,e){const n=new ID(t,e);return n.subscribe.bind(n)}class ID{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");DD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Pd),s.error===void 0&&(s.error=Pd),s.complete===void 0&&(s.complete=Pd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){return t&&t._delegate?t._delegate:t}class dr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new fD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kD(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MD(t){return t===Gs?void 0:t}function kD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const VD={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},jD=le.INFO,LD={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},UD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=LD[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=jD,this._logHandler=UD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const zD=(t,e)=>e.some(n=>t instanceof n);let o_,l_;function BD(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ww=new WeakMap,up=new WeakMap,Aw=new WeakMap,Vd=new WeakMap,cy=new WeakMap;function qD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(us(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ww.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function HD(t){if(up.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});up.set(t,e)}let hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Aw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GD(t){hp=t(hp)}function KD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(jd(this),e,...n);return Aw.set(i,e.sort?e.sort():[e]),us(i)}:FD().includes(t)?function(...e){return t.apply(jd(this),e),us(ww.get(this))}:function(...e){return us(t.apply(jd(this),e))}}function $D(t){return typeof t=="function"?KD(t):(t instanceof IDBTransaction&&HD(t),zD(t,BD())?new Proxy(t,hp):t)}function us(t){if(t instanceof IDBRequest)return qD(t);if(Vd.has(t))return Vd.get(t);const e=$D(t);return e!==t&&(Vd.set(t,e),cy.set(e,t)),e}const jd=t=>cy.get(t);function YD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),o=us(a);return i&&a.addEventListener("upgradeneeded",c=>{i(us(a.result),c.oldVersion,c.newVersion,us(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const QD=["get","getKey","getAll","getAllKeys","count"],XD=["put","add","delete","clear"],Ld=new Map;function c_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=XD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||QD.includes(n)))return;const r=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&c.done]))[0]};return Ld.set(e,r),r}GD(t=>({...t,get:(e,n,i)=>c_(e,n)||t.get(e,n,i),has:(e,n)=>!!c_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fp="@firebase/app",u_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new ly("@firebase/app"),JD="@firebase/app-compat",eO="@firebase/analytics-compat",tO="@firebase/analytics",nO="@firebase/app-check-compat",iO="@firebase/app-check",sO="@firebase/auth",rO="@firebase/auth-compat",aO="@firebase/database",oO="@firebase/data-connect",lO="@firebase/database-compat",cO="@firebase/functions",uO="@firebase/functions-compat",hO="@firebase/installations",fO="@firebase/installations-compat",dO="@firebase/messaging",mO="@firebase/messaging-compat",pO="@firebase/performance",gO="@firebase/performance-compat",yO="@firebase/remote-config",vO="@firebase/remote-config-compat",_O="@firebase/storage",bO="@firebase/storage-compat",TO="@firebase/firestore",xO="@firebase/ai",EO="@firebase/firestore-compat",SO="firebase",wO="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",AO={[fp]:"fire-core",[JD]:"fire-core-compat",[tO]:"fire-analytics",[eO]:"fire-analytics-compat",[iO]:"fire-app-check",[nO]:"fire-app-check-compat",[sO]:"fire-auth",[rO]:"fire-auth-compat",[aO]:"fire-rtdb",[oO]:"fire-data-connect",[lO]:"fire-rtdb-compat",[cO]:"fire-fn",[uO]:"fire-fn-compat",[hO]:"fire-iid",[fO]:"fire-iid-compat",[dO]:"fire-fcm",[mO]:"fire-fcm-compat",[pO]:"fire-perf",[gO]:"fire-perf-compat",[yO]:"fire-rc",[vO]:"fire-rc-compat",[_O]:"fire-gcs",[bO]:"fire-gcs-compat",[TO]:"fire-fst",[EO]:"fire-fst-compat",[xO]:"fire-vertex","fire-js":"fire-js",[SO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,CO=new Map,mp=new Map;function h_(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Aa(t){const e=t.name;if(mp.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,t);for(const n of dh.values())h_(n,t);for(const n of CO.values())h_(n,t);return!0}function uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new ec("app","Firebase",RO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=wO;function Cw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:dp,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw hs.create("bad-app-name",{appName:String(s)});if(n||(n=Tw()),!n)throw hs.create("no-options");const r=dh.get(s);if(r){if(fr(n,r.options)&&fr(i,r.config))return r;throw hs.create("duplicate-app",{appName:s})}const a=new PD(s);for(const c of mp.values())a.addComponent(c);const o=new NO(n,i,a);return dh.set(s,o),o}function Rw(t=dp){const e=dh.get(t);if(!e&&t===dp&&Tw())return Cw();if(!e)throw hs.create("no-app",{appName:t});return e}function fs(t,e,n){let i=AO[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=e.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}Aa(new dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="firebase-heartbeat-database",DO=1,Rl="firebase-heartbeat-store";let Ud=null;function Nw(){return Ud||(Ud=YD(IO,DO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),Ud}async function OO(t){try{const n=(await Nw()).transaction(Rl),i=await n.objectStore(Rl).get(Iw(t));return await n.done,i}catch(e){if(e instanceof Ci)xi.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function f_(t,e){try{const i=(await Nw()).transaction(Rl,"readwrite");await i.objectStore(Rl).put(e,Iw(t)),await i.done}catch(n){if(n instanceof Ci)xi.warn(n.message);else{const i=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(i.message)}}}function Iw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1024,kO=30;class PO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>kO){const a=LO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:i,unsentEntries:s}=VO(this._heartbeatsCache.heartbeats),r=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return xi.warn(n),""}}}function d_(){return new Date().toISOString().substring(0,10)}function VO(t,e=MO){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),m_(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),m_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class jO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ED()?SD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return f_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m_(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}function LO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){Aa(new dr("platform-logger",e=>new WD(e),"PRIVATE")),Aa(new dr("heartbeat",e=>new PO(e),"PRIVATE")),fs(fp,u_,t),fs(fp,u_,"esm2020"),fs("fire-js","")}UO("");var zO="firebase",BO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(zO,BO,"app");function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=Dw,Ow=new ec("auth","Firebase",Dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new ly("@firebase/auth");function qO(t,...e){mh.logLevel<=le.WARN&&mh.warn(`Auth (${$a}): ${t}`,...e)}function Tu(t,...e){mh.logLevel<=le.ERROR&&mh.error(`Auth (${$a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw hy(t,...e)}function Hn(t,...e){return hy(t,...e)}function Mw(t,e,n){const i={...FO(),[e]:n};return new ec("auth","Firebase",i).create(e,{appName:t.name})}function mi(t){return Mw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hy(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ow.create(t,...e)}function Z(t,e,...n){if(!t)throw hy(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tu(e),new Error(e)}function Ei(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function HO(){return p_()==="http:"||p_()==="https:"}function p_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HO()||_D()||"connection"in navigator)?navigator.onLine:!0}function KO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=gD()||bD()}get(){return GO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QO=new nc(3e4,6e4);function Is(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ds(t,e,n,i,s={}){return Pw(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const o=tc({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...r};return vD()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(u.credentials="include"),kw.fetch()(await Vw(t,t.config.apiHost,n,o),u)})}async function Pw(t,e,n){t._canInitEmulator=!1;const i={...$O,...e};try{const s=new WO(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw $c(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw $c(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw $c(t,"user-disabled",a);const h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Mw(t,h,u);In(t,h)}}catch(s){if(s instanceof Ci)throw s;In(t,"network-request-failed",{message:String(s)})}}async function ic(t,e,n,i,s={}){const r=await Ds(t,e,n,i,s);return"mfaPendingCredential"in r&&In(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function Vw(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?fy(t.config,s):`${t.config.apiScheme}://${s}`;return YO.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function XO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hn(this.auth,"network-request-failed")),QO.get())})}}function $c(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Hn(t,e,i);return s.customData._tokenResponse=n,s}function g_(t){return t!==void 0&&t.enterprise!==void 0}class ZO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JO(t,e){return Ds(t,"GET","/v2/recaptchaConfig",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function ph(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tM(t,e=!1){const n=Ri(t),i=await n.getIdToken(e),s=dy(i);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:sl(zd(s.auth_time)),issuedAtTime:sl(zd(s.iat)),expirationTime:sl(zd(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function zd(t){return Number(t)*1e3}function dy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const s=_w(n);return s?JSON.parse(s):(Tu("Failed to decode base64 JWT payload"),null)}catch(s){return Tu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function y_(t){const e=dy(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ci&&nM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function nM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(t){var d;const e=t.auth,n=await t.getIdToken(),i=await Nl(t,ph(e,{idToken:n}));Z(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const r=(d=s.providerUserInfo)!=null&&d.length?jw(s.providerUserInfo):[],a=rM(t.providerData,r),o=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function sM(t){const e=Ri(t);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rM(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function jw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){const n=await Pw(t,{},async()=>{const i=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await Vw(t,s,"/v1/token",`key=${r}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(c.credentials="include"),kw.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oM(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await aM(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ua;return i&&(Z(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(Z(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(Z(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Nn{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new iM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tM(this,e)}reload(){return sM(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Nl(this,eM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:y,providerData:v,stsTokenManager:C}=n;Z(d&&C,e,"internal-error");const R=ua.fromJSON(this.name,C);Z(typeof d=="string",e,"internal-error"),Vi(i,e.name),Vi(s,e.name),Z(typeof p=="boolean",e,"internal-error"),Z(typeof y=="boolean",e,"internal-error"),Vi(r,e.name),Vi(a,e.name),Vi(o,e.name),Vi(c,e.name),Vi(u,e.name),Vi(h,e.name);const b=new Nn({uid:d,auth:e,email:s,emailVerified:p,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:R,createdAt:u,lastLoginAt:h});return v&&Array.isArray(v)&&(b.providerData=v.map(T=>({...T}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(e,n,i=!1){const s=new ua;s.updateFromServerResponse(n);const r=new Nn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await gh(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?jw(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new ua;o.updateFromIdToken(i);const c=new Nn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new gp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function ui(t){Ei(t instanceof Function,"Expected a class definition");let e=v_.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lw.type="NONE";const __=Lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=xu(this.userKey,s.apiKey,r),this.fullPersistenceKey=xu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?Nn._fromGetAccountInfoResponse(this.auth,n,e):null}return Nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ha(ui(__),e,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||ui(__);const a=xu(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const h=await u._get(a);if(h){let d;if(typeof h=="string"){const p=await ph(e,{idToken:h}).catch(()=>{});if(!p)break;d=await Nn._fromGetAccountInfoResponse(e,p,h)}else d=Nn._fromJSON(e,h);u!==r&&(o=d),r=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new ha(r,e,i):(r=c[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(a)}catch{}})),new ha(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hw(e))return"Blackberry";if(Gw(e))return"Webos";if(zw(e))return"Safari";if((e.includes("chrome/")||Bw(e))&&!e.includes("edge/"))return"Chrome";if(qw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Uw(t=It()){return/firefox\//i.test(t)}function zw(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bw(t=It()){return/crios\//i.test(t)}function Fw(t=It()){return/iemobile/i.test(t)}function qw(t=It()){return/android/i.test(t)}function Hw(t=It()){return/blackberry/i.test(t)}function Gw(t=It()){return/webos/i.test(t)}function my(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lM(t=It()){var e;return my(t)&&!!((e=window.navigator)!=null&&e.standalone)}function cM(){return TD()&&document.documentMode===10}function Kw(t=It()){return my(t)||qw(t)||Gw(t)||Hw(t)||/windows phone/i.test(t)||Fw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e=[]){let n;switch(t){case"Browser":n=b_(It());break;case"Worker":n=`${b_(It())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,o)=>{try{const c=e(r);a(c)}catch(c){o(c)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",Is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=6;class dM{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new uM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),i=await Nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Tn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(mi(this));const n=e?Ri(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hM(this),n=new dM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await oM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&qO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sr(t){return Ri(t)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ND(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pM(t){nf=t}function Yw(t){return nf.loadJS(t)}function gM(){return nf.recaptchaEnterpriseScript}function yM(){return nf.gapiScript}function vM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _M{constructor(){this.enterprise=new bM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TM="recaptcha-enterprise",Qw="NO_RECAPTCHA";class xM{constructor(e){this.type=TM,this.auth=Sr(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,o)=>{JO(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new ZO(c);return r.tenantId==null?r._agentRecaptchaConfig=u:r._tenantRecaptchaConfigs[r.tenantId]=u,a(u.siteKey)}}).catch(c=>{o(c)})})}function s(r,a,o){const c=window.grecaptcha;g_(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(u=>{a(u)}).catch(()=>{a(Qw)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _M().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(o=>{if(!n&&g_(window.grecaptcha))s(o,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=gM();c.length!==0&&(c+=o),Yw(c).then(()=>{s(o,r,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function x_(t,e,n,i=!1,s=!1){const r=new xM(t);let a;if(s)a=Qw;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yp(t,e,n,i,s){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await x_(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await x_(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e){const n=uy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(fr(r,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function SM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function wM(t,e,n){const i=Sr(t);Z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=Xw(e),{host:a,port:o}=AM(e),c=o===null?"":`:${o}`,u={url:`${r}//${a}${c}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Z(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Z(fr(u,i.config.emulator)&&fr(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Ka(a)?(Ew(`${r}//${a}${c}`),Sw("Auth",!0)):CM()}function Xw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AM(t){const e=Xw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:E_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:E_(a)}}}function E_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function RM(t,e){return Ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e){return ic(t,"POST","/v1/accounts:signInWithPassword",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){return ic(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}async function DM(t,e){return ic(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends py{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Il(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,n,"signInWithPassword",NM);case"emailLink":return IM(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,i,"signUpPassword",RM);case"emailLink":return DM(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e){return ic(t,"POST","/v1/accounts:signInWithIdp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="http://localhost";class mr extends py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new mr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return fa(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,fa(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fa(e,n)}buildRequest(){const e={requestUri:OM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kM(t){const e=ko(Po(t)).link,n=e?ko(Po(e)).deep_link_id:null,i=ko(Po(t)).deep_link_id;return(i?ko(Po(i)).link:null)||i||n||e||t}class gy{constructor(e){const n=ko(Po(e)),i=n.apiKey??null,s=n.oobCode??null,r=MM(n.mode??null);Z(i&&s&&r,"argument-error"),this.apiKey=i,this.operation=r,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=kM(e);try{return new gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return Il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=gy.parseLink(n);return Z(i,"argument-error"),Il._fromEmailAndCode(e,i.code,i.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends sc{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends sc{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends sc{constructor(){super("twitter.com")}static credential(e,n){return mr._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return $i.credential(n,i)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e){return ic(t,"POST","/v1/accounts:signUp",Is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Nn._fromIdTokenResponse(e,i,s),a=S_(i);return new pr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=S_(i);return new pr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function S_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Ci{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new yh(e,n,i,s)}}function Zw(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,r,e,i):r})}async function VM(t,e,n=!1){const i=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e,n=!1){const{auth:i}=t;if(Tn(i.app))return Promise.reject(mi(i));const s="reauthenticate";try{const r=await Nl(t,Zw(i,s,e,t),n);Z(r.idToken,i,"internal-error");const a=dy(r.idToken);Z(a,i,"internal-error");const{sub:o}=a;return Z(t.uid===o,i,"user-mismatch"),pr._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&In(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(t,e,n=!1){if(Tn(t.app))return Promise.reject(mi(t));const i="signIn",s=await Zw(t,i,e),r=await pr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function LM(t,e){return Jw(Sr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t){const e=Sr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UM(t,e,n){if(Tn(t.app))return Promise.reject(mi(t));const i=Sr(t),a=await yp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PM).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&e2(t),c}),o=await pr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function zM(t,e,n){return Tn(t.app)?Promise.reject(mi(t)):LM(Ri(t),Ya.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&e2(t),i})}function BM(t,e,n,i){return Ri(t).onIdTokenChanged(e,n,i)}function FM(t,e,n){return Ri(t).beforeAuthStateChanged(e,n)}function qM(t){return Ri(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1e3,GM=10;class n2 extends t2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);cM()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GM):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n2.type="LOCAL";const KM=n2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends t2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i2.type="SESSION";const s2=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new sf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,r)),c=await $M(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,c)=>{const u=yy("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(p.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function QM(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function XM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function ZM(){return r2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebaseLocalStorageDb",JM=1,_h="firebaseLocalStorage",o2="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function e5(){const t=indexedDB.deleteDatabase(a2);return new rc(t).toPromise()}function vp(){const t=indexedDB.open(a2,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(_h,{keyPath:o2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),await e5(),e(await vp()))})})}async function w_(t,e,n){const i=rf(t,!0).put({[o2]:e,value:n});return new rc(i).toPromise()}async function t5(t,e){const n=rf(t,!1).get(e),i=await new rc(n).toPromise();return i===void 0?null:i.value}function A_(t,e){const n=rf(t,!0).delete(e);return new rc(n).toPromise()}const n5=800,i5=3;class l2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>i5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(ZM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await XM(),!this.activeServiceWorker)return;this.sender=new YM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await w_(e,vh,"1"),await A_(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>w_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t5(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=rf(s,!1).getAll();return new rc(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l2.type="LOCAL";const s5=l2;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e){return e?ui(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy extends py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a5(t){return Jw(t.auth,new vy(t),t.bypassAuthState)}function o5(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),jM(n,new vy(t),t.bypassAuthState)}async function l5(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),VM(n,new vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a5;case"linkViaPopup":case"linkViaRedirect":return l5;case"reauthViaPopup":case"reauthViaRedirect":return o5;default:In(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new nc(2e3,1e4);class Wr extends c2{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c5.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="pendingRedirect",Eu=new Map;class h5 extends c2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Eu.get(this.auth._key());if(!e){try{const i=await f5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f5(t,e){const n=p5(e),i=m5(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function d5(t,e){Eu.set(t._key(),e)}function m5(t){return ui(t._redirectPersistence)}function p5(t){return xu(u5,t.config.apiKey,t.name)}async function g5(t,e,n=!1){if(Tn(t.app))return Promise.reject(mi(t));const i=Sr(t),s=r5(i,e),a=await new h5(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=10*60*1e3;class v5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!u2(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y5&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x5=/^https?/;async function E5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b5(t);for(const n of e)try{if(S5(n))return}catch{}In(t,"unauthorized-domain")}function S5(t){const e=pp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!x5.test(n))return!1;if(T5.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new nc(3e4,6e4);function R_(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A5(t){return new Promise((e,n)=>{var s,r,a;function i(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(Hn(t,"network-request-failed"))},timeout:w5.get()})}if((r=(s=Gn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=Gn().gapi)!=null&&a.load)i();else{const o=vM("iframefcb");return Gn()[o]=()=>{gapi.load?i():n(Hn(t,"network-request-failed"))},Yw(`${yM()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Su=null,e})}let Su=null;function C5(t){return Su=Su||A5(t),Su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new nc(5e3,15e3),N5="__/auth/iframe",I5="emulator/auth/iframe",D5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M5(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,I5):`https://${t.config.authDomain}/${N5}`,i={apiKey:e.apiKey,appName:t.name,v:$a},s=O5.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${tc(i).slice(1)}`}async function k5(t){const e=await C5(t),n=Gn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:M5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D5,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Hn(t,"network-request-failed"),o=Gn().setTimeout(()=>{r(a)},R5.get());function c(){Gn().clearTimeout(o),s(i)}i.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V5=500,j5=600,L5="_blank",U5="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z5(t,e,n,i=V5,s=j5){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c={...P5,width:i.toString(),height:s.toString(),top:r,left:a},u=It().toLowerCase();n&&(o=Bw(u)?L5:n),Uw(u)&&(e=e||U5,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,v])=>`${p}${y}=${v},`,"");if(lM(u)&&o!=="_self")return B5(e||"",o),new N_(null);const d=window.open(e||"",o,h);Z(d,t,"popup-blocked");try{d.focus()}catch{}return new N_(d)}function B5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="__/auth/handler",q5="emulator/auth/handler",H5=encodeURIComponent("fac");async function I_(t,e,n,i,s,r){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:$a,eventId:s};if(e instanceof Ww){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",RD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(e instanceof sc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const c=await t._getAppCheckToken(),u=c?`#${H5}=${encodeURIComponent(c)}`:"";return`${G5(t)}?${tc(o).slice(1)}${u}`}function G5({config:t}){return t.emulator?fy(t,q5):`https://${t.authDomain}/${F5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class K5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s2,this._completeRedirectFn=g5,this._overrideRedirectResult=d5}async _openPopup(e,n,i,s){var a;Ei((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await I_(e,n,i,pp(),s);return z5(e,r,yy())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await I_(e,n,i,pp(),s);return QM(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Ei(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await k5(e),i=new v5(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bd,{type:Bd},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Bd];r!==void 0&&n(!!r),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kw()||zw()||my()}}const $5=K5;var D_="@firebase/auth",O_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X5(t){Aa(new dr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Z(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(t)},u=new mM(i,s,r,c);return SM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Aa(new dr("auth-internal",e=>{const n=Sr(e.getProvider("auth").getImmediate());return(i=>new Y5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(D_,O_,Q5(t)),fs(D_,O_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=5*60,Z5=xw("authIdTokenMaxAge")||W5;let M_=null;const J5=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Z5)return;const s=n==null?void 0:n.token;M_!==s&&(M_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ek(t=Rw()){const e=uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=EM(t,{popupRedirectResolver:$5,persistence:[s5,KM,s2]}),i=xw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=J5(r.toString());FM(n,a,()=>a(n.currentUser)),BM(n,o=>a(o))}}const s=bw("auth");return s&&wM(n,`http://${s}`),n}function tk(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}pM({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Hn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",tk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X5("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,h2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,_){function E(){}E.prototype=_.prototype,x.F=_.prototype,x.prototype=new E,x.prototype.constructor=x,x.D=function(I,O,M){for(var D=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)D[xe-2]=arguments[xe];return _.prototype[O].apply(I,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,_,E){E||(E=0);const I=Array(16);if(typeof _=="string")for(var O=0;O<16;++O)I[O]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(O=0;O<16;++O)I[O]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=x.g[0],E=x.g[1],O=x.g[2];let M=x.g[3],D;D=_+(M^E&(O^M))+I[0]+3614090360&4294967295,_=E+(D<<7&4294967295|D>>>25),D=M+(O^_&(E^O))+I[1]+3905402710&4294967295,M=_+(D<<12&4294967295|D>>>20),D=O+(E^M&(_^E))+I[2]+606105819&4294967295,O=M+(D<<17&4294967295|D>>>15),D=E+(_^O&(M^_))+I[3]+3250441966&4294967295,E=O+(D<<22&4294967295|D>>>10),D=_+(M^E&(O^M))+I[4]+4118548399&4294967295,_=E+(D<<7&4294967295|D>>>25),D=M+(O^_&(E^O))+I[5]+1200080426&4294967295,M=_+(D<<12&4294967295|D>>>20),D=O+(E^M&(_^E))+I[6]+2821735955&4294967295,O=M+(D<<17&4294967295|D>>>15),D=E+(_^O&(M^_))+I[7]+4249261313&4294967295,E=O+(D<<22&4294967295|D>>>10),D=_+(M^E&(O^M))+I[8]+1770035416&4294967295,_=E+(D<<7&4294967295|D>>>25),D=M+(O^_&(E^O))+I[9]+2336552879&4294967295,M=_+(D<<12&4294967295|D>>>20),D=O+(E^M&(_^E))+I[10]+4294925233&4294967295,O=M+(D<<17&4294967295|D>>>15),D=E+(_^O&(M^_))+I[11]+2304563134&4294967295,E=O+(D<<22&4294967295|D>>>10),D=_+(M^E&(O^M))+I[12]+1804603682&4294967295,_=E+(D<<7&4294967295|D>>>25),D=M+(O^_&(E^O))+I[13]+4254626195&4294967295,M=_+(D<<12&4294967295|D>>>20),D=O+(E^M&(_^E))+I[14]+2792965006&4294967295,O=M+(D<<17&4294967295|D>>>15),D=E+(_^O&(M^_))+I[15]+1236535329&4294967295,E=O+(D<<22&4294967295|D>>>10),D=_+(O^M&(E^O))+I[1]+4129170786&4294967295,_=E+(D<<5&4294967295|D>>>27),D=M+(E^O&(_^E))+I[6]+3225465664&4294967295,M=_+(D<<9&4294967295|D>>>23),D=O+(_^E&(M^_))+I[11]+643717713&4294967295,O=M+(D<<14&4294967295|D>>>18),D=E+(M^_&(O^M))+I[0]+3921069994&4294967295,E=O+(D<<20&4294967295|D>>>12),D=_+(O^M&(E^O))+I[5]+3593408605&4294967295,_=E+(D<<5&4294967295|D>>>27),D=M+(E^O&(_^E))+I[10]+38016083&4294967295,M=_+(D<<9&4294967295|D>>>23),D=O+(_^E&(M^_))+I[15]+3634488961&4294967295,O=M+(D<<14&4294967295|D>>>18),D=E+(M^_&(O^M))+I[4]+3889429448&4294967295,E=O+(D<<20&4294967295|D>>>12),D=_+(O^M&(E^O))+I[9]+568446438&4294967295,_=E+(D<<5&4294967295|D>>>27),D=M+(E^O&(_^E))+I[14]+3275163606&4294967295,M=_+(D<<9&4294967295|D>>>23),D=O+(_^E&(M^_))+I[3]+4107603335&4294967295,O=M+(D<<14&4294967295|D>>>18),D=E+(M^_&(O^M))+I[8]+1163531501&4294967295,E=O+(D<<20&4294967295|D>>>12),D=_+(O^M&(E^O))+I[13]+2850285829&4294967295,_=E+(D<<5&4294967295|D>>>27),D=M+(E^O&(_^E))+I[2]+4243563512&4294967295,M=_+(D<<9&4294967295|D>>>23),D=O+(_^E&(M^_))+I[7]+1735328473&4294967295,O=M+(D<<14&4294967295|D>>>18),D=E+(M^_&(O^M))+I[12]+2368359562&4294967295,E=O+(D<<20&4294967295|D>>>12),D=_+(E^O^M)+I[5]+4294588738&4294967295,_=E+(D<<4&4294967295|D>>>28),D=M+(_^E^O)+I[8]+2272392833&4294967295,M=_+(D<<11&4294967295|D>>>21),D=O+(M^_^E)+I[11]+1839030562&4294967295,O=M+(D<<16&4294967295|D>>>16),D=E+(O^M^_)+I[14]+4259657740&4294967295,E=O+(D<<23&4294967295|D>>>9),D=_+(E^O^M)+I[1]+2763975236&4294967295,_=E+(D<<4&4294967295|D>>>28),D=M+(_^E^O)+I[4]+1272893353&4294967295,M=_+(D<<11&4294967295|D>>>21),D=O+(M^_^E)+I[7]+4139469664&4294967295,O=M+(D<<16&4294967295|D>>>16),D=E+(O^M^_)+I[10]+3200236656&4294967295,E=O+(D<<23&4294967295|D>>>9),D=_+(E^O^M)+I[13]+681279174&4294967295,_=E+(D<<4&4294967295|D>>>28),D=M+(_^E^O)+I[0]+3936430074&4294967295,M=_+(D<<11&4294967295|D>>>21),D=O+(M^_^E)+I[3]+3572445317&4294967295,O=M+(D<<16&4294967295|D>>>16),D=E+(O^M^_)+I[6]+76029189&4294967295,E=O+(D<<23&4294967295|D>>>9),D=_+(E^O^M)+I[9]+3654602809&4294967295,_=E+(D<<4&4294967295|D>>>28),D=M+(_^E^O)+I[12]+3873151461&4294967295,M=_+(D<<11&4294967295|D>>>21),D=O+(M^_^E)+I[15]+530742520&4294967295,O=M+(D<<16&4294967295|D>>>16),D=E+(O^M^_)+I[2]+3299628645&4294967295,E=O+(D<<23&4294967295|D>>>9),D=_+(O^(E|~M))+I[0]+4096336452&4294967295,_=E+(D<<6&4294967295|D>>>26),D=M+(E^(_|~O))+I[7]+1126891415&4294967295,M=_+(D<<10&4294967295|D>>>22),D=O+(_^(M|~E))+I[14]+2878612391&4294967295,O=M+(D<<15&4294967295|D>>>17),D=E+(M^(O|~_))+I[5]+4237533241&4294967295,E=O+(D<<21&4294967295|D>>>11),D=_+(O^(E|~M))+I[12]+1700485571&4294967295,_=E+(D<<6&4294967295|D>>>26),D=M+(E^(_|~O))+I[3]+2399980690&4294967295,M=_+(D<<10&4294967295|D>>>22),D=O+(_^(M|~E))+I[10]+4293915773&4294967295,O=M+(D<<15&4294967295|D>>>17),D=E+(M^(O|~_))+I[1]+2240044497&4294967295,E=O+(D<<21&4294967295|D>>>11),D=_+(O^(E|~M))+I[8]+1873313359&4294967295,_=E+(D<<6&4294967295|D>>>26),D=M+(E^(_|~O))+I[15]+4264355552&4294967295,M=_+(D<<10&4294967295|D>>>22),D=O+(_^(M|~E))+I[6]+2734768916&4294967295,O=M+(D<<15&4294967295|D>>>17),D=E+(M^(O|~_))+I[13]+1309151649&4294967295,E=O+(D<<21&4294967295|D>>>11),D=_+(O^(E|~M))+I[4]+4149444226&4294967295,_=E+(D<<6&4294967295|D>>>26),D=M+(E^(_|~O))+I[11]+3174756917&4294967295,M=_+(D<<10&4294967295|D>>>22),D=O+(_^(M|~E))+I[2]+718787259&4294967295,O=M+(D<<15&4294967295|D>>>17),D=E+(M^(O|~_))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+_&4294967295,x.g[1]=x.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+M&4294967295}i.prototype.v=function(x,_){_===void 0&&(_=x.length);const E=_-this.blockSize,I=this.C;let O=this.h,M=0;for(;M<_;){if(O==0)for(;M<=E;)s(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<_;)if(I[O++]=x.charCodeAt(M++),O==this.blockSize){s(this,I),O=0;break}}else for(;M<_;)if(I[O++]=x[M++],O==this.blockSize){s(this,I),O=0;break}}this.h=O,this.o+=_},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var _=1;_<x.length-8;++_)x[_]=0;_=this.o*8;for(var E=x.length-8;E<x.length;++E)x[E]=_&255,_/=256;for(this.v(x),x=Array(16),_=0,E=0;E<4;++E)for(let I=0;I<32;I+=8)x[_++]=this.g[E]>>>I&255;return x};function r(x,_){var E=o;return Object.prototype.hasOwnProperty.call(E,x)?E[x]:E[x]=_(x)}function a(x,_){this.h=_;const E=[];let I=!0;for(let O=x.length-1;O>=0;O--){const M=x[O]|0;I&&M==_||(E[O]=M,I=!1)}this.g=E}var o={};function c(x){return-128<=x&&x<128?r(x,function(_){return new a([_|0],_<0?-1:0)}):new a([x|0],x<0?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return d;if(x<0)return R(u(-x));const _=[];let E=1;for(let I=0;x>=E;I++)_[I]=x/E|0,E*=4294967296;return new a(_,0)}function h(x,_){if(x.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(x.charAt(0)=="-")return R(h(x.substring(1),_));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(_,8));let I=d;for(let M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M);const D=parseInt(x.substring(M,M+O),_);O<8?(O=u(Math.pow(_,O)),I=I.j(O).add(u(D))):(I=I.j(E),I=I.add(u(D)))}return I}var d=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(C(this))return-R(this).m();let x=0,_=1;for(let E=0;E<this.g.length;E++){const I=this.i(E);x+=(I>=0?I:4294967296+I)*_,_*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(C(this))return"-"+R(this).toString(x);const _=u(Math.pow(x,6));var E=this;let I="";for(;;){const O=w(E,_).g;E=b(E,O.j(_));let M=((E.g.length>0?E.g[0]:E.h)>>>0).toString(x);if(E=O,v(E))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(let _=0;_<x.g.length;_++)if(x.g[_]!=0)return!1;return!0}function C(x){return x.h==-1}t.l=function(x){return x=b(this,x),C(x)?-1:v(x)?0:1};function R(x){const _=x.g.length,E=[];for(let I=0;I<_;I++)E[I]=~x.g[I];return new a(E,~x.h).add(p)}t.abs=function(){return C(this)?R(this):this},t.add=function(x){const _=Math.max(this.g.length,x.g.length),E=[];let I=0;for(let O=0;O<=_;O++){let M=I+(this.i(O)&65535)+(x.i(O)&65535),D=(M>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);I=D>>>16,M&=65535,D&=65535,E[O]=D<<16|M}return new a(E,E[E.length-1]&-2147483648?-1:0)};function b(x,_){return x.add(R(_))}t.j=function(x){if(v(this)||v(x))return d;if(C(this))return C(x)?R(this).j(R(x)):R(R(this).j(x));if(C(x))return R(this.j(R(x)));if(this.l(y)<0&&x.l(y)<0)return u(this.m()*x.m());const _=this.g.length+x.g.length,E=[];for(var I=0;I<2*_;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<x.g.length;O++){const M=this.i(I)>>>16,D=this.i(I)&65535,xe=x.i(O)>>>16,Dt=x.i(O)&65535;E[2*I+2*O]+=D*Dt,T(E,2*I+2*O),E[2*I+2*O+1]+=M*Dt,T(E,2*I+2*O+1),E[2*I+2*O+1]+=D*xe,T(E,2*I+2*O+1),E[2*I+2*O+2]+=M*xe,T(E,2*I+2*O+2)}for(x=0;x<_;x++)E[x]=E[2*x+1]<<16|E[2*x];for(x=_;x<2*_;x++)E[x]=0;return new a(E,0)};function T(x,_){for(;(x[_]&65535)!=x[_];)x[_+1]+=x[_]>>>16,x[_]&=65535,_++}function S(x,_){this.g=x,this.h=_}function w(x,_){if(v(_))throw Error("division by zero");if(v(x))return new S(d,d);if(C(x))return _=w(R(x),_),new S(R(_.g),R(_.h));if(C(_))return _=w(x,R(_)),new S(R(_.g),_.h);if(x.g.length>30){if(C(x)||C(_))throw Error("slowDivide_ only works with positive integers.");for(var E=p,I=_;I.l(x)<=0;)E=N(E),I=N(I);var O=k(E,1),M=k(I,1);for(I=k(I,2),E=k(E,2);!v(I);){var D=M.add(I);D.l(x)<=0&&(O=O.add(E),M=D),I=k(I,1),E=k(E,1)}return _=b(x,O.j(_)),new S(O,_)}for(O=d;x.l(_)>=0;){for(E=Math.max(1,Math.floor(x.m()/_.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=u(E),D=M.j(_);C(D)||D.l(x)>0;)E-=I,M=u(E),D=M.j(_);v(M)&&(M=p),O=O.add(M),x=b(x,D)}return new S(O,x)}t.B=function(x){return w(this,x).h},t.and=function(x){const _=Math.max(this.g.length,x.g.length),E=[];for(let I=0;I<_;I++)E[I]=this.i(I)&x.i(I);return new a(E,this.h&x.h)},t.or=function(x){const _=Math.max(this.g.length,x.g.length),E=[];for(let I=0;I<_;I++)E[I]=this.i(I)|x.i(I);return new a(E,this.h|x.h)},t.xor=function(x){const _=Math.max(this.g.length,x.g.length),E=[];for(let I=0;I<_;I++)E[I]=this.i(I)^x.i(I);return new a(E,this.h^x.h)};function N(x){const _=x.g.length+1,E=[];for(let I=0;I<_;I++)E[I]=x.i(I)<<1|x.i(I-1)>>>31;return new a(E,x.h)}function k(x,_){const E=_>>5;_%=32;const I=x.g.length-E,O=[];for(let M=0;M<I;M++)O[M]=_>0?x.i(M+E)>>>_|x.i(M+E+1)<<32-_:x.i(M+E);return new a(O,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,h2=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,ds=a}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f2,Vo,d2,wu,_p,m2,p2,g2;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var m=0;m<l.length;++m){var g=l[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function s(l,m){if(m)e:{var g=i;l=l.split(".");for(var A=0;A<l.length-1;A++){var P=l[A];if(!(P in g))break e;g=g[P]}l=l[l.length-1],A=g[l],m=m(A),m!=A&&m!=null&&e(g,l,{configurable:!0,writable:!0,value:m})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(m){var g=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&g.push([A,m[A]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function c(l,m,g){return l.call.apply(l.bind,arguments)}function u(l,m,g){return u=c,u.apply(null,arguments)}function h(l,m){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function d(l,m){function g(){}g.prototype=m.prototype,l.Z=m.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(A,P,L){for(var F=Array(arguments.length-2),re=2;re<arguments.length;re++)F[re-2]=arguments[re];return m.prototype[P].apply(A,F)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const m=l.length;if(m>0){const g=Array(m);for(let A=0;A<m;A++)g[A]=l[A];return g}return[]}function v(l,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=l.length||0;const L=P.length||0;l.length=g+L;for(let F=0;F<L;F++)l[g+F]=P[F]}else l.push(P)}}class C{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function R(l){a.setTimeout(()=>{throw l},0)}function b(){var l=x;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class T{constructor(){this.h=this.g=null}add(m,g){const A=S.get();A.set(m,g),this.h?this.h.next=A:this.g=A,this.h=A}}var S=new C(()=>new w,l=>l.reset());class w{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let N,k=!1,x=new T,_=()=>{const l=Promise.resolve(void 0);N=()=>{l.then(E)}};function E(){for(var l;l=b();){try{l.h.call(l.g)}catch(g){R(g)}var m=S;m.j(l),m.h<100&&(m.h++,l.next=m.g,m.g=l)}k=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return l}();function D(l){return/^[\s\xa0]*$/.test(l)}function xe(l,m){O.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,m)}d(xe,O),xe.prototype.init=function(l,m){const g=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget,m||(g=="mouseover"?m=l.fromElement:g=="mouseout"&&(m=l.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),q=0;function $(l,m,g,A,P){this.listener=l,this.proxy=null,this.src=m,this.type=g,this.capture=!!A,this.ha=P,this.key=++q,this.da=this.fa=!1}function G(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function me(l,m,g){for(const A in l)m.call(g,l[A],A,l)}function we(l,m){for(const g in l)m.call(void 0,l[g],g,l)}function xt(l){const m={};for(const g in l)m[g]=l[g];return m}const Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mn(l,m){let g,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(g in A)l[g]=A[g];for(let L=0;L<Ut.length;L++)g=Ut[L],Object.prototype.hasOwnProperty.call(A,g)&&(l[g]=A[g])}}function dt(l){this.src=l,this.g={},this.h=0}dt.prototype.add=function(l,m,g,A,P){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const F=Nf(l,m,A,P);return F>-1?(m=l[F],g||(m.fa=!1)):(m=new $(m,this.src,L,!!A,P),m.fa=g,l.push(m)),m};function wn(l,m){const g=m.type;if(g in l.g){var A=l.g[g],P=Array.prototype.indexOf.call(A,m,void 0),L;(L=P>=0)&&Array.prototype.splice.call(A,P,1),L&&(G(m),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Nf(l,m,g,A){for(let P=0;P<l.length;++P){const L=l[P];if(!L.da&&L.listener==m&&L.capture==!!g&&L.ha==A)return P}return-1}var If="closure_lm_"+(Math.random()*1e6|0),Df={};function D0(l,m,g,A,P){if(Array.isArray(m)){for(let L=0;L<m.length;L++)D0(l,m[L],g,A,P);return null}return g=k0(g),l&&l[Dt]?l.J(m,g,o(A)?!!A.capture:!1,P):RR(l,m,g,!1,A,P)}function RR(l,m,g,A,P,L){if(!m)throw Error("Invalid event type");const F=o(P)?!!P.capture:!!P;let re=Mf(l);if(re||(l[If]=re=new dt(l)),g=re.add(m,g,A,F,L),g.proxy)return g;if(A=NR(),g.proxy=A,A.src=l,A.listener=g,l.addEventListener)M||(P=F),P===void 0&&(P=!1),l.addEventListener(m.toString(),A,P);else if(l.attachEvent)l.attachEvent(M0(m.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function NR(){function l(g){return m.call(l.src,l.listener,g)}const m=IR;return l}function O0(l,m,g,A,P){if(Array.isArray(m))for(var L=0;L<m.length;L++)O0(l,m[L],g,A,P);else A=o(A)?!!A.capture:!!A,g=k0(g),l&&l[Dt]?(l=l.i,L=String(m).toString(),L in l.g&&(m=l.g[L],g=Nf(m,g,A,P),g>-1&&(G(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete l.g[L],l.h--)))):l&&(l=Mf(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Nf(m,g,A,P)),(g=l>-1?m[l]:null)&&Of(g))}function Of(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[Dt])wn(m.i,l);else{var g=l.type,A=l.proxy;m.removeEventListener?m.removeEventListener(g,A,l.capture):m.detachEvent?m.detachEvent(M0(g),A):m.addListener&&m.removeListener&&m.removeListener(A),(g=Mf(m))?(wn(g,l),g.h==0&&(g.src=null,m[If]=null)):G(l)}}}function M0(l){return l in Df?Df[l]:Df[l]="on"+l}function IR(l,m){if(l.da)l=!0;else{m=new xe(m,this);const g=l.listener,A=l.ha||l.src;l.fa&&Of(l),l=g.call(A,m)}return l}function Mf(l){return l=l[If],l instanceof dt?l:null}var kf="__closure_events_fn_"+(Math.random()*1e9>>>0);function k0(l){return typeof l=="function"?l:(l[kf]||(l[kf]=function(m){return l.handleEvent(m)}),l[kf])}function Et(){I.call(this),this.i=new dt(this),this.M=this,this.G=null}d(Et,I),Et.prototype[Dt]=!0,Et.prototype.removeEventListener=function(l,m,g,A){O0(this,l,m,g,A)};function Ot(l,m){var g,A=l.G;if(A)for(g=[];A;A=A.G)g.push(A);if(l=l.M,A=m.type||m,typeof m=="string")m=new O(m,l);else if(m instanceof O)m.target=m.target||l;else{var P=m;m=new O(A,l),Mn(m,P)}P=!0;let L,F;if(g)for(F=g.length-1;F>=0;F--)L=m.g=g[F],P=_c(L,A,!0,m)&&P;if(L=m.g=l,P=_c(L,A,!0,m)&&P,P=_c(L,A,!1,m)&&P,g)for(F=0;F<g.length;F++)L=m.g=g[F],P=_c(L,A,!1,m)&&P}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var l=this.i;for(const m in l.g){const g=l.g[m];for(let A=0;A<g.length;A++)G(g[A]);delete l.g[m],l.h--}}this.G=null},Et.prototype.J=function(l,m,g,A){return this.i.add(String(l),m,!1,g,A)},Et.prototype.K=function(l,m,g,A){return this.i.add(String(l),m,!0,g,A)};function _c(l,m,g,A){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let L=0;L<m.length;++L){const F=m[L];if(F&&!F.da&&F.capture==g){const re=F.listener,nt=F.ha||F.src;F.fa&&wn(l.i,F),P=re.call(nt,A)!==!1&&P}}return P&&!A.defaultPrevented}function DR(l,m){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:a.setTimeout(l,m||0)}function P0(l){l.g=DR(()=>{l.g=null,l.i&&(l.i=!1,P0(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class OR extends I{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:P0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(l){I.call(this),this.h=l,this.g={}}d(io,I);var V0=[];function j0(l){me(l.g,function(m,g){this.g.hasOwnProperty(g)&&Of(m)},l),l.g={}}io.prototype.N=function(){io.Z.N.call(this),j0(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pf=a.JSON.stringify,MR=a.JSON.parse,kR=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function L0(){}function U0(){}var so={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vf(){O.call(this,"d")}d(Vf,O);function jf(){O.call(this,"c")}d(jf,O);var Ms={},z0=null;function bc(){return z0=z0||new Et}Ms.Ia="serverreachability";function B0(l){O.call(this,Ms.Ia,l)}d(B0,O);function ro(l){const m=bc();Ot(m,new B0(m))}Ms.STAT_EVENT="statevent";function F0(l,m){O.call(this,Ms.STAT_EVENT,l),this.stat=m}d(F0,O);function Mt(l){const m=bc();Ot(m,new F0(m,l))}Ms.Ja="timingevent";function q0(l,m){O.call(this,Ms.Ja,l),this.size=m}d(q0,O);function ao(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function oo(){this.g=!0}oo.prototype.ua=function(){this.g=!1};function PR(l,m,g,A,P,L){l.info(function(){if(l.g)if(L){var F="",re=L.split("&");for(let Ee=0;Ee<re.length;Ee++){var nt=re[Ee].split("=");if(nt.length>1){const lt=nt[0];nt=nt[1];const Pn=lt.split("_");F=Pn.length>=2&&Pn[1]=="type"?F+(lt+"="+nt+"&"):F+(lt+"=redacted&")}}}else F=null;else F=L;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+g+`
`+F})}function VR(l,m,g,A,P,L,F){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+g+`
`+L+" "+F})}function Cr(l,m,g,A){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+LR(l,g)+(A?" "+A:"")})}function jR(l,m){l.info(function(){return"TIMEOUT: "+m})}oo.prototype.info=function(){};function LR(l,m){if(!l.g)return m;if(!m)return null;try{const L=JSON.parse(m);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var g=L[l];if(!(g.length<2)){var A=g[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let F=1;F<A.length;F++)A[F]=""}}}}return Pf(L)}catch{return m}}var Tc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},H0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},G0;function Lf(){}d(Lf,L0),Lf.prototype.g=function(){return new XMLHttpRequest},G0=new Lf;function lo(l){return encodeURIComponent(String(l))}function UR(l){var m=1;l=l.split(":");const g=[];for(;m>0&&l.length;)g.push(l.shift()),m--;return l.length&&g.push(l.join(":")),g}function Ni(l,m,g,A){this.j=l,this.i=m,this.l=g,this.S=A||1,this.V=new io(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new K0}function K0(){this.i=null,this.g="",this.h=!1}var $0={},Uf={};function zf(l,m,g){l.M=1,l.A=Ec(kn(m)),l.u=g,l.R=!0,Y0(l,null)}function Y0(l,m){l.F=Date.now(),xc(l),l.B=kn(l.A);var g=l.B,A=l.S;Array.isArray(A)||(A=[String(A)]),ov(g.i,"t",A),l.C=0,g=l.j.L,l.h=new K0,l.g=wv(l.j,g?m:null,!l.u),l.P>0&&(l.O=new OR(u(l.Y,l,l.g),l.P)),m=l.V,g=l.g,A=l.ba;var P="readystatechange";Array.isArray(P)||(P&&(V0[0]=P.toString()),P=V0);for(let L=0;L<P.length;L++){const F=D0(g,P[L],A||m.handleEvent,!1,m.h||m);if(!F)break;m.g[F.key]=F}m=l.J?xt(l.J):{},l.u?(l.v||(l.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,m)):(l.v="GET",l.g.ea(l.B,l.v,null,m)),ro(),PR(l.i,l.v,l.B,l.l,l.S,l.u)}Ni.prototype.ba=function(l){l=l.target;const m=this.O;m&&Oi(l)==3?m.j():this.Y(l)},Ni.prototype.Y=function(l){try{if(l==this.g)e:{const re=Oi(this.g),nt=this.g.ya(),Ee=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||mv(this.g)))){this.K||re!=4||nt==7||(nt==8||Ee<=0?ro(3):ro(2)),Bf(this);var m=this.g.ca();this.X=m;var g=zR(this);if(this.o=m==200,VR(this.i,this.v,this.B,this.l,this.S,re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var L=A;break t}}L=null}if(l=L)Cr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ff(this,l);else{this.o=!1,this.m=3,Mt(12),ks(this),co(this);break e}}if(this.R){l=!0;let lt;for(;!this.K&&this.C<g.length;)if(lt=BR(this,g),lt==Uf){re==4&&(this.m=4,Mt(14),l=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==$0){this.m=4,Mt(15),Cr(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Cr(this.i,this.l,lt,null),Ff(this,lt);if(Q0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||g.length!=0||this.h.h||(this.m=1,Mt(16),l=!1),this.o=this.o&&l,!l)Cr(this.i,this.l,g,"[Invalid Chunked Response]"),ks(this),co(this);else if(g.length>0&&!this.W){this.W=!0;var F=this.j;F.g==this&&F.aa&&!F.P&&(F.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Xf(F),F.P=!0,Mt(11))}}else Cr(this.i,this.l,g,null),Ff(this,g);re==4&&ks(this),this.o&&!this.K&&(re==4?Tv(this.j,this):(this.o=!1,xc(this)))}else tN(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),ks(this),co(this)}}}catch{}finally{}};function zR(l){if(!Q0(l))return l.g.la();const m=mv(l.g);if(m==="")return"";let g="";const A=m.length,P=Oi(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ks(l),co(l),"";l.h.i=new a.TextDecoder}for(let L=0;L<A;L++)l.h.h=!0,g+=l.h.i.decode(m[L],{stream:!(P&&L==A-1)});return m.length=0,l.h.g+=g,l.C=0,l.h.g}function Q0(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function BR(l,m){var g=l.C,A=m.indexOf(`
`,g);return A==-1?Uf:(g=Number(m.substring(g,A)),isNaN(g)?$0:(A+=1,A+g>m.length?Uf:(m=m.slice(A,A+g),l.C=A+g,m)))}Ni.prototype.cancel=function(){this.K=!0,ks(this)};function xc(l){l.T=Date.now()+l.H,X0(l,l.H)}function X0(l,m){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ao(u(l.aa,l),m)}function Bf(l){l.D&&(a.clearTimeout(l.D),l.D=null)}Ni.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(jR(this.i,this.B),this.M!=2&&(ro(),Mt(17)),ks(this),this.m=2,co(this)):X0(this,this.T-l)};function co(l){l.j.I==0||l.K||Tv(l.j,l)}function ks(l){Bf(l);var m=l.O;m&&typeof m.dispose=="function"&&m.dispose(),l.O=null,j0(l.V),l.g&&(m=l.g,l.g=null,m.abort(),m.dispose())}function Ff(l,m){try{var g=l.j;if(g.I!=0&&(g.g==l||qf(g.h,l))){if(!l.L&&qf(g.h,l)&&g.I==3){try{var A=g.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Rc(g),Ac(g);else break e;Qf(g),Mt(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ao(u(g.Va,g),6e3));J0(g.h)<=1&&g.ta&&(g.ta=void 0)}else Vs(g,11)}else if((l.L||g.g==l)&&Rc(g),!D(m))for(P=g.Ba.g.parse(m),m=0;m<P.length;m++){let Ee=P[m];const lt=Ee[0];if(!(lt<=g.K))if(g.K=lt,Ee=Ee[1],g.I==2)if(Ee[0]=="c"){g.M=Ee[1],g.ba=Ee[2];const Pn=Ee[3];Pn!=null&&(g.ka=Pn,g.j.info("VER="+g.ka));const js=Ee[4];js!=null&&(g.za=js,g.j.info("SVER="+g.za));const Mi=Ee[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(A=1.5*Mi,g.O=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const ki=l.g;if(ki){const Ic=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ic){var L=A.h;L.g||Ic.indexOf("spdy")==-1&&Ic.indexOf("quic")==-1&&Ic.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Hf(L,L.h),L.h=null))}if(A.G){const Wf=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Wf&&(A.wa=Wf,Ce(A.J,A.G,Wf))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),A=g;var F=l;if(A.na=Sv(A,A.L?A.ba:null,A.W),F.L){ev(A.h,F);var re=F,nt=A.O;nt&&(re.H=nt),re.D&&(Bf(re),xc(re)),A.g=F}else _v(A);g.i.length>0&&Cc(g)}else Ee[0]!="stop"&&Ee[0]!="close"||Vs(g,7);else g.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Vs(g,7):Yf(g):Ee[0]!="noop"&&g.l&&g.l.qa(Ee),g.A=0)}}ro(4)}catch{}}var FR=class{constructor(l,m){this.g=l,this.map=m}};function W0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Z0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function J0(l){return l.h?1:l.g?l.g.size:0}function qf(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function Hf(l,m){l.g?l.g.add(m):l.h=m}function ev(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}W0.prototype.cancel=function(){if(this.i=tv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function tv(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const g of l.g.values())m=m.concat(g.G);return m}return y(l.i)}var nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qR(l,m){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const A=l[g].indexOf("=");let P,L=null;A>=0?(P=l[g].substring(0,A),L=l[g].substring(A+1)):P=l[g],m(P,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ii(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;l instanceof Ii?(this.l=l.l,uo(this,l.j),this.o=l.o,this.g=l.g,ho(this,l.u),this.h=l.h,Gf(this,lv(l.i)),this.m=l.m):l&&(m=String(l).match(nv))?(this.l=!1,uo(this,m[1]||"",!0),this.o=fo(m[2]||""),this.g=fo(m[3]||"",!0),ho(this,m[4]),this.h=fo(m[5]||"",!0),Gf(this,m[6]||"",!0),this.m=fo(m[7]||"")):(this.l=!1,this.i=new po(null,this.l))}Ii.prototype.toString=function(){const l=[];var m=this.j;m&&l.push(mo(m,iv,!0),":");var g=this.g;return(g||m=="file")&&(l.push("//"),(m=this.o)&&l.push(mo(m,iv,!0),"@"),l.push(lo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(mo(g,g.charAt(0)=="/"?KR:GR,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",mo(g,YR)),l.join("")},Ii.prototype.resolve=function(l){const m=kn(this);let g=!!l.j;g?uo(m,l.j):g=!!l.o,g?m.o=l.o:g=!!l.g,g?m.g=l.g:g=l.u!=null;var A=l.h;if(g)ho(m,l.u);else if(g=!!l.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const L=[];for(let F=0;F<P.length;){const re=P[F++];re=="."?A&&F==P.length&&L.push(""):re==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),A&&F==P.length&&L.push("")):(L.push(re),A=!0)}A=L.join("/")}else A=P}return g?m.h=A:g=l.i.toString()!=="",g?Gf(m,lv(l.i)):g=!!l.m,g&&(m.m=l.m),m};function kn(l){return new Ii(l)}function uo(l,m,g){l.j=g?fo(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ho(l,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);l.u=m}else l.u=null}function Gf(l,m,g){m instanceof po?(l.i=m,QR(l.i,l.l)):(g||(m=mo(m,$R)),l.i=new po(m,l.l))}function Ce(l,m,g){l.i.set(m,g)}function Ec(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function fo(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function mo(l,m,g){return typeof l=="string"?(l=encodeURI(l).replace(m,HR),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function HR(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var iv=/[#\/\?@]/g,GR=/[#\?:]/g,KR=/[#\?]/g,$R=/[#\?@]/g,YR=/#/g;function po(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Ps(l){l.g||(l.g=new Map,l.h=0,l.i&&qR(l.i,function(m,g){l.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=po.prototype,t.add=function(l,m){Ps(this),this.i=null,l=Rr(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(m),this.h+=1,this};function sv(l,m){Ps(l),m=Rr(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function rv(l,m){return Ps(l),m=Rr(l,m),l.g.has(m)}t.forEach=function(l,m){Ps(this),this.g.forEach(function(g,A){g.forEach(function(P){l.call(m,P,A,this)},this)},this)};function av(l,m){Ps(l);let g=[];if(typeof m=="string")rv(l,m)&&(g=g.concat(l.g.get(Rr(l,m))));else for(l=Array.from(l.g.values()),m=0;m<l.length;m++)g=g.concat(l[m]);return g}t.set=function(l,m){return Ps(this),this.i=null,l=Rr(this,l),rv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=av(this,l),l.length>0?String(l[0]):m):m};function ov(l,m,g){sv(l,m),g.length>0&&(l.i=null,l.g.set(Rr(l,m),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var g=m[A];const P=lo(g);g=av(this,g);for(let L=0;L<g.length;L++){let F=P;g[L]!==""&&(F+="="+lo(g[L])),l.push(F)}}return this.i=l.join("&")};function lv(l){const m=new po;return m.i=l.i,l.g&&(m.g=new Map(l.g),m.h=l.h),m}function Rr(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function QR(l,m){m&&!l.j&&(Ps(l),l.i=null,l.g.forEach(function(g,A){const P=A.toLowerCase();A!=P&&(sv(this,A),ov(this,P,g))},l)),l.j=m}function XR(l,m){const g=new oo;if(a.Image){const A=new Image;A.onload=h(Di,g,"TestLoadImage: loaded",!0,m,A),A.onerror=h(Di,g,"TestLoadImage: error",!1,m,A),A.onabort=h(Di,g,"TestLoadImage: abort",!1,m,A),A.ontimeout=h(Di,g,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else m(!1)}function WR(l,m){const g=new oo,A=new AbortController,P=setTimeout(()=>{A.abort(),Di(g,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:A.signal}).then(L=>{clearTimeout(P),L.ok?Di(g,"TestPingServer: ok",!0,m):Di(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Di(g,"TestPingServer: error",!1,m)})}function Di(l,m,g,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(g)}catch{}}function ZR(){this.g=new kR}function Kf(l){this.i=l.Sb||null,this.h=l.ab||!1}d(Kf,L0),Kf.prototype.g=function(){return new Sc(this.i,this.h)};function Sc(l,m){Et.call(this),this.H=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Sc,Et),t=Sc.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=m,this.readyState=1,yo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(m.body=l),(this.H||a).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cv(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function cv(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?go(this):yo(this),this.readyState==3&&cv(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,go(this))},t.Na=function(l){this.g&&(this.response=l,go(this))},t.ga=function(){this.g&&go(this)};function go(l){l.readyState=4,l.l=null,l.j=null,l.B=null,yo(l)}t.setRequestHeader=function(l,m){this.A.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=m.next();return l.join(`\r
`)};function yo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function uv(l){let m="";return me(l,function(g,A){m+=A,m+=":",m+=g,m+=`\r
`}),m}function $f(l,m,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=uv(g),typeof l=="string"?g!=null&&lo(g):Ce(l,m,g))}function je(l){Et.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(je,Et);var JR=/^https?$/i,eN=["POST","PUT"];t=je.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,m,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():G0.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(L){hv(this,L);return}if(l=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)g.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const L of A.keys())g.set(L,A.get(L));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(eN,m,void 0)>=0)||A||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,F]of g)this.g.setRequestHeader(L,F);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){hv(this,L)}};function hv(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.o=5,fv(l),wc(l)}function fv(l){l.A||(l.A=!0,Ot(l,"complete"),Ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ot(this,"complete"),Ot(this,"abort"),wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wc(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?dv(this):this.Xa())},t.Xa=function(){dv(this)};function dv(l){if(l.h&&typeof r<"u"){if(l.v&&Oi(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ot(l,"readystatechange"),Oi(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var A;if(A=L===0){let F=String(l.D).match(nv)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),A=!JR.test(F?F.toLowerCase():"")}g=A}if(g)Ot(l,"complete"),Ot(l,"success");else{l.o=6;try{var P=Oi(l)>2?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.ca()+"]",fv(l)}}finally{wc(l)}}}}function wc(l,m){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,m||Ot(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Oi(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Oi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),MR(m)}};function mv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function tN(l){const m={};l=(l.g&&Oi(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if(D(l[A]))continue;var g=UR(l[A]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=m[P]||[];m[P]=L,L.push(g)}we(m,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(l,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||m}function pv(l){this.za=0,this.i=[],this.j=new oo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vo("baseRetryDelayMs",5e3,l),this.Za=vo("retryDelaySeedMs",1e4,l),this.Ta=vo("forwardChannelMaxRetries",2,l),this.va=vo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new W0(l&&l.concurrentRequestLimit),this.Ba=new ZR,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pv.prototype,t.ka=8,t.I=1,t.connect=function(l,m,g,A){Mt(0),this.W=l,this.H=m||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.J=Sv(this,null,this.W),Cc(this)};function Yf(l){if(gv(l),l.I==3){var m=l.V++,g=kn(l.J);if(Ce(g,"SID",l.M),Ce(g,"RID",m),Ce(g,"TYPE","terminate"),_o(l,g),m=new Ni(l,l.j,m),m.M=2,m.A=Ec(kn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.A,g=!0),g||(m.g=wv(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xc(m)}Ev(l)}function Ac(l){l.g&&(Xf(l),l.g.cancel(),l.g=null)}function gv(l){Ac(l),l.v&&(a.clearTimeout(l.v),l.v=null),Rc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Cc(l){if(!Z0(l.h)&&!l.m){l.m=!0;var m=l.Ea;N||_(),k||(N(),k=!0),x.add(m,l),l.D=0}}function nN(l,m){return J0(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=m.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ao(u(l.Ea,l,m),xv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const P=new Ni(this,this.j,l);let L=this.o;if(this.U&&(L?(L=xt(L),Mn(L,this.U)):L=this.U),this.u!==null||this.R||(P.J=L,L=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=vv(this,P,m),g=kn(this.J),Ce(g,"RID",l),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),_o(this,g),L&&(this.R?m="headers="+lo(uv(L))+"&"+m:this.u&&$f(g,this.u,L)),Hf(this.h,P),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",m),Ce(g,"SID","null"),P.U=!0,zf(P,g,null)):zf(P,g,m),this.I=2}}else this.I==3&&(l?yv(this,l):this.i.length==0||Z0(this.h)||yv(this))};function yv(l,m){var g;m?g=m.l:g=l.V++;const A=kn(l.J);Ce(A,"SID",l.M),Ce(A,"RID",g),Ce(A,"AID",l.K),_o(l,A),l.u&&l.o&&$f(A,l.u,l.o),g=new Ni(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),m&&(l.i=m.G.concat(l.i)),m=vv(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Hf(l.h,g),zf(g,A,m)}function _o(l,m){l.H&&me(l.H,function(g,A){Ce(m,A,g)}),l.l&&me({},function(g,A){Ce(m,A,g)})}function vv(l,m,g){g=Math.min(l.i.length,g);const A=l.l?u(l.l.Ka,l.l,l):null;e:{var P=l.i;let re=-1;for(;;){const nt=["count="+g];re==-1?g>0?(re=P[0].g,nt.push("ofs="+re)):re=0:nt.push("ofs="+re);let Ee=!0;for(let lt=0;lt<g;lt++){var L=P[lt].g;const Pn=P[lt].map;if(L-=re,L<0)re=Math.max(0,P[lt].g-100),Ee=!1;else try{L="req"+L+"_"||"";try{var F=Pn instanceof Map?Pn:Object.entries(Pn);for(const[js,Mi]of F){let ki=Mi;o(Mi)&&(ki=Pf(Mi)),nt.push(L+js+"="+encodeURIComponent(ki))}}catch(js){throw nt.push(L+"type="+encodeURIComponent("_badmap")),js}}catch{A&&A(Pn)}}if(Ee){F=nt.join("&");break e}}F=void 0}return l=l.i.splice(0,g),m.G=l,F}function _v(l){if(!l.g&&!l.v){l.Y=1;var m=l.Da;N||_(),k||(N(),k=!0),x.add(m,l),l.A=0}}function Qf(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ao(u(l.Da,l),xv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,bv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ao(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Ac(this),bv(this))};function Xf(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function bv(l){l.g=new Ni(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var m=kn(l.na);Ce(m,"RID","rpc"),Ce(m,"SID",l.M),Ce(m,"AID",l.K),Ce(m,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(m,"TO",l.ia),Ce(m,"TYPE","xmlhttp"),_o(l,m),l.u&&l.o&&$f(m,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Ec(kn(m)),g.u=null,g.R=!0,Y0(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Ac(this),Qf(this),Mt(19))};function Rc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Tv(l,m){var g=null;if(l.g==m){Rc(l),Xf(l),l.g=null;var A=2}else if(qf(l.h,m))g=m.G,ev(l.h,m),A=1;else return;if(l.I!=0){if(m.o)if(A==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var P=l.D;A=bc(),Ot(A,new q0(A,g)),Cc(l)}else _v(l);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&nN(l,m)||A==2&&Qf(l)))switch(g&&g.length>0&&(m=l.h,m.i=m.i.concat(g)),P){case 1:Vs(l,5);break;case 4:Vs(l,10);break;case 3:Vs(l,6);break;default:Vs(l,2)}}}function xv(l,m){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*m}function Vs(l,m){if(l.j.info("Error code "+m),m==2){var g=u(l.bb,l),A=l.Ua;const P=!A;A=new Ii(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uo(A,"https"),Ec(A),P?XR(A.toString(),g):WR(A.toString(),g)}else Mt(2);l.I=0,l.l&&l.l.pa(m),Ev(l),gv(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Ev(l){if(l.I=0,l.ja=[],l.l){const m=tv(l.h);(m.length!=0||l.i.length!=0)&&(v(l.ja,m),v(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function Sv(l,m,g){var A=g instanceof Ii?kn(g):new Ii(g);if(A.g!="")m&&(A.g=m+"."+A.g),ho(A,A.u);else{var P=a.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const L=new Ii(null);A&&uo(L,A),m&&(L.g=m),P&&ho(L,P),g&&(L.h=g),A=L}return g=l.G,m=l.wa,g&&m&&Ce(A,g,m),Ce(A,"VER",l.ka),_o(l,A),A}function wv(l,m,g){if(m&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Aa&&!l.ma?new je(new Kf({ab:g})):new je(l.ma),m.Fa(l.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Av(){}t=Av.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Nc(){}Nc.prototype.g=function(l,m){return new Xt(l,m)};function Xt(l,m){Et.call(this),this.g=new pv(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(l?l["X-WebChannel-Client-Profile"]=m.sa:l={"X-WebChannel-Client-Profile":m.sa}),this.g.U=l,(l=m&&m.Qb)&&!D(l)&&(this.g.u=l),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new Nr(this)}d(Xt,Et),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Yf(this.g)},Xt.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Pf(l),l=g);m.i.push(new FR(m.Ya++,l)),m.I==3&&Cc(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Yf(this.g),delete this.g,Xt.Z.N.call(this)};function Cv(l){Vf.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const g in m){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}d(Cv,Vf);function Rv(){jf.call(this),this.status=1}d(Rv,jf);function Nr(l){this.g=l}d(Nr,Av),Nr.prototype.ra=function(){Ot(this.g,"a")},Nr.prototype.qa=function(l){Ot(this.g,new Cv(l))},Nr.prototype.pa=function(l){Ot(this.g,new Rv)},Nr.prototype.oa=function(){Ot(this.g,"b")},Nc.prototype.createWebChannel=Nc.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,g2=function(){return new Nc},p2=function(){return bc()},m2=Ms,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tc.NO_ERROR=0,Tc.TIMEOUT=8,Tc.HTTP_ERROR=6,wu=Tc,H0.COMPLETE="complete",d2=H0,U0.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Vo=U0,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,f2=je}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",V_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new ly("@firebase/firestore");function Pr(){return gr.logLevel}function H(t,...e){if(gr.logLevel<=le.DEBUG){const n=e.map(_y);gr.debug(`Firestore (${Qa}): ${t}`,...n)}}function Si(t,...e){if(gr.logLevel<=le.ERROR){const n=e.map(_y);gr.error(`Firestore (${Qa}): ${t}`,...n)}}function Ca(t,...e){if(gr.logLevel<=le.WARN){const n=e.map(_y);gr.warn(`Firestore (${Qa}): ${t}`,...n)}}function _y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,y2(t,i,n)}function y2(t,e,n){let i=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Si(i),new Error(i)}function Ve(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||y2(e,s,i)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class ik{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sk{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let r=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new nr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},o=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new nr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ve(typeof i.accessToken=="string",31837,{l:i}),new v2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new At(e)}}class rk{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=At.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ak{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new rk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ok{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const i=r=>{r.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=lk(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function ue(t,e){return t<e?-1:t>e?1:0}function bp(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),r=e.charAt(i);if(s!==r)return Fd(s)===Fd(r)?ue(s,r):Fd(s)?1:-1}return ue(t.length,e.length)}const ck=55296,uk=57343;function Fd(t){const e=t.charCodeAt(0);return e>=ck&&e<=uk}function Ra(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="__name__";class jn{constructor(e,n,i){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&te(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=jn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return ue(e.length,n.length)}static compareSegments(e,n){const i=jn.isNumericId(e),s=jn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?jn.extractNumericId(e).compare(jn.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class ke extends jn{construct(e,n,i){return new ke(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Y(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends jn{construct(e,n,i){return new Pt(e,n,i)}static isValidIdentifier(e){return hk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new Pt([L_])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Y(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new Y(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ke.fromString(e))}static fromName(e){return new Q(ke.fromString(e).popFirst(5))}static empty(){return new Q(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e,n){if(!n)throw new Y(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dk(t,e,n,i){if(e===!0&&i===!0)throw new Y(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U_(t){if(!Q.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pk(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Tp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pk(t);throw new Y(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ac(t,e){if(!mk(t))throw new Y(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new Y(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-62135596800,B_=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*B_);return new Je(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z_)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ac(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:tt("string",Je._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Je(0,0))}static max(){return new ee(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function gk(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(i===1e9?new Je(n+1,0):new Je(n,i));return new bs(s,Q.empty(),e)}function yk(t){return new bs(t.readTime,t.key,Dl)}class bs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new bs(ee.min(),Q.empty(),Dl)}static max(){return new bs(ee.max(),Q.empty(),Dl)}}function vk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==_k)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,i)=>{n(e)})}static reject(e){return new z((n,i)=>{i(e)})}static waitFor(e){return new z((n,i)=>{let s=0,r=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},c=>i(c))}),a=!0,r===s&&n()})}static or(e){let n=z.resolve(!1);for(const i of e)n=n.next(s=>s?z.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new z((i,s)=>{const r=e.length,a=new Array(r);let o=0;for(let c=0;c<r;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++o,o===r&&i(a)},h=>s(h))}})}static doWhile(e,n){return new z((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function Tk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=-1;function lf(t){return t==null}function xp(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="";function Ek(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=F_(e)),e=Sk(t.get(n),e);return F_(e)}function Sk(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case _2:n+="";break;default:n+=r}}return n}function F_(t){return t+_2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??gt.RED,this.left=s??gt.EMPTY,this.right=r??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new gt(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new Ji([])}unionWith(e){let n=new rt(Pt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ji(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new b2("Invalid base64 string: "+r):r}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Ak=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=Ak.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="server_timestamp",x2="__type__",E2="__previous_value__",S2="__local_write_time__";function Ty(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[x2])==null?void 0:i.stringValue)===T2}function cf(t){const e=t.mapValue.fields[E2];return Ty(e)?cf(e):e}function Ol(t){const e=Ts(t.mapValue.fields[S2].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,i,s,r,a,o,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const bh="(default)";class Ml{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="__type__",Nk="__max__",Xc={mapValue:{}},Ik="__vector__",Ep="value";function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:Ok(t)?9007199254740991:Dk(t)?10:11:te(28295,{value:t})}function Qn(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Ts(s.timestampValue),o=Ts(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return xs(s.bytesValue).isEqual(xs(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return qe(s.geoPointValue.latitude)===qe(r.geoPointValue.latitude)&&qe(s.geoPointValue.longitude)===qe(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return qe(s.integerValue)===qe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=qe(s.doubleValue),o=qe(r.doubleValue);return a===o?xp(a)===xp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(q_(a)!==q_(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Qn(a[c],o[c])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function kl(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function Na(t,e){if(t===e)return 0;const n=Es(t),i=Es(e);if(n!==i)return ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(r,a){const o=qe(r.integerValue||r.doubleValue),c=qe(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return G_(t.timestampValue,e.timestampValue);case 4:return G_(Ol(t),Ol(e));case 5:return bp(t.stringValue,e.stringValue);case 6:return function(r,a){const o=xs(r),c=xs(a);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const h=ue(o[u],c[u]);if(h!==0)return h}return ue(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const o=ue(qe(r.latitude),qe(a.latitude));return o!==0?o:ue(qe(r.longitude),qe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return K_(t.arrayValue,e.arrayValue);case 10:return function(r,a){var p,y,v,C;const o=r.fields||{},c=a.fields||{},u=(p=o[Ep])==null?void 0:p.arrayValue,h=(y=c[Ep])==null?void 0:y.arrayValue,d=ue(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((C=h==null?void 0:h.values)==null?void 0:C.length)||0);return d!==0?d:K_(u,h)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Xc.mapValue&&a===Xc.mapValue)return 0;if(r===Xc.mapValue)return 1;if(a===Xc.mapValue)return-1;const o=r.fields||{},c=Object.keys(o),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){const p=bp(c[d],h[d]);if(p!==0)return p;const y=Na(o[c[d]],u[h[d]]);if(y!==0)return y}return ue(c.length,h.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function G_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Ts(t),i=Ts(e),s=ue(n.seconds,i.seconds);return s!==0?s:ue(n.nanos,i.nanos)}function K_(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Na(n[s],i[s]);if(r)return r}return ue(n.length,i.length)}function Ia(t){return Sp(t)}function Sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ts(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Sp(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Sp(n.fields[a])}`;return s+"}"}(t.mapValue):te(61005,{value:t})}function Au(t){switch(Es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(t);return e?16+Au(e):16;case 5:return 2*t.stringValue.length;case 6:return xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Au(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return oc(i.fields,(r,a)=>{s+=r.length+Au(a)}),s}(t.mapValue);default:throw te(13486,{value:t})}}function wp(t){return!!t&&"integerValue"in t}function xy(t){return!!t&&"arrayValue"in t}function $_(t){return!!t&&"nullValue"in t}function Y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function Dk(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Rk])==null?void 0:i.stringValue)===Ik}function rl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oc(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=rl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return{...t}}function Ok(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Nk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=Pt.emptyPath(),i={},s=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=rl(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){oc(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ln(rl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,i,s,r,a,o){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ct(e,0,ee.min(),ee.min(),ee.min(),Ln.empty(),0)}static newFoundDocument(e,n,i,s){return new Ct(e,1,n,ee.min(),i,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,ee.min(),ee.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ee.min(),ee.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function Q_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=Na(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function X_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{}class st extends w2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Pk(e,n,i):n==="array-contains"?new Lk(e,i):n==="in"?new Uk(e,i):n==="not-in"?new zk(e,i):n==="array-contains-any"?new Bk(e,i):new st(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Vk(e,i):new jk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Na(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends w2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return A2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A2(t){return t.op==="and"}function C2(t){return kk(t)&&A2(t)}function kk(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function Ap(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if(C2(t))return t.filters.map(e=>Ap(e)).join(",");{const e=t.filters.map(n=>Ap(n)).join(",");return`${t.op}(${e})`}}function R2(t,e){return t instanceof st?function(i,s){return s instanceof st&&i.op===s.op&&i.field.isEqual(s.field)&&Qn(i.value,s.value)}(t,e):t instanceof Xn?function(i,s){return s instanceof Xn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&R2(a,s.filters[o]),!0):!1}(t,e):void te(19439)}function N2(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Ia(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(N2).join(" ,")+"}"}(t):"Filter"}class Pk extends st{constructor(e,n,i){super(e,n,i),this.key=Q.fromName(i.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vk extends st{constructor(e,n){super(e,"in",n),this.keys=I2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jk extends st{constructor(e,n){super(e,"not-in",n),this.keys=I2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function I2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class Lk extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xy(n)&&kl(n.arrayValue,this.value)}}class Uk extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class zk extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class Bk extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>kl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n=null,i=[],s=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function W_(t,e=null,n=[],i=[],s=null,r=null,a=null){return new Fk(t,e,n,i,s,r,a)}function Ey(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ap(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ia(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ia(i)).join(",")),e.Te=n}return e.Te}function Sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X_(t.startAt,e.startAt)&&X_(t.endAt,e.endAt)}function Cp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,i=[],s=[],r=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qk(t,e,n,i,s,r,a,o){return new uf(t,e,n,i,s,r,a,o)}function wy(t){return new uf(t)}function Z_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hk(t){return t.collectionGroup!==null}function al(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new rt(Pt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new xh(r,i))}),n.has(Pt.keyField().canonicalString())||e.Ie.push(new xh(Pt.keyField(),i))}return e.Ie}function Kn(t){const e=de(t);return e.Ee||(e.Ee=Gk(e,al(t))),e.Ee}function Gk(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new xh(s.field,r)});const n=t.endAt?new Th(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Th(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Rp(t,e,n){return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return Sy(Kn(t),Kn(e))&&t.limitType===e.limitType}function D2(t){return`${Ey(Kn(t))}|lt:${t.limitType}`}function Vr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>N2(s)).join(", ")}]`),lf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ia(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ia(s)).join(",")),`Target(${i})`}(Kn(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Q.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of al(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,o,c){const u=Q_(a,o,c);return a.inclusive?u<=0:u<0}(i.startAt,al(i),s)||i.endAt&&!function(a,o,c){const u=Q_(a,o,c);return a.inclusive?u>=0:u>0}(i.endAt,al(i),s))}(t,e)}function Kk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O2(t){return(e,n)=>{let i=!1;for(const s of al(t)){const r=$k(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function $k(t,e,n){const i=t.field.isKeyField()?Q.comparator(e.key,n.key):function(r,a,o){const c=a.data.field(r),u=o.data.field(r);return c!==null&&u!==null?Na(c,u):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oc(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new $e(Q.comparator);function Ss(){return Yk}const M2=new $e(Q.comparator);function jo(...t){let e=M2;for(const n of t)e=e.insert(n.key,n);return e}function Qk(t){let e=M2;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ys(){return ol()}function k2(){return ol()}function ol(){return new wr(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xk=new rt(Q.comparator);function pe(...t){let e=Xk;for(const n of t)e=e.add(n);return e}const Wk=new rt(ue);function Zk(){return Wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xp(e)?"-0":e}}function eP(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function tP(t,e,n){return t instanceof Np?function(s,r){const a={fields:{[x2]:{stringValue:T2},[S2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Ty(r)&&(r=cf(r)),r&&(a.fields[E2]=r),{mapValue:a}}(n,e):t instanceof Eh?P2(t,e):t instanceof Sh?V2(t,e):function(s,r){const a=iP(s,r),o=J_(a)+J_(s.Ae);return wp(a)&&wp(s.Ae)?eP(o):Jk(s.serializer,o)}(t,e)}function nP(t,e,n){return t instanceof Eh?P2(t,e):t instanceof Sh?V2(t,e):n}function iP(t,e){return t instanceof Ip?function(i){return wp(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Np extends df{}class Eh extends df{constructor(e){super(),this.elements=e}}function P2(t,e){const n=j2(e);for(const i of t.elements)n.some(s=>Qn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Sh extends df{constructor(e){super(),this.elements=e}}function V2(t,e){let n=j2(e);for(const i of t.elements)n=n.filter(s=>!Qn(s,i));return{arrayValue:{values:n}}}class Ip extends df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J_(t){return qe(t.integerValue||t.doubleValue)}function j2(t){return xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sP(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Eh&&s instanceof Eh||i instanceof Sh&&s instanceof Sh?Ra(i.elements,s.elements,Qn):i instanceof Ip&&s instanceof Ip?Qn(i.Ae,s.Ae):i instanceof Np&&s instanceof Np}(t.transform,e.transform)}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ay{}function L2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aP(t.key,ir.none()):new Cy(t.key,t.data,ir.none());{const n=t.data,i=Ln.empty();let s=new rt(Pt.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new mf(t.key,i,new Ji(s.toArray()),ir.none())}}function rP(t,e,n){t instanceof Cy?function(s,r,a){const o=s.value.clone(),c=tb(s.fieldTransforms,r,a.transformResults);o.setAll(c),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof mf?function(s,r,a){if(!Cu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=tb(s.fieldTransforms,r,a.transformResults),c=r.data;c.setAll(U2(s)),c.setAll(o),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,i){return t instanceof Cy?function(r,a,o,c){if(!Cu(r.precondition,a))return o;const u=r.value.clone(),h=nb(r.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof mf?function(r,a,o,c){if(!Cu(r.precondition,a))return o;const u=nb(r.fieldTransforms,c,a),h=a.data;return h.setAll(U2(r)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(r,a,o){return Cu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function eb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ra(i,s,(r,a)=>sP(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cy extends Ay{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mf extends Ay{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function U2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function tb(t,e,n){const i=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,o=e.data.field(r.field);i.set(r.field,nP(a,o,n[s]))}return i}function nb(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,tP(r,a,e))}return i}class aP extends Ay{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&rP(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ll(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ll(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=k2();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const c=L2(a,o);c!==null&&i.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,i)=>eb(n,i))&&Ra(this.baseMutations,e.baseMutations,(n,i)=>eb(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,fe;function z2(t){if(t===void 0)return Si("GRPC error has no .code"),B.UNKNOWN;switch(t){case Qe.OK:return B.OK;case Qe.CANCELLED:return B.CANCELLED;case Qe.UNKNOWN:return B.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return B.INTERNAL;case Qe.UNAVAILABLE:return B.UNAVAILABLE;case Qe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Qe.NOT_FOUND:return B.NOT_FOUND;case Qe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Qe.ABORTED:return B.ABORTED;case Qe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Qe.DATA_LOSS:return B.DATA_LOSS;default:return te(39323,{code:t})}}(fe=Qe||(Qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new ds([4294967295,4294967295],0);function ib(t){const e=uP().encode(t),n=new h2;return n.update(e),new Uint8Array(n.digest())}function sb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new ds([n,i],0),new ds([s,r],0)]}class Ry{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Lo(`Invalid padding: ${n}`);if(i<0)throw new Lo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Lo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Lo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(ds.fromNumber(i)));return s.compare(hP)===1&&(s=new ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ib(e),[i,s]=sb(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new Ry(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=ib(e),[i,s]=sb(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new pf(ee.min(),s,new $e(ue),Ss(),pe())}}class lc{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new lc(i,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class B2{constructor(e,n){this.targetId=e,this.Ce=n}}class F2{constructor(e,n,i=Tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class rb{constructor(){this.ve=0,this.Fe=ab(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),i=pe();return this.Fe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:te(38017,{changeType:r})}}),new lc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=ab()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=Wc(),this.He=Wc(),this.Ye=new $e(ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const r=s.target;if(Cp(r))if(i===0){const a=new Q(r.path);this.et(n,a,Ct.newNoDocument(a,ee.min()))}else Ve(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=xs(i).toUint8Array()}catch(c){if(c instanceof b2)return Ca("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new Ry(a,s,r)}catch(c){return Ca(c instanceof Lo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.et(n,r,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&Cp(o.target)){const c=new Q(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Ct.newNoDocument(c,e))}r.Be&&(n.set(a,r.ke()),r.qe())}});let i=pe();this.He.forEach((r,a)=>{let o=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const s=new pf(e,n,this.Ye,this.je,i);return this.je=Ss(),this.Je=Wc(),this.He=Wc(),this.Ye=new $e(ue),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rt(ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rt(ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new $e(Q.comparator)}function ab(){return new $e(Q.comparator)}const dP={asc:"ASCENDING",desc:"DESCENDING"},mP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pP={and:"AND",or:"OR"};class gP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function yP(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function da(t){return Ve(!!t,49232),ee.fromTimestamp(function(n){const i=Ts(n);return new Je(i.seconds,i.nanos)}(t))}function _P(t,e){return Op(t,e).canonicalString()}function Op(t,e){const n=function(s){return new ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q2(t){const e=ke.fromString(t);return Ve(Y2(e),10190,{key:e.toString()}),e}function Hd(t,e){const n=q2(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(G2(n))}function H2(t,e){return _P(t.databaseId,e)}function bP(t){const e=q2(t);return e.length===4?ke.emptyPath():G2(e)}function ob(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G2(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function TP(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(u,h){return u.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Tt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const h=u.code===void 0?B.UNKNOWN:z2(u.code);return new Y(h,u.message||"")}(a);n=new F2(i,s,r,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Hd(t,i.document.name),r=da(i.document.updateTime),a=i.document.createTime?da(i.document.createTime):ee.min(),o=new Ln({mapValue:{fields:i.document.fields}}),c=Ct.newFoundDocument(s,r,a,o),u=i.targetIds||[],h=i.removedTargetIds||[];n=new Ru(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Hd(t,i.document),r=i.readTime?da(i.readTime):ee.min(),a=Ct.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Ru([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Hd(t,i.document),r=i.removedTargetIds||[];n=new Ru([],r,s,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new cP(s,r),o=i.targetId;n=new B2(o,a)}}return n}function xP(t,e){return{documents:[H2(t,e.path)]}}function EP(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=H2(t,s);const r=function(u){if(u.length!==0)return $2(Xn.create(u,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:jr(p.field),direction:AP(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Dp(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function SP(t){let e=bP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Ve(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(d){const p=K2(d);return p instanceof Xn&&C2(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(p=>function(v){return new xh(Lr(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,lf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(d){const p=!!d.before,y=d.values||[];return new Th(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const p=!d.before,y=d.values||[];return new Th(y,p)}(n.endAt)),qk(e,s,a,r,o,"F",c,u)}function wP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Lr(n.unaryFilter.field);return st.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Lr(n.unaryFilter.field);return st.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Lr(n.unaryFilter.field);return st.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Lr(n.unaryFilter.field);return st.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return st.create(Lr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(i=>K2(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function AP(t){return dP[t]}function CP(t){return mP[t]}function RP(t){return pP[t]}function jr(t){return{fieldPath:t.canonicalString()}}function Lr(t){return Pt.fromServerFormat(t.fieldPath)}function $2(t){return t instanceof st?function(n){if(n.op==="=="){if(Y_(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y_(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jr(n.field),op:CP(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const i=n.getFilters().map(s=>$2(s));return i.length===1?i[0]:{compositeFilter:{op:RP(n.op),filters:i}}}(t):te(54877,{filter:t})}function Y2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,i,s,r=ee.min(),a=ee.min(),o=Tt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.yt=e}}function IP(t){const e=SP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.Cn=new OP}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(bs.min())}updateCollectionGroup(e,n,i){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class OP{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new rt(ke.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new rt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q2=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(Q2,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Da(0)}static cr(){return new Da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="LruGarbageCollector",MP=1048576;function ub([t,e],[n,i]){const s=ue(t,n);return s===0?ue(e,i):s}class kP{constructor(e){this.Ir=e,this.buffer=new rt(ub),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ub(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PP{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(cb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xa(n)?H(cb,"Ignoring IndexedDB error during garbage collection: ",n):await af(n)}await this.Vr(3e5)})}}class VP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return z.resolve(of.ce);const i=new kP(n);return this.mr.forEachTarget(e,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(lb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,r,a,o,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,a=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(i=d,o=Date.now(),this.removeTargets(e,i,n))).next(d=>(r=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(u=Date.now(),Pr()<=le.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(c-o)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}function jP(t,e){return new VP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.changes=new wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?z.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&ll(i.mutation,s,Ji.empty(),Je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,pe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=pe()){const s=Ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=jo();return r.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,pe()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,i,s){let r=Ss();const a=ol(),o=function(){return ol()}();return n.forEach((c,u)=>{const h=i.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof mf)?r=r.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),ll(h.mutation,u,h.mutation.getFieldMask(),Je.now())):a.set(u.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>o.set(u,new UP(h,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const i=ol();let s=new $e((a,o)=>a-o),r=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=i.get(c)||Ji.empty();h=o.applyToLocalView(u,h),i.set(c,h);const d=(s.get(o.batchId)||pe()).add(c);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,h=c.value,d=k2();h.forEach(p=>{if(!r.has(p)){const y=L2(n.get(p),i.get(p));y!==null&&d.set(p,y),r=r.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):z.resolve(Ys());let o=Dl,c=r;return a.next(u=>z.forEach(u,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),r.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,u,r)).next(()=>this.computeViews(e,c,u,pe())).next(h=>({batchId:o,changes:Qk(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(i=>{let s=jo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=jo();return this.indexManager.getCollectionParents(e,r).next(o=>z.forEach(o,c=>{const u=function(d,p){return new uf(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,u,i,s).next(h=>{h.forEach((d,p)=>{a=a.insert(d,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Ct.newInvalidDocument(h)))});let o=jo();return a.forEach((c,u)=>{const h=r.get(c);h!==void 0&&ll(h.mutation,u,Ji.empty(),Je.now()),ff(n,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:da(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:IP(s.bundledQuery),readTime:da(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.overlays=new $e(Q.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ys();return z.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.St(e,n,r)}),z.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(i)),z.resolve()}getOverlaysForCollection(e,n,i){const s=Ys(),r=n.length+1,a=new Q(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new $e((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=r.get(u.largestBatchId);h===null&&(h=Ys(),r=r.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=Ys(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>o.set(u,h)),!(o.size()>=s)););return z.resolve(o)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new lP(n,i));let r=this.qr.get(n);r===void 0&&(r=pe(),this.qr.set(n,r)),this.qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.Qr=new rt(ct.$r),this.Ur=new rt(ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new ct(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new ct(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Q(new ke([])),i=new ct(n,e),s=new ct(n,e+1),r=[];return this.Ur.forEachInRange([i,s],a=>{this.Gr(a),r.push(a.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new ke([])),i=new ct(n,e),s=new ct(n,e+1);let r=pe();return this.Ur.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new ct(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ue(e.Yr,n.Yr)}static Kr(e,n){return ue(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rt(ct.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oP(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Zr=this.Zr.add(new ct(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),r=s<0?0:s;return z.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?xk:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([i,s],a=>{const o=this.Xr(a.Yr);r.push(o)}),z.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new rt(ue);return n.forEach(s=>{const r=new ct(s,0),a=new ct(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,a],o=>{i=i.add(o.Yr)})}),z.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Q.isDocumentKey(r)||(r=r.child(""));const a=new ct(new Q(r),0);let o=new rt(ue);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===s&&(o=o.add(c.Yr)),!0)},a),z.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return z.forEach(n.mutations,s=>{const r=new ct(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new ct(n,0),s=this.Zr.firstAfterOrEqual(i);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.ri=e,this.docs=function(){return new $e(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return z.resolve(i?i.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let i=Ss();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ct.newInvalidDocument(s))}),z.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Ss();const a=n.path,o=new Q(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||vk(yk(h),i)<=0||(s.has(h.key)||ff(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return z.resolve(r)}getAllFromCollectionGroup(e,n,i,s){te(9500)}ii(e,n){return z.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new KP(this)}getSize(e){return z.resolve(this.size)}}class KP extends LP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.persistence=e,this.si=new wr(n=>Ey(n),Sy),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Ny,this.targetCount=0,this.ai=Da.ur()}forEachTarget(e,n){return this.si.forEach((i,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Da(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.si.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),z.waitFor(r).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return z.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),z.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),z.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return z.resolve(i)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new qP,this.referenceDelegate=e(this),this.Pi=new $P(this),this.indexManager=new DP,this.remoteDocumentCache=function(s){return new GP(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new NP(n),this.Ii=new BP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new HP(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){H("MemoryPersistence","Starting transaction:",e);const s=new YP(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(r=>this.referenceDelegate.di(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ai(e,n){return z.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class YP extends bk{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Ri=new Ny,this.Vi=null}static mi(e){return new Iy(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),z.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.fi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,i=>{const s=Q.fromPath(i);return this.gi(e,s).next(r=>{r||n.removeEntry(s,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.pi=new wr(i=>Ek(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=jP(this,n)}static mi(e,n){return new wh(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(i,s)=>this.br(e,i,s).next(r=>r?z.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(o=>{o||(i++,r.removeEntry(a,ee.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),z.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Au(e.data.value)),n}br(e,n,i){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=pe(),s=pe();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Dy(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return xD()?8:Tk(It())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ys(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ws(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new QP;return this.Ss(e,n,a).next(o=>{if(r.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>r.result)}bs(e,n,i,s){return i.documentReadCount<this.fs?(Pr()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Vr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Pr()<=le.DEBUG&&H("QueryEngine","Query:",Vr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Pr()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Vr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):z.resolve())}ys(e,n){if(Z_(n))return z.resolve(null);let i=Kn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rp(n,null,"F"),i=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=pe(...r);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(c=>{const u=this.Ds(n,o);return this.Cs(n,u,a,c.readTime)?this.ys(e,Rp(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,i,s){return Z_(n)||s.isEqual(ee.min())?z.resolve(null):this.ps.getDocuments(e,i).next(r=>{const a=this.Ds(n,r);return this.Cs(n,a,i,s)?z.resolve(null):(Pr()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vr(n)),this.vs(e,a,n,gk(s,Dl)).next(o=>o))})}Ds(e,n){let i=new rt(O2(e));return n.forEach((s,r)=>{ff(e,r)&&(i=i.add(r))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,n,i){return Pr()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Vr(n)),this.ps.getDocumentsMatchingQuery(e,n,bs.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="LocalStore",WP=3e8;class ZP{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new $e(ue),this.xs=new wr(r=>Ey(r),Sy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function JP(t,e,n,i){return new ZP(t,e,n,i)}async function W2(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let c=pe();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of r){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(i,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function Z2(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function eV(t,e){const n=de(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach((h,d)=>{const p=s.get(d);if(!p)return;o.push(n.Pi.removeMatchingKeys(r,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(r,h.addedDocuments,d)));let y=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(Tt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),s=s.insert(d,y),function(C,R,b){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=WP?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,y,h)&&o.push(n.Pi.updateTargetData(r,y))});let c=Ss(),u=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(tV(r,a,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!i.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(r).next(d=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(h)}return z.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,u)).next(()=>c)}).then(r=>(n.Ms=s,r))}function tV(t,e,n){let i=pe(),s=pe();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Ss();return n.forEach((o,c)=>{const u=r.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),c.isNoDocument()&&c.version.isEqual(ee.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):H(Oy,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:s}})}function nV(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,e).next(r=>r?(s=r,z.resolve(s)):n.Pi.allocateTargetId(i).next(a=>(s=new es(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Mp(t,e,n){const i=de(t),s=i.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Xa(a))throw a;H(Oy,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function hb(t,e,n){const i=de(t);let s=ee.min(),r=pe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const d=de(c),p=d.xs.get(h);return p!==void 0?z.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,h)}(i,a,Kn(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,o.targetId).next(c=>{r=c})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,e,n?s:ee.min(),n?r:pe())).next(o=>(iV(i,Kk(e),o),{documents:o,Qs:r})))}function iV(t,e,n){let i=t.Os.get(e)||ee.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Os.set(e,i)}class fb{constructor(){this.activeTargetIds=Zk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sV{constructor(){this.Mo=new fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="ConnectivityMonitor";class mb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function kp(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",aV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===bh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,r){const a=kp(),o=this.zo(e,n.toUriEncodedString());H(Gd,`Sending RPC '${e}' ${a}:`,o,i);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,r);const{host:u}=new URL(o),h=Ka(u);return this.Jo(e,o,c,i,h).then(d=>(H(Gd,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Ca(Gd,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",i),d})}Ho(e,n,i,s,r,a){return this.Go(e,n,i,s,r)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}zo(e,n){const i=aV[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class cV extends oV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,r){const a=kp();return new Promise((o,c)=>{const u=new f2;u.setWithCredentials(!0),u.listenOnce(d2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wu.NO_ERROR:const d=u.getResponseJson();H(St,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case wu.TIMEOUT:H(St,`RPC '${e}' ${a} timed out`),c(new Y(B.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const p=u.getStatus();if(H(St,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y==null?void 0:y.error;if(v&&v.status&&v.message){const C=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(v.status);c(new Y(C,v.message))}else c(new Y(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y(B.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(St,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);H(St,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,i,15)})}T_(e,n,i){const s=kp(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=g2(),o=p2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;const h=r.join("");H(St,`Creating RPC '${e}' stream ${s}: ${h}`,c);const d=a.createWebChannel(h,c);this.I_(d);let p=!1,y=!1;const v=new lV({Yo:R=>{y?H(St,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(p||(H(St,`Opening RPC '${e}' stream ${s} transport.`),d.open(),p=!0),H(St,`RPC '${e}' stream ${s} sending:`,R),d.send(R))},Zo:()=>d.close()}),C=(R,b,T)=>{R.listen(b,S=>{try{T(S)}catch(w){setTimeout(()=>{throw w},0)}})};return C(d,Vo.EventType.OPEN,()=>{y||(H(St,`RPC '${e}' stream ${s} transport opened.`),v.o_())}),C(d,Vo.EventType.CLOSE,()=>{y||(y=!0,H(St,`RPC '${e}' stream ${s} transport closed`),v.a_(),this.E_(d))}),C(d,Vo.EventType.ERROR,R=>{y||(y=!0,Ca(St,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),v.a_(new Y(B.UNAVAILABLE,"The operation could not be completed")))}),C(d,Vo.EventType.MESSAGE,R=>{var b;if(!y){const T=R.data[0];Ve(!!T,16349);const S=T,w=(S==null?void 0:S.error)||((b=S[0])==null?void 0:b.error);if(w){H(St,`RPC '${e}' stream ${s} received error:`,w);const N=w.status;let k=function(E){const I=Qe[E];if(I!==void 0)return z2(I)}(N),x=w.message;k===void 0&&(k=B.INTERNAL,x="Unknown error status: "+N+" with message "+w.message),y=!0,v.a_(new Y(k,x)),d.close()}else H(St,`RPC '${e}' stream ${s} received:`,T),v.u_(T)}}),C(o,m2.STAT_EVENT,R=>{R.stat===_p.PROXY?H(St,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===_p.NOPROXY&&H(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){return new gP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,i=1e3,s=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="PersistentStream";class uV{constructor(e,n,i,s,r,a,o,c){this.Mi=e,this.S_=i,this.b_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new Y(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hV extends uV{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TP(this.serializer,e),i=function(r){if(!("targetChange"in r))return ee.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ee.min():a.readTime?da(a.readTime):ee.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=ob(this.serializer),n.addTarget=function(r,a){let o;const c=a.target;if(o=Cp(c)?{documents:xP(r,c)}:{query:EP(r,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=vP(r,a.resumeToken);const u=Dp(r,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(ee.min())>0){o.readTime=yP(r,a.snapshotVersion.toTimestamp());const u=Dp(r,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const i=wP(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=ob(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{}class dV extends fV{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Go(e,Op(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(B.UNKNOWN,r.toString())})}Ho(e,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Op(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(B.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class pV{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{uc(this)&&(H(Oa,"Restarting streams for network reachability change."),await async function(c){const u=de(c);u.Ea.add(4),await cc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await gf(u)}(this))})}),this.Ra=new mV(i,s)}}async function gf(t){if(uc(t))for(const e of t.da)await e(!0)}async function cc(t){for(const e of t.da)await e(!1)}function tA(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vy(n)?Py(n):Wa(n).O_()&&ky(n,e))}function My(t,e){const n=de(t),i=Wa(n);n.Ia.delete(e),i.O_()&&nA(n,e),n.Ia.size===0&&(i.O_()?i.L_():uc(n)&&n.Ra.set("Unknown"))}function ky(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wa(t).Y_(e)}function nA(t,e){t.Va.Ue(e),Wa(t).Z_(e)}function Py(t){t.Va=new fP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wa(t).start(),t.Ra.ua()}function Vy(t){return uc(t)&&!Wa(t).x_()&&t.Ia.size>0}function uc(t){return de(t).Ea.size===0}function iA(t){t.Va=void 0}async function gV(t){t.Ra.set("Online")}async function yV(t){t.Ia.forEach((e,n)=>{ky(t,e)})}async function vV(t,e){iA(t),Vy(t)?(t.Ra.ha(e),Py(t)):t.Ra.set("Unknown")}async function _V(t,e,n){if(t.Ra.set("Online"),e instanceof F2&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.Va.removeTarget(o))}(t,e)}catch(i){H(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gb(t,i)}else if(e instanceof Ru?t.Va.Ze(e):e instanceof B2?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const i=await Z2(t.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.Va.Tt(a);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ia.get(u);h&&r.Ia.set(u,h.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,u)=>{const h=r.Ia.get(c);if(!h)return;r.Ia.set(c,h.withResumeToken(Tt.EMPTY_BYTE_STRING,h.snapshotVersion)),nA(r,c);const d=new es(h.target,c,u,h.sequenceNumber);ky(r,d)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){H(Oa,"Failed to raise snapshot:",i),await gb(t,i)}}async function gb(t,e,n){if(!Xa(e))throw e;t.Ea.add(1),await cc(t),t.Ra.set("Offline"),n||(n=()=>Z2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gf(t)})}async function yb(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),H(Oa,"RemoteStore received new credentials");const i=uc(n);n.Ea.add(3),await cc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gf(n)}async function bV(t,e){const n=de(t);e?(n.Ea.delete(2),await gf(n)):e||(n.Ea.add(2),await cc(n),n.Ra.set("Unknown"))}function Wa(t){return t.ma||(t.ma=function(n,i,s){const r=de(n);return r.sa(),new hV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Xo:gV.bind(null,t),t_:yV.bind(null,t),r_:vV.bind(null,t),H_:_V.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Vy(t)?Py(t):t.Ra.set("Unknown")):(await t.ma.stop(),iA(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,o=new jy(e,n,a,s,r);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sA(t,e){if(Si("AsyncQueue",`${e}: ${t}`),Xa(t))return new Y(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{static emptySet(e){return new ma(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=jo(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ma;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.ga=new $e(Q.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ma{constructor(e,n,i,s,r,a,o,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ma(e,n,ma.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xV{constructor(){this.queries=_b(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=de(n),r=s.queries;s.queries=_b(),r.forEach((a,o)=>{for(const c of o.Sa)c.onError(i)})})(this,new Y(B.ABORTED,"Firestore shutting down"))}}function _b(){return new wr(t=>D2(t),hf)}async function EV(t,e){const n=de(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.ba()&&e.Da()&&(i=2):(r=new TV,i=e.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=sA(a,`Initialization of query '${Vr(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,r),r.Sa.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&Ly(n)}async function SV(t,e){const n=de(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=e.Da()?0:1:!r.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function wV(t,e){const n=de(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.Sa)o.Fa(s)&&(i=!0);a.wa=s}}i&&Ly(n)}function AV(t,e,n){const i=de(t),s=i.queries.get(e);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(e)}function Ly(t){t.Ca.forEach(e=>{e.next()})}var Pp,bb;(bb=Pp||(Pp={})).Ma="default",bb.Cache="cache";class CV{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ma(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class RV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=O2(e),this.tu=new ma(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new vb,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const p=s.get(h),y=ff(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;p&&y?p.data.isEqual(y.data)?v!==C&&(i.track({type:3,doc:y}),R=!0):this.su(p,y)||(i.track({type:2,doc:y}),R=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(o=!0)):!p&&y?(i.track({type:0,doc:y}),R=!0):p&&!y&&(i.track({type:1,doc:p}),R=!0,(c||u)&&(o=!0)),R&&(y?(a=a.add(y),r=C?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{tu:a,iu:i,Cs:o,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,d)=>function(y,v){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:R})}};return C(y)-C(v)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(i),s=s??!1;const o=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Ma(this.query,e.tu,r,a,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new aA(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new rA(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Uy="SyncEngine";class NV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class IV{constructor(e){this.key=e,this.hu=!1}}class DV{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new wr(o=>D2(o),hf),this.Iu=new Map,this.Eu=new Set,this.du=new $e(Q.comparator),this.Au=new Map,this.Ru=new Ny,this.Vu={},this.mu=new Map,this.fu=Da.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OV(t,e,n=!0){const i=hA(t);let s;const r=i.Tu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await oA(i,e,n,!0),s}async function MV(t,e){const n=hA(t);await oA(n,e,!0,!1)}async function oA(t,e,n,i){const s=await nV(t.localStore,Kn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await kV(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&tA(t.remoteStore,s),o}async function kV(t,e,n,i,s){t.pu=(d,p,y)=>async function(C,R,b,T){let S=R.view.ru(b);S.Cs&&(S=await hb(C.localStore,R.query,!1).then(({documents:x})=>R.view.ru(x,S)));const w=T&&T.targetChanges.get(R.targetId),N=T&&T.targetMismatches.get(R.targetId)!=null,k=R.view.applyChanges(S,C.isPrimaryClient,w,N);return xb(C,R.targetId,k.au),k.snapshot}(t,d,p,y);const r=await hb(t.localStore,e,!0),a=new RV(e,r.Qs),o=a.ru(r.documents),c=lc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),u=a.applyChanges(o,t.isPrimaryClient,c);xb(t,n,u.au);const h=new NV(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function PV(t,e,n){const i=de(t),s=i.Tu.get(e),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!hf(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Mp(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&My(i.remoteStore,s.targetId),Vp(i,s.targetId)}).catch(af)):(Vp(i,s.targetId),await Mp(i.localStore,s.targetId,!0))}async function VV(t,e){const n=de(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),My(n.remoteStore,i.targetId))}async function lA(t,e){const n=de(t);try{const i=await eV(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ve(a.hu,14607):s.removedDocuments.size>0&&(Ve(a.hu,42227),a.hu=!1))}),await uA(n,i,e)}catch(i){await af(i)}}function Tb(t,e,n){const i=de(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const c=de(a);c.onlineState=o;let u=!1;c.queries.forEach((h,d)=>{for(const p of d.Sa)p.va(o)&&(u=!0)}),u&&Ly(c)}(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jV(t,e,n){const i=de(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),r=s&&s.key;if(r){let a=new $e(Q.comparator);a=a.insert(r,Ct.newNoDocument(r,ee.min()));const o=pe().add(r),c=new pf(ee.min(),new Map,new $e(ue),a,o);await lA(i,c),i.du=i.du.remove(r),i.Au.delete(e),zy(i)}else await Mp(i.localStore,e,!1).then(()=>Vp(i,e,n)).catch(af)}function Vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||cA(t,i)})}function cA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(My(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zy(t))}function xb(t,e,n){for(const i of n)i instanceof rA?(t.Ru.addReference(i.key,e),LV(t,i)):i instanceof aA?(H(Uy,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||cA(t,i.key)):te(19791,{wu:i})}function LV(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(H(Uy,"New document in limbo: "+n),t.Eu.add(i),zy(t))}function zy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(ke.fromString(e)),i=t.fu.next();t.Au.set(i,new IV(n)),t.du=t.du.insert(n,i),tA(t.remoteStore,new es(Kn(wy(n.path)),i,"TargetPurposeLimboResolution",of.ce))}}async function uA(t,e,n){const i=de(t),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,c)=>{a.push(i.pu(c,e,n).then(u=>{var h;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){s.push(u);const d=Dy.As(c.targetId,u);r.push(d)}}))}),await Promise.all(a),i.Pu.H_(s),await async function(c,u){const h=de(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,p=>z.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>z.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!Xa(d))throw d;H(Oy,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const y=h.Ms.get(p),v=y.snapshotVersion,C=y.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(p,C)}}}(i.localStore,r))}async function UV(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){H(Uy,"User change. New user:",e.toKey());const i=await W2(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(o=>{o.forEach(c=>{c.reject(new Y(B.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uA(n,i.Ls)}}function zV(t,e){const n=de(t),i=n.Au.get(e);if(i&&i.hu)return pe().add(i.key);{let s=pe();const r=n.Iu.get(e);if(!r)return s;for(const a of r){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function hA(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jV.bind(null,e),e.Pu.H_=wV.bind(null,e.eventManager),e.Pu.yu=AV.bind(null,e.eventManager),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=J2(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JP(this.persistence,new XP,e.initialUser,this.serializer)}Cu(e){return new X2(Iy.mi,this.serializer)}Du(e){return new sV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class BV extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new PP(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new X2(i=>wh.mi(i,n),this.serializer)}}class jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UV.bind(null,this.syncEngine),await bV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xV}()}createDatastore(e){const n=J2(e.databaseInfo.databaseId),i=function(r){return new cV(r)}(e.databaseInfo);return function(r,a,o,c){return new dV(r,a,o,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,o){return new pV(i,s,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Tb(this.syncEngine,n,0),function(){return mb.v()?new mb:new rV}())}createSyncEngine(e,n){return function(s,r,a,o,c,u,h){const d=new DV(s,r,a,o,c,u);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=de(s);H(Oa,"RemoteStore shutting down."),r.Ea.add(5),await cc(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class qV{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=At.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{H(ws,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(H(ws,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=sA(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function $d(t,e){t.asyncQueue.verifyOperationInProgress(),H(ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await W2(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Eb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HV(t);H(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>yb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>yb(e.remoteStore,s)),t._onlineComponents=e}async function HV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(ws,"Using user provided OfflineComponentProvider");try{await $d(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await $d(t,new Ah)}}else H(ws,"Using default OfflineComponentProvider"),await $d(t,new BV(void 0));return t._offlineComponents}async function GV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(ws,"Using user provided OnlineComponentProvider"),await Eb(t,t._uninitializedComponentsProvider._online)):(H(ws,"Using default OnlineComponentProvider"),await Eb(t,new jp))),t._onlineComponents}async function KV(t){const e=await GV(t),n=e.eventManager;return n.onListen=OV.bind(null,e.syncEngine),n.onUnlisten=PV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VV.bind(null,e.syncEngine),n}function $V(t,e,n={}){const i=new nr;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,o,c,u){const h=new FV({next:p=>{h.Nu(),a.enqueueAndForget(()=>SV(r,d));const y=p.docs.has(o);!y&&p.fromCache?u.reject(new Y(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?u.reject(new Y(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new CV(wy(o.path),h,{includeMetadataChanges:!0,qa:!0});return EV(r,d)}(await KV(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",wb=!0;class Ab{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=wb}else this.host=e.host,this.ssl=e.ssl??wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MP)throw new Y(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class By{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nk;switch(i.type){case"firstParty":return new ak(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Y(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Sb.get(n);i&&(H("ComponentProvider","Removing Datastore"),Sb.delete(n),i.terminate())}(this),Promise.resolve()}}function YV(t,e,n,i={}){var u;t=Tp(t,By);const s=Ka(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(Ew(`https://${o}`),Sw("Firestore",!0)),r.host!==dA&&r.host!==o&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...r,host:o,ssl:s,emulatorOptions:i};if(!fr(c,a)&&(t._setSettings(c),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=At.MOCK_USER;else{h=dD(i.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Y(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new At(p)}t._authCredentials=new ik(new v2(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fy(this.firestore,e,this._query)}}class jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ac(n,jt._jsonSchema))return new jt(e,i||null,new Q(ke.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:tt("string",jt._jsonSchemaVersion),referencePath:tt("string")};class Pl extends Fy{constructor(e,n,i){super(e,n,wy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Q(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function QV(t,e,...n){if(t=Ri(t),arguments.length===1&&(e=by.newId()),fk("doc","path",e),t instanceof By){const i=ke.fromString(e,...n);return U_(i),new jt(t,null,new Q(i))}{if(!(t instanceof jt||t instanceof Pl))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ke.fromString(e,...n));return U_(i),new jt(t.firestore,t instanceof Pl?t.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="AsyncQueue";class Rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eA(this,"async_queue_retry"),this._c=()=>{const i=Kd();i&&H(Cb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new nr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xa(e))throw e;H(Cb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",Nb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=jy.createAndSchedule(this,e,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&te(47125,{Pc:Nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Nb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mA extends By{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Rb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rb(e),this._firestoreClient=void 0,await e}}}function XV(t,e){const n=typeof t=="object"?t:Rw(),i=typeof t=="string"?t:bh,s=uy(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=hD("firestore");r&&YV(s,...r)}return s}function WV(t){if(t._terminated)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZV(t),t._firestoreClient}function ZV(t){var i,s,r;const e=t._freezeSettings(),n=function(o,c,u,h){return new Ck(o,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((r=e.localCache)!=null&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Tt.fromBase64String(e))}catch(n){throw new Y(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ac(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:tt("string",Un._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(ac(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:tt("string",ms._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ac(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ps(e.vectorValues);throw new Y(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:tt("string",ps._jsonSchemaVersion),vectorValues:tt("object")};const JV=new RegExp("[~\\*/\\[\\]]");function e3(t,e,n){if(e.search(JV)>=0)throw Ib(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new pA(...e.split("."))._internalPath}catch{throw Ib(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Ib(t,e,n,i,s){let r=`Function ${e}() called with invalid data`;r+=". ";let a="";return new Y(B.INVALID_ARGUMENT,r+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t3 extends gA{data(){return super.data()}}function yA(t,e){return typeof e=="string"?e3(t,e):e instanceof pA?e._internalPath:e._delegate._internalPath}class n3{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return oc(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var i,s,r;const n=(r=(s=(i=e.fields)==null?void 0:i[Ep].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>qe(a.doubleValue));return new ps(n)}convertGeoPoint(e){return new ms(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=cf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ke.fromString(e);Ve(Y2(i),9688,{name:e});const s=new Ml(i.get(1),i.get(3)),r=new Q(i.popFirst(5));return s.isEqual(n)||Si(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}class Uo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sr extends gA{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(yA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",sr._jsonSchema={type:tt("string",sr._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class Nu extends sr{data(e={}){return super.data(e)}}class cl{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Uo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Nu(this._firestore,this._userDataWriter,i.key,i,new Uo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const c=new Nu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Uo(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const c=new Nu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Uo(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:i3(o.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=by.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){t=Tp(t,jt);const e=Tp(t.firestore,mA);return $V(WV(e),t._key).then(n=>a3(e,t,n))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:tt("string",cl._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};class r3 extends n3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function a3(t,e,n){const i=n.docs.get(e._key),s=new r3(t);return new sr(t,s,e._key,i,new Uo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Qa=s})($a),Aa(new dr("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new mA(new sk(i.getProvider("auth-internal")),new ok(a,i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(u.options.projectId,h)}(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),fs(P_,V_,e),fs(P_,V_,"esm2020")})();const o3={apiKey:"AIzaSyDBqn00piz7KESu95_BP4QIH-67OBdC95s",authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0,databaseURL:void 0},vA=Cw(o3),Ge=ek(vA),l3=XV(vA);Ge.onAuthStateChanged(t=>{t?console.log(" User signed in:",t.email):console.log(" No user signed in")});const _A=V.createContext(void 0),c3=({children:t})=>{const[e,n]=V.useState(null),[i,s]=V.useState(!1),[r,a]=V.useState(!1),[o,c]=V.useState(null),u="cafe-1",[h,d]=V.useState(nD),[p,y]=V.useState(i_),[v,C]=V.useState([]),R=V.useCallback(async N=>{if(!Ge.currentUser)throw new Error("No user logged in");let k=await Ge.currentUser.getIdToken(),x=await fetch(`http://localhost:8000${N}`,{headers:{Authorization:`Bearer ${k}`}});if(x.status===401&&(console.warn(`401 on ${N} - Refreshing token and retrying...`),k=await Ge.currentUser.getIdToken(!0),x=await fetch(`http://localhost:8000${N}`,{headers:{Authorization:`Bearer ${k}`}})),!x.ok)throw new Error(`Request to ${N} failed with ${x.status}`);return x.json()},[]),b=V.useCallback(async()=>{if(!(e!==Zt.USER||!Ge.currentUser))try{const N=await R("/user/orders");N&&typeof N=="object"&&"orders"in N&&Array.isArray(N.orders)?C(N.orders):Array.isArray(N)?C(N):C([])}catch(N){console.error("Failed to load orders:",N)}},[e,R]),T=N=>{const k={...N,id:Math.random().toString(36).substring(2,11),isClaimed:!1};y(x=>[k,...x])},S=N=>{d(k=>k.map(x=>x.id===N?{...x,isOpen:!x.isOpen}:x))},w=()=>{n(null),c(null),s(!1),a(!1),y(i_),C([])};return V.useEffect(()=>{const N=Ge.onAuthStateChanged(k=>{k?e===Zt.USER&&b():C([])});return()=>N()},[e,b]),f.jsx(_A.Provider,{value:{userRole:e,onboarded:i,isVerified:r,staffProfile:o,setStaffProfile:c,managedCafeteriaId:u,cafeterias:h,deals:p,orders:v,loadOrders:b,setUserRole:n,setOnboarded:s,setVerified:a,addDeal:T,toggleCafeteriaStatus:S,resetApp:w},children:t})},Za=()=>{const t=V.useContext(_A);if(!t)throw new Error("useApp must be used within an AppProvider");return t},qy=V.createContext({});function Hy(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const yf=V.createContext(null),Gy=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class u3 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function h3({children:t,isPresent:e}){const n=V.useId(),i=V.useRef(null),s=V.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=V.useContext(Gy);return V.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(e||!i.current||!a||!o)return;i.current.dataset.motionPopId=n;const h=document.createElement("style");return r&&(h.nonce=r),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),f.jsx(u3,{isPresent:e,childRef:i,sizeRef:s,children:V.cloneElement(t,{ref:i})})}const f3=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a})=>{const o=Hy(d3),c=V.useId(),u=V.useCallback(d=>{o.set(d,!0);for(const p of o.values())if(!p)return;i&&i()},[o,i]),h=V.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:d=>(o.set(d,!1),()=>o.delete(d))}),r?[Math.random(),u]:[n,u]);return V.useMemo(()=>{o.forEach((d,p)=>o.set(p,!1))},[n]),V.useEffect(()=>{!n&&!o.size&&i&&i()},[n]),a==="popLayout"&&(t=f.jsx(h3,{isPresent:n,children:t})),f.jsx(yf.Provider,{value:h,children:t})};function d3(){return new Map}function bA(t=!0){const e=V.useContext(yf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,r=V.useId();V.useEffect(()=>{t&&s(r)},[t]);const a=V.useCallback(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,a]:[!0]}const Jc=t=>t.key||"";function Db(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const Ky=typeof window<"u",TA=Ky?V.useLayoutEffect:V.useEffect,Be=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1})=>{const[o,c]=bA(a),u=V.useMemo(()=>Db(t),[t]),h=a&&!o?[]:u.map(Jc),d=V.useRef(!0),p=V.useRef(u),y=Hy(()=>new Map),[v,C]=V.useState(u),[R,b]=V.useState(u);TA(()=>{d.current=!1,p.current=u;for(let w=0;w<R.length;w++){const N=Jc(R[w]);h.includes(N)?y.delete(N):y.get(N)!==!0&&y.set(N,!1)}},[R,h.length,h.join("-")]);const T=[];if(u!==v){let w=[...u];for(let N=0;N<R.length;N++){const k=R[N],x=Jc(k);h.includes(x)||(w.splice(N,0,k),T.push(k))}r==="wait"&&T.length&&(w=T),b(Db(w)),C(u);return}const{forceRender:S}=V.useContext(qy);return f.jsx(f.Fragment,{children:R.map(w=>{const N=Jc(w),k=a&&!o?!1:u===R||h.includes(N),x=()=>{if(y.has(N))y.set(N,!0);else return;let _=!0;y.forEach(E=>{E||(_=!1)}),_&&(S==null||S(),b(p.current),a&&(c==null||c()),i&&i())};return f.jsx(f3,{isPresent:k,initial:!d.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:s,mode:r,onExitComplete:k?void 0:x,children:w},N)})})},on=t=>t;let xA=on;function $y(t){let e;return()=>(e===void 0&&(e=t()),e)}const ka=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},pi=t=>t*1e3,gi=t=>t/1e3,m3={useManualTiming:!1};function p3(t){let e=new Set,n=new Set,i=!1,s=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){r.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,h=!1,d=!1)=>{const y=d&&i?e:n;return h&&r.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),r.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[e,n]=[n,e],e.forEach(o),e.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const eu=["read","resolveKeyframes","update","preRender","render","postRender"],g3=40;function EA(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=eu.reduce((b,T)=>(b[T]=p3(r),b),{}),{read:o,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:p}=a,y=()=>{const b=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(b-s.timestamp,g3),1),s.timestamp=b,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),h.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(y))},v=()=>{n=!0,i=!0,s.isProcessing||t(y)};return{schedule:eu.reduce((b,T)=>{const S=a[T];return b[T]=(w,N=!1,k=!1)=>(n||v(),S.schedule(w,N,k)),b},{}),cancel:b=>{for(let T=0;T<eu.length;T++)a[eu[T]].cancel(b)},state:s,steps:a}}const{schedule:De,cancel:As,state:mt,steps:Yd}=EA(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0),SA=V.createContext({strict:!1}),Ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pa={};for(const t in Ob)Pa[t]={isEnabled:e=>Ob[t].some(n=>!!e[n])};function y3(t){for(const e in t)Pa[e]={...Pa[e],...t[e]}}const v3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||v3.has(t)}let wA=t=>!Ch(t);function _3(t){t&&(wA=e=>e.startsWith("on")?!Ch(e):t(e))}try{_3(require("@emotion/is-prop-valid").default)}catch{}function b3(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(wA(s)||n===!0&&Ch(s)||!e&&!Ch(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function T3(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const vf=V.createContext({});function Vl(t){return typeof t=="string"||Array.isArray(t)}function _f(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qy=["initial",...Yy];function bf(t){return _f(t.animate)||Qy.some(e=>Vl(t[e]))}function AA(t){return!!(bf(t)||t.variants)}function x3(t,e){if(bf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Vl(n)?n:void 0,animate:Vl(i)?i:void 0}}return t.inherit!==!1?e:{}}function E3(t){const{initial:e,animate:n}=x3(t,V.useContext(vf));return V.useMemo(()=>({initial:e,animate:n}),[Mb(e),Mb(n)])}function Mb(t){return Array.isArray(t)?t.join(" "):t}const S3=Symbol.for("motionComponentSymbol");function Zr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w3(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Zr(n)&&(n.current=i))},[e])}const Xy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A3="framerAppearId",CA="data-"+Xy(A3),{schedule:Wy}=EA(queueMicrotask,!1),RA=V.createContext({});function C3(t,e,n,i,s){var r,a;const{visualElement:o}=V.useContext(vf),c=V.useContext(SA),u=V.useContext(yf),h=V.useContext(Gy).reducedMotion,d=V.useRef(null);i=i||c.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,y=V.useContext(RA);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&R3(d.current,n,s,y);const v=V.useRef(!1);V.useInsertionEffect(()=>{p&&v.current&&p.update(n,u)});const C=n[CA],R=V.useRef(!!C&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,C))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,C)));return TA(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Wy.render(p.render),R.current&&p.animationState&&p.animationState.animateChanges())}),V.useEffect(()=>{p&&(!R.current&&p.animationState&&p.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,C)}),R.current=!1))}),p}function R3(t,e,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:NA(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&Zr(o),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:c,layoutRoot:u})}function NA(t){if(t)return t.options.allowProjection!==!1?t.projection:NA(t.parent)}function N3({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){var r,a;t&&y3(t);function o(u,h){let d;const p={...V.useContext(Gy),...u,layoutId:I3(u)},{isStatic:y}=p,v=E3(u),C=i(u,y);if(!y&&Ky){D3();const R=O3(p);d=R.MeasureLayout,v.visualElement=C3(s,C,p,e,R.ProjectionNode)}return f.jsxs(vf.Provider,{value:v,children:[d&&v.visualElement?f.jsx(d,{visualElement:v.visualElement,...p}):null,n(s,u,w3(C,v.visualElement,h),C,y,v.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&a!==void 0?a:""})`}`;const c=V.forwardRef(o);return c[S3]=s,c}function I3({layoutId:t}){const e=V.useContext(qy).id;return e&&t!==void 0?e+"-"+t:t}function D3(t,e){V.useContext(SA).strict}function O3(t){const{drag:e,layout:n}=Pa;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const M3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zy(t){return typeof t!="string"||t.includes("-")?!1:!!(M3.indexOf(t)>-1||/[A-Z]/u.test(t))}function kb(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Jy(t,e,n,i){if(typeof e=="function"){const[s,r]=kb(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=kb(i);e=e(n!==void 0?n:t.custom,s,r)}return e}const Lp=t=>Array.isArray(t),k3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),P3=t=>Lp(t)?t[t.length-1]||0:t,Nt=t=>!!(t&&t.getVelocity);function Iu(t){const e=Nt(t)?t.get():t;return k3(e)?e.toValue():e}function V3({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,s,r){const a={latestValues:j3(i,s,r,t),renderState:e()};return n&&(a.onMount=o=>n({props:i,current:o,...a}),a.onUpdate=o=>n(o)),a}const IA=t=>(e,n)=>{const i=V.useContext(vf),s=V.useContext(yf),r=()=>V3(t,e,i,s);return n?r():Hy(r)};function j3(t,e,n,i){const s={},r=i(t,{});for(const p in r)s[p]=Iu(r[p]);let{initial:a,animate:o}=t;const c=bf(t),u=AA(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!_f(d)){const p=Array.isArray(d)?d:[d];for(let y=0;y<p.length;y++){const v=Jy(t,p[y]);if(v){const{transitionEnd:C,transition:R,...b}=v;for(const T in b){let S=b[T];if(Array.isArray(S)){const w=h?S.length-1:0;S=S[w]}S!==null&&(s[T]=S)}for(const T in C)s[T]=C[T]}}}return s}const Ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ar=new Set(Ja),DA=t=>e=>typeof e=="string"&&e.startsWith(t),OA=DA("--"),L3=DA("var(--"),e0=t=>L3(t)?U3.test(t.split("/*")[0].trim()):!1,U3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,MA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wi=(t,e,n)=>n>e?e:n<t?t:n,eo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},jl={...eo,transform:t=>wi(0,1,t)},tu={...eo,default:1},hc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ji=hc("deg"),$n=hc("%"),W=hc("px"),z3=hc("vh"),B3=hc("vw"),Pb={...$n,parse:t=>$n.parse(t)/100,transform:t=>$n.transform(t*100)},F3={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,backgroundPositionX:W,backgroundPositionY:W},q3={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:tu,scaleX:tu,scaleY:tu,scaleZ:tu,skew:ji,skewX:ji,skewY:ji,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:jl,originX:Pb,originY:Pb,originZ:W},Vb={...eo,transform:Math.round},t0={...F3,...q3,zIndex:Vb,size:W,fillOpacity:jl,strokeOpacity:jl,numOctaves:Vb},H3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G3=Ja.length;function K3(t,e,n){let i="",s=!0;for(let r=0;r<G3;r++){const a=Ja[r],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=MA(o,t0[a]);if(!c){s=!1;const h=H3[a]||a;i+=`${h}(${u}) `}n&&(e[a]=u)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function n0(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(Ar.has(c)){a=!0;continue}else if(OA(c)){s[c]=u;continue}else{const h=MA(u,t0[c]);c.startsWith("origin")?(o=!0,r[c]=h):i[c]=h}}if(e.transform||(a||n?i.transform=K3(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:h=0}=r;i.transformOrigin=`${c} ${u} ${h}`}}const $3={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y3={offset:"strokeDashoffset",array:"strokeDasharray"};function Q3(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?$3:Y3;t[r.offset]=W.transform(-i);const a=W.transform(e),o=W.transform(n);t[r.array]=`${a} ${o}`}function jb(t,e,n){return typeof t=="string"?t:W.transform(e+n*t)}function X3(t,e,n){const i=jb(e,t.x,t.width),s=jb(n,t.y,t.height);return`${i} ${s}`}function i0(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},h,d){if(n0(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:y,dimensions:v}=t;p.transform&&(v&&(y.transform=p.transform),delete p.transform),v&&(s!==void 0||r!==void 0||y.transform)&&(y.transformOrigin=X3(v,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),a!==void 0&&Q3(p,a,o,c,!1)}const s0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),kA=()=>({...s0(),attrs:{}}),r0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PA(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const r in n)t.style.setProperty(r,n[r])}const VA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jA(t,e,n,i){PA(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(VA.has(s)?s:Xy(s),e.attrs[s])}const Rh={};function W3(t){Object.assign(Rh,t)}function LA(t,{layout:e,layoutId:n}){return Ar.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rh[t]||t==="opacity")}function a0(t,e,n){var i;const{style:s}=t,r={};for(const a in s)(Nt(s[a])||e.style&&Nt(e.style[a])||LA(a,t)||((i=n==null?void 0:n.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}function UA(t,e,n){const i=a0(t,e,n);for(const s in t)if(Nt(t[s])||Nt(e[s])){const r=Ja.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}function Z3(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Lb=["x","y","width","height","cx","cy","r"],J3={useVisualState:IA({scrapeMotionValuesFromProps:UA,createRenderState:kA,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:s})=>{if(!n)return;let r=!!t.drag;if(!r){for(const o in s)if(Ar.has(o)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let o=0;o<Lb.length;o++){const c=Lb[o];t[c]!==e[c]&&(a=!0)}a&&De.read(()=>{Z3(n,i),De.render(()=>{i0(i,s,r0(n.tagName),t.transformTemplate),jA(n,i)})})}})},ej={useVisualState:IA({scrapeMotionValuesFromProps:a0,createRenderState:s0})};function zA(t,e,n){for(const i in e)!Nt(e[i])&&!LA(i,n)&&(t[i]=e[i])}function tj({transformTemplate:t},e){return V.useMemo(()=>{const n=s0();return n0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nj(t,e){const n=t.style||{},i={};return zA(i,n,t),Object.assign(i,tj(t,e)),i}function ij(t,e){const n={},i=nj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function sj(t,e,n,i){const s=V.useMemo(()=>{const r=kA();return i0(r,e,r0(i),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};zA(r,t.style,t),s.style={...r,...s.style}}return s}function rj(t=!1){return(n,i,s,{latestValues:r},a)=>{const c=(Zy(n)?sj:ij)(i,r,a,n),u=b3(i,typeof n=="string",t),h=n!==V.Fragment?{...u,...c,ref:s}:{},{children:d}=i,p=V.useMemo(()=>Nt(d)?d.get():d,[d]);return V.createElement(n,{...h,children:p})}}function aj(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Zy(i)?J3:ej,preloadedFeatures:t,useRender:rj(s),createVisualElement:e,Component:i};return N3(a)}}function BA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Tf(t,e,n){const i=t.getProps();return Jy(i,e,n!==void 0?n:i.custom,t)}const oj=$y(()=>window.ScrollTimeline!==void 0);class lj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>{if(oj()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class cj extends lj{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function o0(t,e){return t?t[e]||t.default||t:void 0}const Up=2e4;function FA(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Up;)e+=n,i=t.next(e);return e>=Up?1/0:e}function l0(t){return typeof t=="function"}function Ub(t,e){t.timeline=e,t.onfinish=null}const c0=t=>Array.isArray(t)&&typeof t[0]=="number",uj={linearEasing:void 0};function hj(t,e){const n=$y(t);return()=>{var i;return(i=uj[e])!==null&&i!==void 0?i:n()}}const Nh=hj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qA=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=t(ka(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function HA(t){return!!(typeof t=="function"&&Nh()||!t||typeof t=="string"&&(t in zp||Nh())||c0(t)||Array.isArray(t)&&t.every(HA))}const zo=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,zp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zo([0,.65,.55,1]),circOut:zo([.55,0,1,.45]),backIn:zo([.31,.01,.66,-.59]),backOut:zo([.33,1.53,.69,.99])};function GA(t,e){if(t)return typeof t=="function"&&Nh()?qA(t,e):c0(t)?zo(t):Array.isArray(t)?t.map(n=>GA(n,e)||zp.easeOut):zp[t]}const Cn={x:!1,y:!1};function KA(){return Cn.x||Cn.y}function fj(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}function $A(t,e){const n=fj(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function zb(t){return e=>{e.pointerType==="touch"||KA()||t(e)}}function dj(t,e,n={}){const[i,s,r]=$A(t,n),a=zb(o=>{const{target:c}=o,u=e(o);if(typeof u!="function"||!c)return;const h=zb(d=>{u(d),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,s)});return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const YA=(t,e)=>e?t===e?!0:YA(t,e.parentElement):!1,u0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pj(t){return mj.has(t.tagName)||t.tabIndex!==-1}const Bo=new WeakSet;function Bb(t){return e=>{e.key==="Enter"&&t(e)}}function Qd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gj=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Bb(()=>{if(Bo.has(n))return;Qd(n,"down");const s=Bb(()=>{Qd(n,"up")}),r=()=>Qd(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Fb(t){return u0(t)&&!KA()}function yj(t,e,n={}){const[i,s,r]=$A(t,n),a=o=>{const c=o.currentTarget;if(!Fb(o)||Bo.has(c))return;Bo.add(c);const u=e(o),h=(y,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),!(!Fb(y)||!Bo.has(c))&&(Bo.delete(c),typeof u=="function"&&u(y,{success:v}))},d=y=>{h(y,n.useGlobalTarget||YA(c,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",p,s)};return i.forEach(o=>{!pj(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>gj(u,s),s)}),r}function vj(t){return t==="x"||t==="y"?Cn[t]?null:(Cn[t]=!0,()=>{Cn[t]=!1}):Cn.x||Cn.y?null:(Cn.x=Cn.y=!0,()=>{Cn.x=Cn.y=!1})}const QA=new Set(["width","height","top","left","right","bottom",...Ja]);let Du;function _j(){Du=void 0}const Yn={now:()=>(Du===void 0&&Yn.set(mt.isProcessing||m3.useManualTiming?mt.timestamp:performance.now()),Du),set:t=>{Du=t,queueMicrotask(_j)}};function h0(t,e){t.indexOf(e)===-1&&t.push(e)}function f0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class d0{constructor(){this.subscriptions=[]}add(e){return h0(this.subscriptions,e),()=>f0(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function XA(t,e){return e?t*(1e3/e):0}const qb=30,bj=t=>!isNaN(parseFloat(t));class Tj{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=Yn.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new d0);const i=this.events[e].add(n);return e==="change"?()=>{i(),De.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qb);return XA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ll(t,e){return new Tj(t,e)}function xj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ll(n))}function Ej(t,e){const n=Tf(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=P3(r[a]);xj(t,a,o)}}function Sj(t){return!!(Nt(t)&&t.add)}function Bp(t,e){const n=t.getValue("willChange");if(Sj(n))return n.add(e)}function WA(t){return t.props[CA]}const ZA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wj=1e-7,Aj=12;function Cj(t,e,n,i,s){let r,a,o=0;do a=e+(n-e)/2,r=ZA(a,i,s)-t,r>0?n=a:e=a;while(Math.abs(r)>wj&&++o<Aj);return a}function fc(t,e,n,i){if(t===e&&n===i)return on;const s=r=>Cj(r,0,1,t,n);return r=>r===0||r===1?r:ZA(s(r),e,i)}const JA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eC=t=>e=>1-t(1-e),tC=fc(.33,1.53,.69,.99),m0=eC(tC),nC=JA(m0),iC=t=>(t*=2)<1?.5*m0(t):.5*(2-Math.pow(2,-10*(t-1))),p0=t=>1-Math.sin(Math.acos(t)),sC=eC(p0),rC=JA(p0),aC=t=>/^0[^.\s]+$/u.test(t);function Rj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aC(t):!0}const ul=t=>Math.round(t*1e5)/1e5,g0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Nj(t){return t==null}const Ij=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,y0=(t,e)=>n=>!!(typeof n=="string"&&Ij.test(n)&&n.startsWith(t)||e&&!Nj(n)&&Object.prototype.hasOwnProperty.call(n,e)),oC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(g0);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Dj=t=>wi(0,255,t),Xd={...eo,transform:t=>Math.round(Dj(t))},Qs={test:y0("rgb","red"),parse:oC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Xd.transform(t)+", "+Xd.transform(e)+", "+Xd.transform(n)+", "+ul(jl.transform(i))+")"};function Oj(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Fp={test:y0("#"),parse:Oj,transform:Qs.transform},Jr={test:y0("hsl","hue"),parse:oC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+$n.transform(ul(e))+", "+$n.transform(ul(n))+", "+ul(jl.transform(i))+")"},wt={test:t=>Qs.test(t)||Fp.test(t)||Jr.test(t),parse:t=>Qs.test(t)?Qs.parse(t):Jr.test(t)?Jr.parse(t):Fp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):Jr.transform(t)},Mj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(g0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Mj))===null||n===void 0?void 0:n.length)||0)>0}const lC="number",cC="color",Pj="var",Vj="var(",Hb="${}",jj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ul(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=e.replace(jj,c=>(wt.test(c)?(i.color.push(r),s.push(cC),n.push(wt.parse(c))):c.startsWith(Vj)?(i.var.push(r),s.push(Pj),n.push(c)):(i.number.push(r),s.push(lC),n.push(parseFloat(c))),++r,Hb)).split(Hb);return{values:n,split:o,indexes:i,types:s}}function uC(t){return Ul(t).values}function hC(t){const{split:e,types:n}=Ul(t),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const o=n[a];o===lC?r+=ul(s[a]):o===cC?r+=wt.transform(s[a]):r+=s[a]}return r}}const Lj=t=>typeof t=="number"?0:t;function Uj(t){const e=uC(t);return hC(t)(e.map(Lj))}const Cs={test:kj,parse:uC,createTransformer:hC,getAnimatableNone:Uj},zj=new Set(["brightness","contrast","saturate","opacity"]);function Bj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(g0)||[];if(!i)return t;const s=n.replace(i,"");let r=zj.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const Fj=/\b([a-z-]*)\(.*?\)/gu,qp={...Cs,getAnimatableNone:t=>{const e=t.match(Fj);return e?e.map(Bj).join(" "):t}},qj={...t0,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:qp,WebkitFilter:qp},v0=t=>qj[t];function fC(t,e){let n=v0(t);return n!==qp&&(n=Cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Hj=new Set(["auto","none","0"]);function Gj(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!Hj.has(r)&&Ul(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=fC(n,s)}const Gb=t=>t===eo||t===W,Kb=(t,e)=>parseFloat(t.split(", ")[e]),$b=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Kb(s[1],e);{const r=i.match(/^matrix\((.+)\)$/u);return r?Kb(r[1],t):0}},Kj=new Set(["x","y","z"]),$j=Ja.filter(t=>!Kj.has(t));function Yj(t){const e=[];return $j.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Va={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$b(4,13),y:$b(5,14)};Va.translateX=Va.x;Va.translateY=Va.y;const rr=new Set;let Hp=!1,Gp=!1;function dC(){if(Gp){const t=Array.from(rr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=Yj(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))===null||o===void 0||o.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Gp=!1,Hp=!1,rr.forEach(t=>t.complete()),rr.clear()}function mC(){rr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gp=!0)})}function Qj(){mC(),dC()}class _0{constructor(e,n,i,s,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rr.add(this),Hp||(Hp=!0,De.read(mC),De.resolveKeyframes(dC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const c=i.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Xj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wj(t){const e=Xj.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function gC(t,e,n=1){const[i,s]=Wj(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return pC(a)?parseFloat(a):a}return e0(s)?gC(s,e,n+1):s}const yC=t=>e=>e.test(t),Zj={test:t=>t==="auto",parse:t=>t},vC=[eo,W,$n,ji,B3,z3,Zj],Yb=t=>vC.find(yC(t));class _C extends _0{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),e0(u))){const h=gC(u,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!QA.has(i)||e.length!==2)return;const[s,r]=e,a=Yb(s),o=Yb(r);if(a!==o)if(Gb(a)&&Gb(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)Rj(e[s])&&i.push(s);i.length&&Gj(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const r=n.getValue(i);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Va[i](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Qb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cs.test(t)||t==="0")&&!t.startsWith("url("));function Jj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function e6(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],a=Qb(s,e),o=Qb(r,e);return!a||!o?!1:Jj(t)||(n==="spring"||l0(n))&&i}const t6=t=>t!==null;function xf(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(t6),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const n6=40;class bC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yn.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>n6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Qj(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yn.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!e6(e,i,s,r))if(a)this.options.duration=0;else{c&&c(xf(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pe=(t,e,n)=>t+(e-t)*n;function Wd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function i6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,a=0;if(!e)s=r=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;s=Wd(c,o,t+1/3),r=Wd(c,o,t),a=Wd(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function Ih(t,e){return n=>n>0?e:t}const Zd=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},s6=[Fp,Qs,Jr],r6=t=>s6.find(e=>e.test(t));function Xb(t){const e=r6(t);if(!e)return!1;let n=e.parse(t);return e===Jr&&(n=i6(n)),n}const Wb=(t,e)=>{const n=Xb(t),i=Xb(e);if(!n||!i)return Ih(t,e);const s={...n};return r=>(s.red=Zd(n.red,i.red,r),s.green=Zd(n.green,i.green,r),s.blue=Zd(n.blue,i.blue,r),s.alpha=Pe(n.alpha,i.alpha,r),Qs.transform(s))},a6=(t,e)=>n=>e(t(n)),dc=(...t)=>t.reduce(a6),Kp=new Set(["none","hidden"]);function o6(t,e){return Kp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function l6(t,e){return n=>Pe(t,e,n)}function b0(t){return typeof t=="number"?l6:typeof t=="string"?e0(t)?Ih:wt.test(t)?Wb:h6:Array.isArray(t)?TC:typeof t=="object"?wt.test(t)?Wb:c6:Ih}function TC(t,e){const n=[...t],i=n.length,s=t.map((r,a)=>b0(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function c6(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=b0(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function u6(t,e){var n;const i=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=t.indexes[a][s[a]],c=(n=t.values[o])!==null&&n!==void 0?n:0;i[r]=c,s[a]++}return i}const h6=(t,e)=>{const n=Cs.createTransformer(e),i=Ul(t),s=Ul(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Kp.has(t)&&!s.values.length||Kp.has(e)&&!i.values.length?o6(t,e):dc(TC(u6(i,s),s.values),n):Ih(t,e)};function xC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pe(t,e,n):b0(t)(t,e)}const f6=5;function EC(t,e,n){const i=Math.max(e-f6,0);return XA(n-t(i),e-i)}const Ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jd=.001;function d6({duration:t=Ue.duration,bounce:e=Ue.bounce,velocity:n=Ue.velocity,mass:i=Ue.mass}){let s,r,a=1-e;a=wi(Ue.minDamping,Ue.maxDamping,a),t=wi(Ue.minDuration,Ue.maxDuration,gi(t)),a<1?(s=u=>{const h=u*a,d=h*t,p=h-n,y=$p(u,a),v=Math.exp(-d);return Jd-p/y*v},r=u=>{const d=u*a*t,p=d*n+n,y=Math.pow(a,2)*Math.pow(u,2)*t,v=Math.exp(-d),C=$p(Math.pow(u,2),a);return(-s(u)+Jd>0?-1:1)*((p-y)*v)/C}):(s=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-Jd+h*d},r=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const o=5/t,c=p6(s,r,o);if(t=pi(t),isNaN(c))return{stiffness:Ue.stiffness,damping:Ue.damping,duration:t};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:t}}}const m6=12;function p6(t,e,n){let i=n;for(let s=1;s<m6;s++)i=i-t(i)/e(i);return i}function $p(t,e){return t*Math.sqrt(1-e*e)}const g6=["duration","bounce"],y6=["stiffness","damping","mass"];function Zb(t,e){return e.some(n=>t[n]!==void 0)}function v6(t){let e={velocity:Ue.velocity,stiffness:Ue.stiffness,damping:Ue.damping,mass:Ue.mass,isResolvedFromDuration:!1,...t};if(!Zb(t,y6)&&Zb(t,g6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*wi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ue.mass,stiffness:s,damping:r}}else{const n=d6(t);e={...e,...n,mass:Ue.mass},e.isResolvedFromDuration=!0}return e}function SC(t=Ue.visualDuration,e=Ue.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:c,damping:u,mass:h,duration:d,velocity:p,isResolvedFromDuration:y}=v6({...n,velocity:-gi(n.velocity||0)}),v=p||0,C=u/(2*Math.sqrt(c*h)),R=a-r,b=gi(Math.sqrt(c/h)),T=Math.abs(R)<5;i||(i=T?Ue.restSpeed.granular:Ue.restSpeed.default),s||(s=T?Ue.restDelta.granular:Ue.restDelta.default);let S;if(C<1){const N=$p(b,C);S=k=>{const x=Math.exp(-C*b*k);return a-x*((v+C*b*R)/N*Math.sin(N*k)+R*Math.cos(N*k))}}else if(C===1)S=N=>a-Math.exp(-b*N)*(R+(v+b*R)*N);else{const N=b*Math.sqrt(C*C-1);S=k=>{const x=Math.exp(-C*b*k),_=Math.min(N*k,300);return a-x*((v+C*b*R)*Math.sinh(_)+N*R*Math.cosh(_))/N}}const w={calculatedDuration:y&&d||null,next:N=>{const k=S(N);if(y)o.done=N>=d;else{let x=0;C<1&&(x=N===0?pi(v):EC(S,N,k));const _=Math.abs(x)<=i,E=Math.abs(a-k)<=s;o.done=_&&E}return o.value=o.done?a:k,o},toString:()=>{const N=Math.min(FA(w),Up),k=qA(x=>w.next(N*x).value,N,30);return N+"ms "+k}};return w}function Jb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},y=_=>o!==void 0&&_<o||c!==void 0&&_>c,v=_=>o===void 0?c:c===void 0||Math.abs(o-_)<Math.abs(c-_)?o:c;let C=n*e;const R=d+C,b=a===void 0?R:a(R);b!==R&&(C=b-d);const T=_=>-C*Math.exp(-_/i),S=_=>b+T(_),w=_=>{const E=T(_),I=S(_);p.done=Math.abs(E)<=u,p.value=p.done?b:I};let N,k;const x=_=>{y(p.value)&&(N=_,k=SC({keyframes:[p.value,v(p.value)],velocity:EC(S,_,p.value),damping:s,stiffness:r,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:_=>{let E=!1;return!k&&N===void 0&&(E=!0,w(_),x(_)),N!==void 0&&_>=N?k.next(_-N):(!E&&w(_),p)}}}const _6=fc(.42,0,1,1),b6=fc(0,0,.58,1),wC=fc(.42,0,.58,1),T6=t=>Array.isArray(t)&&typeof t[0]!="number",x6={linear:on,easeIn:_6,easeInOut:wC,easeOut:b6,circIn:p0,circInOut:rC,circOut:sC,backIn:m0,backInOut:nC,backOut:tC,anticipate:iC},eT=t=>{if(c0(t)){xA(t.length===4);const[e,n,i,s]=t;return fc(e,n,i,s)}else if(typeof t=="string")return x6[t];return t};function E6(t,e,n){const i=[],s=n||xC,r=t.length-1;for(let a=0;a<r;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||on:e;o=dc(c,o)}i.push(o)}return i}function S6(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(xA(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=E6(e,i,s),c=o.length,u=h=>{if(a&&h<t[0])return e[0];let d=0;if(c>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=ka(t[d],t[d+1],h);return o[d](p)};return n?h=>u(wi(t[0],t[r-1],h)):u}function w6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=ka(0,e,i);t.push(Pe(n,1,s))}}function A6(t){const e=[0];return w6(e,t.length-1),e}function C6(t,e){return t.map(n=>n*e)}function R6(t,e){return t.map(()=>e||wC).splice(0,t.length-1)}function Dh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=T6(i)?i.map(eT):eT(i),r={done:!1,value:e[0]},a=C6(n&&n.length===e.length?n:A6(e),t),o=S6(a,e,{ease:Array.isArray(s)?s:R6(e,s)});return{calculatedDuration:t,next:c=>(r.value=o(c),r.done=c>=t,r)}}const N6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>De.update(e,!0),stop:()=>As(e),now:()=>mt.isProcessing?mt.timestamp:Yn.now()}},I6={decay:Jb,inertia:Jb,tween:Dh,keyframes:Dh,spring:SC},D6=t=>t/100;class T0 extends bC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:i,element:s,keyframes:r}=this.options,a=(s==null?void 0:s.KeyframeResolver)||_0,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(r,o,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=this.options,o=l0(n)?n:I6[n]||Dh;let c,u;o!==Dh&&typeof e[0]!="number"&&(c=dc(D6,xC(e[0],e[1])),e=[0,100]);const h=o({...this.options,keyframes:e});r==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=FA(h));const{calculatedDuration:d}=h,p=d+s,y=p*(i+1)-s;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=i;if(this.startTime===null)return r.next(0);const{delay:p,repeat:y,repeatType:v,repeatDelay:C,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-p*(this.speed>=0?1:-1),T=this.speed>=0?b<0:b>h;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let S=this.currentTime,w=r;if(y){const _=Math.min(this.currentTime,h)/d;let E=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&E--,E=Math.min(E,y+1),!!(E%2)&&(v==="reverse"?(I=1-I,C&&(I-=C/d)):v==="mirror"&&(w=a)),S=wi(0,1,I)*d}const N=T?{done:!1,value:c[0]}:w.next(S);o&&(N.value=o(N.value));let{done:k}=N;!T&&u!==null&&(k=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return x&&s!==void 0&&(N.value=xf(c,this.options,s)),R&&R(N.value),x&&this.finish(),N}get duration(){const{resolved:e}=this;return e?gi(e.calculatedDuration):0}get time(){return gi(this.currentTime)}set time(e){e=pi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=N6,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const O6=new Set(["opacity","clipPath","filter","transform"]);function M6(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=GA(o,s);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const k6=$y(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Oh=10,P6=2e4;function V6(t){return l0(t.type)||t.type==="spring"||!HA(t.ease)}function j6(t,e){const n=new T0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let r=0;for(;!i.done&&r<P6;)i=n.sample(r),s.push(i.value),r+=Oh;return{times:void 0,keyframes:s,duration:r-Oh,ease:"linear"}}const AC={anticipate:iC,backInOut:nC,circInOut:rC};function L6(t){return t in AC}class tT extends bC{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new _C(r,(a,o)=>this.onKeyframesResolved(a,o),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:s,ease:r,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof r=="string"&&Nh()&&L6(r)&&(r=AC[r]),V6(this.options)){const{onComplete:d,onUpdate:p,motionValue:y,element:v,...C}=this.options,R=j6(e,C);e=R.keyframes,e.length===1&&(e[1]=e[0]),i=R.duration,s=R.times,r=R.ease,a="keyframes"}const h=M6(o.owner.current,c,e,{...this.options,duration:i,times:s,ease:r});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ub(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:d}=this.options;o.set(xf(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return gi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return gi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=pi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return on;const{animation:i}=n;Ub(i,e)}return on}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:r,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:p,...y}=this.options,v=new T0({...y,keyframes:i,duration:s,type:r,ease:a,times:o,isGenerator:!0}),C=pi(this.time);u.setWithVelocity(v.sample(C-Oh).value,v.sample(C).value,Oh)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return k6()&&i&&O6.has(i)&&!c&&!u&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}}const U6={type:"spring",stiffness:500,damping:25,restSpeed:10},z6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B6={type:"keyframes",duration:.8},F6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q6=(t,{keyframes:e})=>e.length>2?B6:Ar.has(t)?t.startsWith("scale")?z6(e[1]):U6:F6;function H6({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const x0=(t,e,n,i={},s,r)=>a=>{const o=o0(i,t)||{},c=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-pi(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:r?void 0:s};H6(o)||(h={...h,...q6(t,h)}),h.duration&&(h.duration=pi(h.duration)),h.repeatDelay&&(h.repeatDelay=pi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!r&&e.get()!==void 0){const p=xf(h.keyframes,o);if(p!==void 0)return De.update(()=>{h.onUpdate(p),h.onComplete()}),new cj([])}return!r&&tT.supports(h)?new tT(h):new T0(h)};function G6({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function CC(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var r;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;i&&(a=i);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const d in c){const p=t.getValue(d,(r=t.latestValues[d])!==null&&r!==void 0?r:null),y=c[d];if(y===void 0||h&&G6(h,d))continue;const v={delay:n,...o0(a||{},d)};let C=!1;if(window.MotionHandoffAnimation){const b=WA(t);if(b){const T=window.MotionHandoffAnimation(b,d,De);T!==null&&(v.startTime=T,C=!0)}}Bp(t,d),p.start(x0(d,p,y,t.shouldReduceMotion&&QA.has(d)?{type:!1}:v,t,C));const R=p.animation;R&&u.push(R)}return o&&Promise.all(u).then(()=>{De.update(()=>{o&&Ej(t,o)})}),u}function Yp(t,e,n={}){var i;const s=Tf(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(CC(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=r;return K6(t,e,h+u,d,p,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[u,h]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function K6(t,e,n=0,i=0,s=1,r){const a=[],o=(t.variantChildren.size-1)*i,c=s===1?(u=0)=>u*i:(u=0)=>o-u*i;return Array.from(t.variantChildren).sort($6).forEach((u,h)=>{u.notify("AnimationStart",e),a.push(Yp(u,e,{...r,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function $6(t,e){return t.sortNodePosition(e)}function Y6(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>Yp(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=Yp(t,e,n);else{const s=typeof e=="function"?Tf(t,e,n.custom):e;i=Promise.all(CC(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const Q6=Qy.length;function RC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Q6;n++){const i=Qy[n],s=t.props[i];(Vl(s)||s===!1)&&(e[i]=s)}return e}const X6=[...Yy].reverse(),W6=Yy.length;function Z6(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Y6(t,n,i)))}function J6(t){let e=Z6(t),n=nT(),i=!0;const s=c=>(u,h)=>{var d;const p=Tf(t,h,c==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:y,transitionEnd:v,...C}=p;u={...u,...C,...v}}return u};function r(c){e=c(t)}function a(c){const{props:u}=t,h=RC(t.parent)||{},d=[],p=new Set;let y={},v=1/0;for(let R=0;R<W6;R++){const b=X6[R],T=n[b],S=u[b]!==void 0?u[b]:h[b],w=Vl(S),N=b===c?T.isActive:null;N===!1&&(v=R);let k=S===h[b]&&S!==u[b]&&w;if(k&&i&&t.manuallyAnimateOnMount&&(k=!1),T.protectedKeys={...y},!T.isActive&&N===null||!S&&!T.prevProp||_f(S)||typeof S=="boolean")continue;const x=eL(T.prevProp,S);let _=x||b===c&&T.isActive&&!k&&w||R>v&&w,E=!1;const I=Array.isArray(S)?S:[S];let O=I.reduce(s(b),{});N===!1&&(O={});const{prevResolvedValues:M={}}=T,D={...M,...O},xe=$=>{_=!0,p.has($)&&(E=!0,p.delete($)),T.needsAnimating[$]=!0;const G=t.getValue($);G&&(G.liveStyle=!1)};for(const $ in D){const G=O[$],me=M[$];if(y.hasOwnProperty($))continue;let we=!1;Lp(G)&&Lp(me)?we=!BA(G,me):we=G!==me,we?G!=null?xe($):p.add($):G!==void 0&&p.has($)?xe($):T.protectedKeys[$]=!0}T.prevProp=S,T.prevResolvedValues=O,T.isActive&&(y={...y,...O}),i&&t.blockInitialAnimation&&(_=!1),_&&(!(k&&x)||E)&&d.push(...I.map($=>({animation:$,options:{type:b}})))}if(p.size){const R={};p.forEach(b=>{const T=t.getBaseTarget(b),S=t.getValue(b);S&&(S.liveStyle=!0),R[b]=T??null}),d.push({animation:R})}let C=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(d):Promise.resolve()}function o(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=nT(),i=!0}}}function eL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BA(e,t):!1}function Us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nT(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}class Os{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tL extends Os{constructor(e){super(e),e.animationState||(e.animationState=J6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_f(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let nL=0;class iL extends Os{constructor(){super(...arguments),this.id=nL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sL={animation:{Feature:tL},exit:{Feature:iL}};function zl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function mc(t){return{point:{x:t.pageX,y:t.pageY}}}const rL=t=>e=>u0(e)&&t(e,mc(e));function hl(t,e,n,i){return zl(t,e,rL(n),i)}const iT=(t,e)=>Math.abs(t-e);function aL(t,e){const n=iT(t.x,e.x),i=iT(t.y,e.y);return Math.sqrt(n**2+i**2)}class NC{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=tm(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=aL(d.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:v}=d,{timestamp:C}=mt;this.history.push({...v,timestamp:C});const{onStart:R,onMove:b}=this.handlers;p||(R&&R(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=em(p,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=tm(d.type==="pointercancel"?this.lastMoveEventInfo:em(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,R),v&&v(d,R)},!u0(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const a=mc(e),o=em(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=mt;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,tm(o,this.history)),this.removeListeners=dc(hl(this.contextWindow,"pointermove",this.handlePointerMove),hl(this.contextWindow,"pointerup",this.handlePointerUp),hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),As(this.updatePoint)}}function em(t,e){return e?{point:e(t.point)}:t}function sT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tm({point:t},e){return{point:t,delta:sT(t,IC(e)),offset:sT(t,oL(e)),velocity:lL(e,.1)}}function oL(t){return t[0]}function IC(t){return t[t.length-1]}function lL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=IC(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>pi(e)));)n--;if(!i)return{x:0,y:0};const r=gi(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const DC=1e-4,cL=1-DC,uL=1+DC,OC=.01,hL=0-OC,fL=0+OC;function hn(t){return t.max-t.min}function dL(t,e,n){return Math.abs(t-e)<=n}function rT(t,e,n,i=.5){t.origin=i,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=hn(n)/hn(e),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=cL&&t.scale<=uL||isNaN(t.scale))&&(t.scale=1),(t.translate>=hL&&t.translate<=fL||isNaN(t.translate))&&(t.translate=0)}function fl(t,e,n,i){rT(t.x,e.x,n.x,i?i.originX:void 0),rT(t.y,e.y,n.y,i?i.originY:void 0)}function aT(t,e,n){t.min=n.min+e.min,t.max=t.min+hn(e)}function mL(t,e,n){aT(t.x,e.x,n.x),aT(t.y,e.y,n.y)}function oT(t,e,n){t.min=e.min-n.min,t.max=t.min+hn(e)}function dl(t,e,n){oT(t.x,e.x,n.x),oT(t.y,e.y,n.y)}function pL(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Pe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Pe(n,t,i.max):Math.min(t,n)),t}function lT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gL(t,{top:e,left:n,bottom:i,right:s}){return{x:lT(t.x,n,s),y:lT(t.y,e,i)}}function cT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function yL(t,e){return{x:cT(t.x,e.x),y:cT(t.y,e.y)}}function vL(t,e){let n=.5;const i=hn(t),s=hn(e);return s>i?n=ka(e.min,e.max-i,t.min):i>s&&(n=ka(t.min,t.max-s,e.min)),wi(0,1,n)}function _L(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qp=.35;function bL(t=Qp){return t===!1?t=0:t===!0&&(t=Qp),{x:uT(t,"left","right"),y:uT(t,"top","bottom")}}function uT(t,e,n){return{min:hT(t,e),max:hT(t,n)}}function hT(t,e){return typeof t=="number"?t:t[e]||0}const fT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:fT(),y:fT()}),dT=()=>({min:0,max:0}),Fe=()=>({x:dT(),y:dT()});function dn(t){return[t("x"),t("y")]}function MC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function TL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function nm(t){return t===void 0||t===1}function Xp({scale:t,scaleX:e,scaleY:n}){return!nm(t)||!nm(e)||!nm(n)}function Ks(t){return Xp(t)||kC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kC(t){return mT(t.x)||mT(t.y)}function mT(t){return t&&t!=="0%"}function Mh(t,e,n){const i=t-n,s=e*i;return n+s}function pT(t,e,n,i,s){return s!==void 0&&(t=Mh(t,s,i)),Mh(t,n,i)+e}function Wp(t,e=0,n=1,i,s){t.min=pT(t.min,e,n,i,s),t.max=pT(t.max,e,n,i,s)}function PC(t,{x:e,y:n}){Wp(t.x,e.translate,e.scale,e.originPoint),Wp(t.y,n.translate,n.scale,n.originPoint)}const gT=.999999999999,yT=1.0000000000001;function EL(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&na(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,PC(t,a)),i&&Ks(r.latestValues)&&na(t,r.latestValues))}e.x<yT&&e.x>gT&&(e.x=1),e.y<yT&&e.y>gT&&(e.y=1)}function ta(t,e){t.min=t.min+e,t.max=t.max+e}function vT(t,e,n,i,s=.5){const r=Pe(t.min,t.max,s);Wp(t,e,n,r,i)}function na(t,e){vT(t.x,e.x,e.scaleX,e.scale,e.originX),vT(t.y,e.y,e.scaleY,e.scale,e.originY)}function VC(t,e){return MC(xL(t.getBoundingClientRect(),e))}function SL(t,e,n){const i=VC(t,n),{scroll:s}=e;return s&&(ta(i.x,s.offset.x),ta(i.y,s.offset.y)),i}const jC=({current:t})=>t?t.ownerDocument.defaultView:null,wL=new WeakMap;class AL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mc(h).point)},r=(h,d)=>{const{drag:p,dragPropagation:y,onDragStart:v}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vj(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(R=>{let b=this.getAxisMotionValue(R).get()||0;if($n.test(b)){const{projection:T}=this.visualElement;if(T&&T.layout){const S=T.layout.layoutBox[R];S&&(b=hn(S)*(parseFloat(b)/100))}}this.originPoint[R]=b}),v&&De.postRender(()=>v(h,d)),Bp(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:v,onDrag:C}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:R}=d;if(y&&this.currentDirection===null){this.currentDirection=CL(R),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,R),this.updateAxis("y",d.point,R),this.visualElement.render(),C&&C(h,d)},o=(h,d)=>this.stop(h,d),c=()=>dn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new NC(e,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:jC(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&De.postRender(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!nu(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=pL(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&Zr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=gL(s.layoutBox,n):this.constraints=!1,this.elastic=bL(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_L(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zr(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=SL(i,s.root,this.visualElement.getTransformPagePoint());let a=yL(s.layout.layoutBox,r);if(n){const o=n(TL(a));this.hasMutatedConstraints=!!o,o&&(a=MC(o))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=dn(h=>{if(!nu(h,n,this.currentDirection))return;let d=c&&c[h]||{};a&&(d={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Bp(this.visualElement,e),i.start(x0(e,i,0,n,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:i}=this.getProps();if(!nu(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];r.set(e[n]-Pe(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Zr(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=vL({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dn(a=>{if(!nu(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Pe(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;wL.set(this.visualElement,this);const e=this.visualElement.current,n=hl(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();Zr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),De.read(i);const a=zl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(dn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=Qp,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function nu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RL extends Os{constructor(e){super(e),this.removeGroupControls=on,this.removeListeners=on,this.controls=new AL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const _T=t=>(e,n)=>{t&&De.postRender(()=>t(e,n))};class NL extends Os{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(e){this.session=new NC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:_T(e),onStart:_T(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&De.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=hl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ou={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Co={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(W.test(t))t=parseFloat(t);else return t;const n=bT(t,e.target.x),i=bT(t,e.target.y);return`${n}% ${i}%`}},IL={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Cs.parse(t);if(s.length>5)return i;const r=Cs.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const u=Pe(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),r(s)}};class DL extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;W3(OL),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Ou.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,a=i.projection;return a&&(a.isPresent=r,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||De.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LC(t){const[e,n]=bA(),i=V.useContext(qy);return f.jsx(DL,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(RA),isPresent:e,safeToRemove:n})}const OL={borderRadius:{...Co,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Co,borderTopRightRadius:Co,borderBottomLeftRadius:Co,borderBottomRightRadius:Co,boxShadow:IL};function ML(t,e,n){const i=Nt(t)?t:Ll(t);return i.start(x0("",i,e,n)),i.animation}function kL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const PL=(t,e)=>t.depth-e.depth;class VL{constructor(){this.children=[],this.isDirty=!1}add(e){h0(this.children,e),this.isDirty=!0}remove(e){f0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PL),this.isDirty=!1,this.children.forEach(e)}}function jL(t,e){const n=Yn.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(As(i),t(r-e))};return De.read(i,!0),()=>As(i)}const UC=["TopLeft","TopRight","BottomLeft","BottomRight"],LL=UC.length,TT=t=>typeof t=="string"?parseFloat(t):t,xT=t=>typeof t=="number"||W.test(t);function UL(t,e,n,i,s,r){s?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,zL(i)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,BL(i))):r&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let a=0;a<LL;a++){const o=`border${UC[a]}Radius`;let c=ET(e,o),u=ET(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||xT(c)===xT(u)?(t[o]=Math.max(Pe(TT(c),TT(u),i),0),($n.test(u)||$n.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,i))}function ET(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zL=zC(0,.5,sC),BL=zC(.5,.95,on);function zC(t,e,n){return i=>i<t?0:i>e?1:n(ka(t,e,i))}function ST(t,e){t.min=e.min,t.max=e.max}function fn(t,e){ST(t.x,e.x),ST(t.y,e.y)}function wT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AT(t,e,n,i,s){return t-=e,t=Mh(t,1/n,i),s!==void 0&&(t=Mh(t,1/s,i)),t}function FL(t,e=0,n=1,i=.5,s,r=t,a=t){if($n.test(e)&&(e=parseFloat(e),e=Pe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Pe(r.min,r.max,i);t===r&&(o-=e),t.min=AT(t.min,e,n,o,s),t.max=AT(t.max,e,n,o,s)}function CT(t,e,[n,i,s],r,a){FL(t,e[n],e[i],e[s],e.scale,r,a)}const qL=["x","scaleX","originX"],HL=["y","scaleY","originY"];function RT(t,e,n,i){CT(t.x,e,qL,n?n.x:void 0,i?i.x:void 0),CT(t.y,e,HL,n?n.y:void 0,i?i.y:void 0)}function NT(t){return t.translate===0&&t.scale===1}function BC(t){return NT(t.x)&&NT(t.y)}function IT(t,e){return t.min===e.min&&t.max===e.max}function GL(t,e){return IT(t.x,e.x)&&IT(t.y,e.y)}function DT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FC(t,e){return DT(t.x,e.x)&&DT(t.y,e.y)}function OT(t){return hn(t.x)/hn(t.y)}function MT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KL{constructor(){this.members=[]}add(e){h0(this.members,e),e.scheduleRender()}remove(e){if(f0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $L(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:p,skewX:y,skewY:v}=n;u&&(i=`perspective(${u}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),p&&(i+=`rotateY(${p}deg) `),y&&(i+=`skewX(${y}deg) `),v&&(i+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const $s={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fo=typeof window<"u"&&window.MotionDebug!==void 0,im=["","X","Y","Z"],YL={visibility:"hidden"},kT=1e3;let QL=0;function sm(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qC(i)}function HC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=QL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fo&&($s.totalNodes=$s.resolvedTargetDeltas=$s.recalculatedProjection=0),this.nodes.forEach(ZL),this.nodes.forEach(i9),this.nodes.forEach(s9),this.nodes.forEach(JL),Fo&&window.MotionDebug.record($s)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new VL)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new d0),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kL(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=jL(p,250),Ou.hasAnimatedSinceResize&&(Ou.hasAnimatedSinceResize=!1,this.nodes.forEach(VT))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||c9,{onLayoutAnimationStart:R,onLayoutAnimationComplete:b}=h.getProps(),T=!this.targetLayout||!FC(this.targetLayout,v)||y,S=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const w={...o0(C,"layout"),onPlay:R,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r9),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PT);return}this.isUpdating||this.nodes.forEach(t9),this.isUpdating=!1,this.nodes.forEach(n9),this.nodes.forEach(XL),this.nodes.forEach(WL),this.clearAllSnapshots();const o=Yn.now();mt.delta=wi(0,1e3/60,o-mt.timestamp),mt.timestamp=o,mt.isProcessing=!0,Yd.update.process(mt),Yd.preRender.process(mt),Yd.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(e9),this.sharedNodes.forEach(a9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!BC(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;a&&(o||Ks(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),u9(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Fe();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(h9))){const{scroll:h}=this.root;h&&(ta(c.x,h.offset.x),ta(c.y,h.offset.y))}return c}removeElementScroll(a){var o;const c=Fe();if(fn(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&fn(c,a),ta(c.x,d.offset.x),ta(c.y,d.offset.y))}return c}applyTransform(a,o=!1){const c=Fe();fn(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&na(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ks(h.latestValues)&&na(c,h.latestValues)}return Ks(this.latestValues)&&na(c,this.latestValues),c}removeTransform(a){const o=Fe();fn(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ks(u.latestValues))continue;Xp(u.latestValues)&&u.updateSnapshot();const h=Fe(),d=u.measurePageBox();fn(h,d),RT(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ks(this.latestValues)&&RT(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),dl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),dl(this.relativeTargetOrigin,this.target,y.target),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fo&&$s.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xp(this.parent.latestValues)||kC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;fn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;EL(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fe());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wT(this.prevProjectionDelta.x,this.projectionDelta.x),wT(this.prevProjectionDelta.y,this.projectionDelta.y)),fl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!MT(this.projectionDelta.x,this.prevProjectionDelta.x)||!MT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Fo&&$s.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Fe(),y=c?c.source:void 0,v=this.layout?this.layout.source:void 0,C=y!==v,R=this.getStack(),b=!R||R.members.length<=1,T=!!(C&&!b&&this.options.crossfade===!0&&!this.path.some(l9));this.animationProgress=0;let S;this.mixTargetDelta=w=>{const N=w/1e3;jT(d.x,a.x,N),jT(d.y,a.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o9(this.relativeTarget,this.relativeTargetOrigin,p,N),S&&GL(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Fe()),fn(S,this.relativeTarget)),C&&(this.animationValues=h,UL(h,u,this.latestValues,N,T,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{Ou.hasAnimatedSinceResize=!0,this.currentAnimation=ML(0,kT,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:h}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&GC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fe();const d=hn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const p=hn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}fn(o,c),na(o,h),fl(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KL),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&sm("z",a,u,this.animationValues);for(let h=0;h<im.length;h++)sm(`rotate${im[h]}`,a,u,this.animationValues),sm(`skew${im[h]}`,a,u,this.animationValues);a.render();for(const h in u)a.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YL;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Iu(a==null?void 0:a.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Iu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(C.transform=h?h({},""):"none",this.hasProjected=!1),C}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=$L(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:y,y:v}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in Rh){if(p[C]===void 0)continue;const{correct:R,applyTo:b}=Rh[C],T=u.transform==="none"?p[C]:R(p[C],d);if(b){const S=b.length;for(let w=0;w<S;w++)u[b[w]]=T}else u[C]=T}return this.options.layoutId&&(u.pointerEvents=d===this?Iu(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(PT),this.root.sharedNodes.clear()}}}function XL(t){t.updateLayout()}function WL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:r}=t.options,a=n.source!==t.layout.source;r==="size"?dn(d=>{const p=a?n.measuredBox[d]:n.layoutBox[d],y=hn(p);p.min=i[d].min,p.max=p.min+y}):GC(r,n.layoutBox,i)&&dn(d=>{const p=a?n.measuredBox[d]:n.layoutBox[d],y=hn(i[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const o=ea();fl(o,i,n.layoutBox);const c=ea();a?fl(c,t.applyTransform(s,!0),n.measuredBox):fl(c,i,n.layoutBox);const u=!BC(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const v=Fe();dl(v,n.layoutBox,p.layoutBox);const C=Fe();dl(C,i,y.layoutBox),FC(v,C)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function ZL(t){Fo&&$s.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function e9(t){t.clearSnapshot()}function PT(t){t.clearMeasurements()}function t9(t){t.isLayoutDirty=!1}function n9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function i9(t){t.resolveTargetDelta()}function s9(t){t.calcProjection()}function r9(t){t.resetSkewAndRotation()}function a9(t){t.removeLeadSnapshot()}function jT(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function LT(t,e,n,i){t.min=Pe(e.min,n.min,i),t.max=Pe(e.max,n.max,i)}function o9(t,e,n,i){LT(t.x,e.x,n.x,i),LT(t.y,e.y,n.y,i)}function l9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const c9={duration:.45,ease:[.4,0,.1,1]},UT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zT=UT("applewebkit/")&&!UT("chrome/")?Math.round:on;function BT(t){t.min=zT(t.min),t.max=zT(t.max)}function u9(t){BT(t.x),BT(t.y)}function GC(t,e,n){return t==="position"||t==="preserve-aspect"&&!dL(OT(e),OT(n),.2)}function h9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const f9=HC({attachResizeListener:(t,e)=>zl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rm={current:void 0},KC=HC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rm.current){const t=new f9({});t.mount(window),t.setOptions({layoutScroll:!0}),rm.current=t}return rm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),d9={pan:{Feature:NL},drag:{Feature:RL,ProjectionNode:KC,MeasureLayout:LC}};function FT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&De.postRender(()=>r(e,mc(e)))}class m9 extends Os{mount(){const{current:e}=this.node;e&&(this.unmount=dj(e,n=>(FT(this.node,n,"Start"),i=>FT(this.node,i,"End"))))}unmount(){}}class p9 extends Os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dc(zl(this.node.current,"focus",()=>this.onFocus()),zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qT(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&De.postRender(()=>r(e,mc(e)))}class g9 extends Os{mount(){const{current:e}=this.node;e&&(this.unmount=yj(e,n=>(qT(this.node,n,"Start"),(i,{success:s})=>qT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zp=new WeakMap,am=new WeakMap,y9=t=>{const e=Zp.get(t.target);e&&e(t)},v9=t=>{t.forEach(y9)};function _9({root:t,...e}){const n=t||document;am.has(n)||am.set(n,{});const i=am.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(v9,{root:t,...e})),i[s]}function b9(t,e,n){const i=_9(e);return Zp.set(t,n),i.observe(t),()=>{Zp.delete(t),i.unobserve(t)}}const T9={some:0,all:1};class x9 extends Os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:T9[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=u?h:d;p&&p(c)};return b9(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(E9(e,n))&&this.startObserver()}unmount(){}}function E9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const S9={inView:{Feature:x9},tap:{Feature:g9},focus:{Feature:p9},hover:{Feature:m9}},w9={layout:{ProjectionNode:KC,MeasureLayout:LC}},Jp={current:null},$C={current:!1};function A9(){if($C.current=!0,!!Ky)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jp.current=t.matches;t.addListener(e),e()}else Jp.current=!1}const C9=[...vC,wt,Cs],R9=t=>C9.find(yC(t)),HT=new WeakMap;function N9(t,e,n){for(const i in e){const s=e[i],r=n[i];if(Nt(s))t.addValue(i,s);else if(Nt(r))t.addValue(i,Ll(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ll(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const GT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I9{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Yn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,De.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=a;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=bf(n),this.isVariantNode=AA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const v=p[y];c[y]!==void 0&&Nt(v)&&v.set(c[y],!1)}}mount(e){this.current=e,HT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),$C.current||A9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){HT.delete(this.current),this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ar.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&De.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pa){const n=Pa[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<GT.length;i++){const s=GT[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=N9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ll(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(pC(s)||aC(s))?s=parseFloat(s):!R9(s)&&Cs.test(n)&&(s=fC(e,n)),this.setBaseTarget(e,Nt(s)?s.get():s)),Nt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const a=Jy(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Nt(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new d0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YC extends I9{constructor(){super(...arguments),this.KeyframeResolver=_C}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function D9(t){return window.getComputedStyle(t)}class O9 extends YC{constructor(){super(...arguments),this.type="html",this.renderInstance=PA}readValueFromInstance(e,n){if(Ar.has(n)){const i=v0(n);return i&&i.default||0}else{const i=D9(e),s=(OA(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return VC(e,n)}build(e,n,i){n0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return a0(e,n,i)}}class M9 extends YC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ar.has(n)){const i=v0(n);return i&&i.default||0}return n=VA.has(n)?n:Xy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return UA(e,n,i)}build(e,n,i){i0(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){jA(e,n,i,s)}mount(e){this.isSVGTag=r0(e.tagName),super.mount(e)}}const k9=(t,e)=>Zy(t)?new M9(e):new O9(e,{allowProjection:t!==V.Fragment}),P9=aj({...sL,...S9,...d9,...w9},k9),K=T3(P9);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(t,e)=>{const n=V.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:c,...u},h)=>V.createElement("svg",{ref:h,...V9,width:s,height:s,stroke:i,strokeWidth:a?Number(r)*24/Number(s):r,className:["lucide",`lucide-${j9(t)}`,o].join(" "),...u},[...e.map(([d,p])=>V.createElement(d,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=X("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=X("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=X("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=X("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=X("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=X("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=X("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=X("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=X("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=X("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=X("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=X("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=X("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=X("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=X("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=X("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=X("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=X("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=X("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=X("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),A0="/assets/GreenPlate-BBRcUj67.png",mU=({onFinish:t})=>{const[e,n]=V.useState("branding");return V.useEffect(()=>{const i=setTimeout(()=>n("ecosystem"),3e3);return()=>clearTimeout(i)},[]),f.jsx("div",{className:"h-full flex flex-col bg-white overflow-hidden relative",children:f.jsx(Be,{mode:"wait",children:e==="branding"?f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},className:"flex-1 flex flex-col items-center justify-center z-10",children:[f.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"w-44 h-44 flex items-center justify-center mb-6 relative",children:f.jsx(K.img,{src:A0,alt:"GreenPlate Logo",className:"w-full h-full object-contain drop-shadow-2xl",animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})}),f.jsx(K.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.8},className:"text-5xl font-black text-gray-900 tracking-tighter",children:"GreenPlate"}),f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"flex items-center gap-3 mt-6 bg-green-50 px-4 py-1.5 rounded-full border border-green-100",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),f.jsx("p",{className:"text-green-600 font-black uppercase tracking-[0.4em] text-[9px]",children:"Syncing Environment"})]})]},"branding"):f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-1 flex flex-col p-10 pt-16 z-10 bg-[#FDFDFD]",children:[f.jsx("header",{className:"flex items-center justify-between mb-16",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center shadow-[0_10px_30px_rgba(22,163,74,0.2)]",children:f.jsx(Y9,{className:"text-white fill-current",size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tighter leading-none",children:"Terminal"}),f.jsx("span",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mt-1 block",children:"Surplus Marketplace"})]})]})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[f.jsx(lm,{delay:.1,icon:f.jsx(aU,{size:22,className:"text-blue-500"}),title:"AI Nutrition",color:"bg-white"}),f.jsx(lm,{delay:.2,icon:f.jsx(lU,{size:22,className:"text-green-600"}),title:"70% Surplus",color:"bg-white"}),f.jsx(lm,{delay:.3,icon:f.jsx(dU,{size:22,className:"text-orange-500"}),title:"Instant Claim",color:"bg-green-600",isFull:!0})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsxs(K.button,{whileTap:{scale:.98},onClick:t,className:"w-full bg-gray-900 text-white py-6 rounded-[2.5rem] font-black text-sm uppercase tracking-[0.4em] flex items-center justify-center gap-4 shadow-[0_25px_60px_rgba(0,0,0,0.15)] group transition-all",children:["Access Hub",f.jsx(S0,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),f.jsx("p",{className:"text-center text-[10px] font-black text-gray-400 uppercase tracking-[0.5em] mt-10",children:"Secure  Verified  Green"})]})]},"ecosystem")})})},lm=({delay:t,icon:e,title:n,color:i,isFull:s})=>f.jsxs(K.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:t,duration:.5,ease:"easeOut"},className:`${s?"col-span-2 h-32":"col-span-1 h-36"} ${i} p-7 rounded-[2.5rem] border border-gray-100 flex flex-col justify-between shadow-sm`,children:[f.jsx("div",{className:`w-12 h-12 ${i==="bg-green-600"?"bg-white/10":"bg-gray-50"} rounded-2xl flex items-center justify-center`,children:e}),f.jsx("h4",{className:`text-xl font-black tracking-tighter leading-none ${i==="bg-green-600"?"text-white":"text-gray-900"}`,children:n})]}),iu="http://10.0.2.2:8000",YT=({verifyOnly:t=!1})=>{const{setUserRole:e,setOnboarded:n,setVerified:i,setStaffProfile:s}=Za(),[r,a]=V.useState(Zt.USER),[o,c]=V.useState(""),[u,h]=V.useState(""),[d,p]=V.useState(!1),[y,v]=V.useState(!1),[C,R]=V.useState(null),[b,T]=V.useState(!1),S=async()=>{var w;if(R(null),!o||!u){R("Please enter both email and password.");return}if(t&&b){R("Sign up is disabled for this flow.");return}v(!0);try{b?await UM(Ge,o,u):await zM(Ge,o,u);const N=Ge.currentUser;if(!N)throw new Error("Authentication failed. No user found.");const k=await N.getIdToken(!0);if(r===Zt.USER){const O=await fetch(`${iu}/auth/verify-student`,{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!O.ok){const M=await O.json().catch(()=>({}));throw new Error(M.message||`Verification failed: ${O.status}`)}e(Zt.USER),i(!0),n(!0);return}if(!(await fetch(`${iu}/auth/verify-staff`,{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok)throw new Error("Staff verification failed");if(!(await fetch(`${iu}/staff/activate`,{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok)throw new Error("Staff activation failed");const E=await fetch(`${iu}/staff/me`,{headers:{Authorization:`Bearer ${k}`}});if(!E.ok)throw new Error("Failed to load staff profile");const I=await E.json();s({role:I.role,stallId:I.stall_id,stallName:I.stall_name,email:I.email}),e(Zt.STAFF),i(!0),n(!0)}catch(N){console.error("Auth Error:",N),(N==null?void 0:N.code)==="auth/user-not-found"||(N==null?void 0:N.code)==="auth/invalid-credential"?R("Account not found. Please Sign Up first."):(N==null?void 0:N.code)==="auth/wrong-password"?R("Incorrect password."):(N==null?void 0:N.code)==="auth/email-already-in-use"?R("Email already in use. Please Sign In."):(w=N.message)!=null&&w.includes("401")?R("Access Denied. You may need to use a college email."):R(N.message||"Authentication failed. Please try again.")}finally{v(!1)}};return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-[#F9F9F9] font-sans text-[#1d1d1f]",children:f.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-[32px] shadow-sm border border-gray-100",children:[f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"w-14 h-14 bg-green-50 rounded-2xl flex items-center justify-center",children:f.jsx(rU,{className:"text-green-600",size:32})})}),f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h2",{className:"text-2xl font-semibold tracking-tight text-gray-900 mb-2",children:b?"Create your account":"Sign in to GreenPlate"}),f.jsx("p",{className:"text-sm text-gray-500",children:b?"Enter your details to get started":"Welcome back, please enter your details"})]}),f.jsxs("div",{className:"bg-gray-100/80 p-1 rounded-xl flex mb-8",children:[f.jsx("button",{onClick:()=>a(Zt.USER),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${r===Zt.USER?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:"Student"}),f.jsx("button",{onClick:()=>a(Zt.STAFF),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${r===Zt.STAFF?"bg-white shadow-sm text-green-600":"text-gray-500"}`,children:"Staff"})]}),C&&f.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-xl text-xs font-medium text-center border border-red-100",children:C}),f.jsxs("div",{className:"space-y-4 mb-10",children:[f.jsxs("div",{className:"relative",children:[f.jsx(X9,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),f.jsx("input",{type:"email",value:o,onChange:w=>c(w.target.value),placeholder:"Email address",className:"w-full py-4 pl-12 pr-4 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-100 outline-none transition-all"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Q9,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),f.jsx("input",{type:d?"text":"password",value:u,onChange:w=>h(w.target.value),placeholder:"Password",className:"w-full py-4 pl-12 pr-12 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-100 outline-none transition-all"}),f.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?f.jsx(F9,{size:18}):f.jsx(q9,{size:18})})]})]}),f.jsx("button",{onClick:S,disabled:y,className:"w-full bg-black text-white py-4 rounded-xl font-medium hover:bg-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Processing...":b?"Continue":"Sign In"}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-gray-500",children:[b?"Already have an account?":"Don't have an account?"," ",f.jsx("button",{onClick:()=>{T(!b),R(null)},className:"text-green-600 font-medium hover:underline",children:b?"Sign In":"Sign Up"})]})})]})})};function tR(t,e){return function(){return t.apply(e,arguments)}}const{toString:pU}=Object.prototype,{getPrototypeOf:C0}=Object,{iterator:Sf,toStringTag:nR}=Symbol,wf=(t=>e=>{const n=pU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),On=t=>(t=t.toLowerCase(),e=>wf(e)===t),Af=t=>e=>typeof e===t,{isArray:to}=Array,ja=Af("undefined");function pc(t){return t!==null&&!ja(t)&&t.constructor!==null&&!ja(t.constructor)&&Kt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iR=On("ArrayBuffer");function gU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iR(t.buffer),e}const yU=Af("string"),Kt=Af("function"),sR=Af("number"),gc=t=>t!==null&&typeof t=="object",vU=t=>t===!0||t===!1,ku=t=>{if(wf(t)!=="object")return!1;const e=C0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(nR in t)&&!(Sf in t)},_U=t=>{if(!gc(t)||pc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},bU=On("Date"),TU=On("File"),xU=On("Blob"),EU=On("FileList"),SU=t=>gc(t)&&Kt(t.pipe),wU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kt(t.append)&&((e=wf(t))==="formdata"||e==="object"&&Kt(t.toString)&&t.toString()==="[object FormData]"))},AU=On("URLSearchParams"),[CU,RU,NU,IU]=["ReadableStream","Request","Response","Headers"].map(On),DU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),to(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(pc(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),a=r.length;let o;for(i=0;i<a;i++)o=r[i],e.call(null,t[o],o,t)}}function rR(t,e){if(pc(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aR=t=>!ja(t)&&t!==Xs;function ig(){const{caseless:t,skipUndefined:e}=aR(this)&&this||{},n={},i=(s,r)=>{const a=t&&rR(n,r)||r;ku(n[a])&&ku(s)?n[a]=ig(n[a],s):ku(s)?n[a]=ig({},s):to(s)?n[a]=s.slice():(!e||!ja(s))&&(n[a]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&yc(arguments[s],i);return n}const OU=(t,e,n,{allOwnKeys:i}={})=>(yc(e,(s,r)=>{n&&Kt(s)?t[r]=tR(s,n):t[r]=s},{allOwnKeys:i}),t),MU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kU=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PU=(t,e,n,i)=>{let s,r,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&C0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},VU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},jU=t=>{if(!t)return null;if(to(t))return t;let e=t.length;if(!sR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},LU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&C0(Uint8Array)),UU=(t,e)=>{const i=(t&&t[Sf]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},zU=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},BU=On("HTMLFormElement"),FU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),QT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qU=On("RegExp"),oR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};yc(n,(s,r)=>{let a;(a=e(s,r,t))!==!1&&(i[r]=a||s)}),Object.defineProperties(t,i)},HU=t=>{oR(t,(e,n)=>{if(Kt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Kt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},GU=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return to(t)?i(t):i(String(t).split(e)),n},KU=()=>{},$U=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function YU(t){return!!(t&&Kt(t.append)&&t[nR]==="FormData"&&t[Sf])}const QU=t=>{const e=new Array(10),n=(i,s)=>{if(gc(i)){if(e.indexOf(i)>=0)return;if(pc(i))return i;if(!("toJSON"in i)){e[s]=i;const r=to(i)?[]:{};return yc(i,(a,o)=>{const c=n(a,s+1);!ja(c)&&(r[o]=c)}),e[s]=void 0,r}}return i};return n(t,0)},XU=On("AsyncFunction"),WU=t=>t&&(gc(t)||Kt(t))&&Kt(t.then)&&Kt(t.catch),lR=((t,e)=>t?setImmediate:e?((n,i)=>(Xs.addEventListener("message",({source:s,data:r})=>{s===Xs&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Xs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Kt(Xs.postMessage)),ZU=typeof queueMicrotask<"u"?queueMicrotask.bind(Xs):typeof process<"u"&&process.nextTick||lR,JU=t=>t!=null&&Kt(t[Sf]),j={isArray:to,isArrayBuffer:iR,isBuffer:pc,isFormData:wU,isArrayBufferView:gU,isString:yU,isNumber:sR,isBoolean:vU,isObject:gc,isPlainObject:ku,isEmptyObject:_U,isReadableStream:CU,isRequest:RU,isResponse:NU,isHeaders:IU,isUndefined:ja,isDate:bU,isFile:TU,isBlob:xU,isRegExp:qU,isFunction:Kt,isStream:SU,isURLSearchParams:AU,isTypedArray:LU,isFileList:EU,forEach:yc,merge:ig,extend:OU,trim:DU,stripBOM:MU,inherits:kU,toFlatObject:PU,kindOf:wf,kindOfTest:On,endsWith:VU,toArray:jU,forEachEntry:UU,matchAll:zU,isHTMLForm:BU,hasOwnProperty:QT,hasOwnProp:QT,reduceDescriptors:oR,freezeMethods:HU,toObjectSet:GU,toCamelCase:FU,noop:KU,toFiniteNumber:$U,findKey:rR,global:Xs,isContextDefined:aR,isSpecCompliantForm:YU,toJSONObject:QU,isAsyncFn:XU,isThenable:WU,setImmediate:lR,asap:ZU,isIterable:JU};function ie(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}j.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const cR=ie.prototype,uR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uR[t]={value:t}});Object.defineProperties(ie,uR);Object.defineProperty(cR,"isAxiosError",{value:!0});ie.from=(t,e,n,i,s,r)=>{const a=Object.create(cR);j.toFlatObject(t,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return ie.call(a,o,c,n,i,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",r&&Object.assign(a,r),a};const e8=null;function sg(t){return j.isPlainObject(t)||j.isArray(t)}function hR(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function XT(t,e,n){return t?t.concat(e).map(function(s,r){return s=hR(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function t8(t){return j.isArray(t)&&!t.some(sg)}const n8=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function Cf(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,R){return!j.isUndefined(R[C])});const i=n.metaTokens,s=n.visitor||h,r=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(j.isDate(v))return v.toISOString();if(j.isBoolean(v))return v.toString();if(!c&&j.isBlob(v))throw new ie("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(v)||j.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function h(v,C,R){let b=v;if(v&&!R&&typeof v=="object"){if(j.endsWith(C,"{}"))C=i?C:C.slice(0,-2),v=JSON.stringify(v);else if(j.isArray(v)&&t8(v)||(j.isFileList(v)||j.endsWith(C,"[]"))&&(b=j.toArray(v)))return C=hR(C),b.forEach(function(S,w){!(j.isUndefined(S)||S===null)&&e.append(a===!0?XT([C],w,r):a===null?C:C+"[]",u(S))}),!1}return sg(v)?!0:(e.append(XT(R,C,r),u(v)),!1)}const d=[],p=Object.assign(n8,{defaultVisitor:h,convertValue:u,isVisitable:sg});function y(v,C){if(!j.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+C.join("."));d.push(v),j.forEach(v,function(b,T){(!(j.isUndefined(b)||b===null)&&s.call(e,b,j.isString(T)?T.trim():T,C,p))===!0&&y(b,C?C.concat(T):[T])}),d.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return y(t),e}function WT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function R0(t,e){this._pairs=[],t&&Cf(t,this,e)}const fR=R0.prototype;fR.append=function(e,n){this._pairs.push([e,n])};fR.toString=function(e){const n=e?function(i){return e.call(this,i,WT)}:WT;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function i8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dR(t,e,n){if(!e)return t;const i=n&&n.encode||i8;j.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=j.isURLSearchParams(e)?e.toString():new R0(e,n).toString(i),r){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class ZT{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(i){i!==null&&e(i)})}}const mR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},s8=typeof URLSearchParams<"u"?URLSearchParams:R0,r8=typeof FormData<"u"?FormData:null,a8=typeof Blob<"u"?Blob:null,o8={isBrowser:!0,classes:{URLSearchParams:s8,FormData:r8,Blob:a8},protocols:["http","https","file","blob","url","data"]},N0=typeof window<"u"&&typeof document<"u",rg=typeof navigator=="object"&&navigator||void 0,l8=N0&&(!rg||["ReactNative","NativeScript","NS"].indexOf(rg.product)<0),c8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u8=N0&&window.location.href||"http://localhost",h8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:N0,hasStandardBrowserEnv:l8,hasStandardBrowserWebWorkerEnv:c8,navigator:rg,origin:u8},Symbol.toStringTag,{value:"Module"})),Rt={...h8,...o8};function f8(t,e){return Cf(t,new Rt.classes.URLSearchParams,{visitor:function(n,i,s,r){return Rt.isNode&&j.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function d8(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function m8(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function pR(t){function e(n,i,s,r){let a=n[r++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=r>=n.length;return a=!a&&j.isArray(s)?s.length:a,c?(j.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!o):((!s[a]||!j.isObject(s[a]))&&(s[a]=[]),e(n,i,s[a],r)&&j.isArray(s[a])&&(s[a]=m8(s[a])),!o)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(i,s)=>{e(d8(i),s,n,0)}),n}return null}function p8(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const vc={transitional:mR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=j.isObject(e);if(r&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return s?JSON.stringify(pR(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return f8(e,this.formSerializer).toString();if((o=j.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cf(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),p8(e)):e}],transformResponse:[function(e){const n=this.transitional||vc.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(i&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?ie.from(o,ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{vc.headers[t]={}});const g8=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y8=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!n||e[n]&&g8[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},JT=Symbol("internals");function Ro(t){return t&&String(t).trim().toLowerCase()}function Pu(t){return t===!1||t==null?t:j.isArray(t)?t.map(Pu):String(t)}function v8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const _8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cm(t,e,n,i,s){if(j.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!j.isString(e)){if(j.isString(i))return e.indexOf(i)!==-1;if(j.isRegExp(i))return i.test(e)}}function b8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function T8(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,a){return this[i].call(this,e,s,r,a)},configurable:!0})})}let $t=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(o,c,u){const h=Ro(c);if(!h)throw new Error("header name must be a non-empty string");const d=j.findKey(s,h);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=Pu(o))}const a=(o,c)=>j.forEach(o,(u,h)=>r(u,h,c));if(j.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(j.isString(e)&&(e=e.trim())&&!_8(e))a(y8(e),n);else if(j.isObject(e)&&j.isIterable(e)){let o={},c,u;for(const h of e){if(!j.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(c=o[u])?j.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}a(o,n)}else e!=null&&r(n,e,i);return this}get(e,n){if(e=Ro(e),e){const i=j.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return v8(s);if(j.isFunction(n))return n.call(this,s,i);if(j.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ro(e),e){const i=j.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||cm(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(a){if(a=Ro(a),a){const o=j.findKey(i,a);o&&(!n||cm(i,i[o],o,n))&&(delete i[o],s=!0)}}return j.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||cm(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return j.forEach(this,(s,r)=>{const a=j.findKey(i,r);if(a){n[a]=Pu(s),delete n[r];return}const o=e?b8(r):String(r).trim();o!==r&&delete n[r],n[o]=Pu(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&j.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[JT]=this[JT]={accessors:{}}).accessors,s=this.prototype;function r(a){const o=Ro(a);i[o]||(T8(s,a),i[o]=!0)}return j.isArray(e)?e.forEach(r):r(e),this}};$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors($t.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});j.freezeMethods($t);function um(t,e){const n=this||vc,i=e||n,s=$t.from(i.headers);let r=i.data;return j.forEach(t,function(o){r=o.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function gR(t){return!!(t&&t.__CANCEL__)}function no(t,e,n){ie.call(this,t??"canceled",ie.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(no,ie,{__CANCEL__:!0});function yR(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ie("Request failed with status code "+n.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function x8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function E8(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,a;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=i[r];a||(a=u),n[s]=c,i[s]=u;let d=r,p=0;for(;d!==s;)p+=n[d++],d=d%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-a<e)return;const y=h&&u-h;return y?Math.round(p*1e3/y):void 0}}function S8(t,e){let n=0,i=1e3/e,s,r;const a=(u,h=Date.now())=>{n=h,s=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=i?a(u,h):(s=u,r||(r=setTimeout(()=>{r=null,a(s)},i-d)))},()=>s&&a(s)]}const Ph=(t,e,n=3)=>{let i=0;const s=E8(50,250);return S8(r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,c=a-i,u=s(c),h=a<=o;i=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&h?(o-a)/u:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},ex=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},tx=t=>(...e)=>j.asap(()=>t(...e)),w8=Rt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Rt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,A8=Rt.hasStandardBrowserEnv?{write(t,e,n,i,s,r,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];j.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),j.isString(i)&&o.push(`path=${i}`),j.isString(s)&&o.push(`domain=${s}`),r===!0&&o.push("secure"),j.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function C8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function R8(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function vR(t,e,n){let i=!C8(e);return t&&(i||n==!1)?R8(t,e):e}const nx=t=>t instanceof $t?{...t}:t;function vr(t,e){e=e||{};const n={};function i(u,h,d,p){return j.isPlainObject(u)&&j.isPlainObject(h)?j.merge.call({caseless:p},u,h):j.isPlainObject(h)?j.merge({},h):j.isArray(h)?h.slice():h}function s(u,h,d,p){if(j.isUndefined(h)){if(!j.isUndefined(u))return i(void 0,u,d,p)}else return i(u,h,d,p)}function r(u,h){if(!j.isUndefined(h))return i(void 0,h)}function a(u,h){if(j.isUndefined(h)){if(!j.isUndefined(u))return i(void 0,u)}else return i(void 0,h)}function o(u,h,d){if(d in e)return i(u,h);if(d in t)return i(void 0,u)}const c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,h,d)=>s(nx(u),nx(h),d,!0)};return j.forEach(Object.keys({...t,...e}),function(h){const d=c[h]||s,p=d(t[h],e[h],h);j.isUndefined(p)&&d!==o||(n[h]=p)}),n}const _R=t=>{const e=vr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:a,auth:o}=e;if(e.headers=a=$t.from(a),e.url=dR(vR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),j.isFormData(n)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(j.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,d])=>{u.includes(h.toLowerCase())&&a.set(h,d)})}}if(Rt.hasStandardBrowserEnv&&(i&&j.isFunction(i)&&(i=i(e)),i||i!==!1&&w8(e.url))){const c=s&&r&&A8.read(r);c&&a.set(s,c)}return e},N8=typeof XMLHttpRequest<"u",I8=N8&&function(t){return new Promise(function(n,i){const s=_R(t);let r=s.data;const a=$t.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=s,h,d,p,y,v;function C(){y&&y(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let R=new XMLHttpRequest;R.open(s.method.toUpperCase(),s.url,!0),R.timeout=s.timeout;function b(){if(!R)return;const S=$t.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:S,config:t,request:R};yR(function(x){n(x),C()},function(x){i(x),C()},N),R=null}"onloadend"in R?R.onloadend=b:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(b)},R.onabort=function(){R&&(i(new ie("Request aborted",ie.ECONNABORTED,t,R)),R=null)},R.onerror=function(w){const N=w&&w.message?w.message:"Network Error",k=new ie(N,ie.ERR_NETWORK,t,R);k.event=w||null,i(k),R=null},R.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||mR;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),i(new ie(w,N.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,t,R)),R=null},r===void 0&&a.setContentType(null),"setRequestHeader"in R&&j.forEach(a.toJSON(),function(w,N){R.setRequestHeader(N,w)}),j.isUndefined(s.withCredentials)||(R.withCredentials=!!s.withCredentials),o&&o!=="json"&&(R.responseType=s.responseType),u&&([p,v]=Ph(u,!0),R.addEventListener("progress",p)),c&&R.upload&&([d,y]=Ph(c),R.upload.addEventListener("progress",d),R.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(h=S=>{R&&(i(!S||S.type?new no(null,t,R):S),R.abort(),R=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const T=x8(s.url);if(T&&Rt.protocols.indexOf(T)===-1){i(new ie("Unsupported protocol "+T+":",ie.ERR_BAD_REQUEST,t));return}R.send(r||null)})},D8=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(u){if(!s){s=!0,o();const h=u instanceof Error?u:this.reason;i.abort(h instanceof ie?h:new no(h instanceof Error?h.message:h))}};let a=e&&setTimeout(()=>{a=null,r(new ie(`timeout ${e} of ms exceeded`,ie.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:c}=i;return c.unsubscribe=()=>j.asap(o),c}},O8=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},M8=async function*(t,e){for await(const n of k8(t))yield*O8(n,e)},k8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},ix=(t,e,n,i)=>{const s=M8(t,e);let r=0,a,o=c=>{a||(a=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await s.next();if(u){o(),c.close();return}let d=h.byteLength;if(n){let p=r+=d;n(p)}c.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},sx=64*1024,{isFunction:su}=j,P8=(({Request:t,Response:e})=>({Request:t,Response:e}))(j.global),{ReadableStream:rx,TextEncoder:ax}=j.global,ox=(t,...e)=>{try{return!!t(...e)}catch{return!1}},V8=t=>{t=j.merge.call({skipUndefined:!0},P8,t);const{fetch:e,Request:n,Response:i}=t,s=e?su(e):typeof fetch=="function",r=su(n),a=su(i);if(!s)return!1;const o=s&&su(rx),c=s&&(typeof ax=="function"?(v=>C=>v.encode(C))(new ax):async v=>new Uint8Array(await new n(v).arrayBuffer())),u=r&&o&&ox(()=>{let v=!1;const C=new n(Rt.origin,{body:new rx,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!C}),h=a&&o&&ox(()=>j.isReadableStream(new i("").body)),d={stream:h&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!d[v]&&(d[v]=(C,R)=>{let b=C&&C[v];if(b)return b.call(C);throw new ie(`Response type '${v}' is not supported`,ie.ERR_NOT_SUPPORT,R)})});const p=async v=>{if(v==null)return 0;if(j.isBlob(v))return v.size;if(j.isSpecCompliantForm(v))return(await new n(Rt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(j.isArrayBufferView(v)||j.isArrayBuffer(v))return v.byteLength;if(j.isURLSearchParams(v)&&(v=v+""),j.isString(v))return(await c(v)).byteLength},y=async(v,C)=>{const R=j.toFiniteNumber(v.getContentLength());return R??p(C)};return async v=>{let{url:C,method:R,data:b,signal:T,cancelToken:S,timeout:w,onDownloadProgress:N,onUploadProgress:k,responseType:x,headers:_,withCredentials:E="same-origin",fetchOptions:I}=_R(v),O=e||fetch;x=x?(x+"").toLowerCase():"text";let M=D8([T,S&&S.toAbortSignal()],w),D=null;const xe=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let Dt;try{if(k&&u&&R!=="get"&&R!=="head"&&(Dt=await y(_,b))!==0){let xt=new n(C,{method:"POST",body:b,duplex:"half"}),Ut;if(j.isFormData(b)&&(Ut=xt.headers.get("content-type"))&&_.setContentType(Ut),xt.body){const[Mn,dt]=ex(Dt,Ph(tx(k)));b=ix(xt.body,sx,Mn,dt)}}j.isString(E)||(E=E?"include":"omit");const q=r&&"credentials"in n.prototype,$={...I,signal:M,method:R.toUpperCase(),headers:_.normalize().toJSON(),body:b,duplex:"half",credentials:q?E:void 0};D=r&&new n(C,$);let G=await(r?O(D,I):O(C,$));const me=h&&(x==="stream"||x==="response");if(h&&(N||me&&xe)){const xt={};["status","statusText","headers"].forEach(wn=>{xt[wn]=G[wn]});const Ut=j.toFiniteNumber(G.headers.get("content-length")),[Mn,dt]=N&&ex(Ut,Ph(tx(N),!0))||[];G=new i(ix(G.body,sx,Mn,()=>{dt&&dt(),xe&&xe()}),xt)}x=x||"text";let we=await d[j.findKey(d,x)||"text"](G,v);return!me&&xe&&xe(),await new Promise((xt,Ut)=>{yR(xt,Ut,{data:we,headers:$t.from(G.headers),status:G.status,statusText:G.statusText,config:v,request:D})})}catch(q){throw xe&&xe(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,v,D),{cause:q.cause||q}):ie.from(q,q&&q.code,v,D)}}},j8=new Map,bR=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,r=[i,s,n];let a=r.length,o=a,c,u,h=j8;for(;o--;)c=r[o],u=h.get(c),u===void 0&&h.set(c,u=o?new Map:V8(e)),h=u;return u};bR();const I0={http:e8,xhr:I8,fetch:{get:bR}};j.forEach(I0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lx=t=>`- ${t}`,L8=t=>j.isFunction(t)||t===null||t===!1;function U8(t,e){t=j.isArray(t)?t:[t];const{length:n}=t;let i,s;const r={};for(let a=0;a<n;a++){i=t[a];let o;if(s=i,!L8(i)&&(s=I0[(o=String(i)).toLowerCase()],s===void 0))throw new ie(`Unknown adapter '${o}'`);if(s&&(j.isFunction(s)||(s=s.get(e))))break;r[o||"#"+a]=s}if(!s){const a=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?`since :
`+a.map(lx).join(`
`):" "+lx(a[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s}const TR={getAdapter:U8,adapters:I0};function hm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new no(null,t)}function cx(t){return hm(t),t.headers=$t.from(t.headers),t.data=um.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),TR.getAdapter(t.adapter||vc.adapter,t)(t).then(function(i){return hm(t),i.data=um.call(t,t.transformResponse,i),i.headers=$t.from(i.headers),i},function(i){return gR(i)||(hm(t),i&&i.response&&(i.response.data=um.call(t,t.transformResponse,i.response),i.response.headers=$t.from(i.response.headers))),Promise.reject(i)})}const xR="1.13.2",Rf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rf[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const ux={};Rf.transitional=function(e,n,i){function s(r,a){return"[Axios v"+xR+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,o)=>{if(e===!1)throw new ie(s(a," has been removed"+(n?" in "+n:"")),ie.ERR_DEPRECATED);return n&&!ux[a]&&(ux[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,a,o):!0}};Rf.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function z8(t,e,n){if(typeof t!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const o=t[r],c=o===void 0||a(o,r,t);if(c!==!0)throw new ie("option "+r+" must be "+c,ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ie("Unknown option "+r,ie.ERR_BAD_OPTION)}}const Vu={assertOptions:z8,validators:Rf},Vn=Vu.validators;let ar=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ZT,response:new ZT}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&Vu.assertOptions(i,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),s!=null&&(j.isFunction(s)?n.paramsSerializer={serialize:s}:Vu.assertOptions(s,{encode:Vn.function,serialize:Vn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vu.assertOptions(n,{baseUrl:Vn.spelling("baseURL"),withXsrfToken:Vn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=r&&j.merge(r.common,r[n.method]);r&&j.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),n.headers=$t.concat(a,r);const o=[];let c=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(c=c&&C.synchronous,o.unshift(C.fulfilled,C.rejected))});const u=[];this.interceptors.response.forEach(function(C){u.push(C.fulfilled,C.rejected)});let h,d=0,p;if(!c){const v=[cx.bind(this),void 0];for(v.unshift(...o),v.push(...u),p=v.length,h=Promise.resolve(n);d<p;)h=h.then(v[d++],v[d++]);return h}p=o.length;let y=n;for(;d<p;){const v=o[d++],C=o[d++];try{y=v(y)}catch(R){C.call(this,R);break}}try{h=cx.call(this,y)}catch(v){return Promise.reject(v)}for(d=0,p=u.length;d<p;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=vr(this.defaults,e);const n=vR(e.baseURL,e.url,e.allowAbsoluteUrls);return dR(n,e.params,e.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(e){ar.prototype[e]=function(n,i){return this.request(vr(i||{},{method:e,url:n,data:(i||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(i){return function(r,a,o){return this.request(vr(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}ar.prototype[e]=n(),ar.prototype[e+"Form"]=n(!0)});let B8=class ER{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const a=new Promise(o=>{i.subscribe(o),r=o}).then(s);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r,a,o){i.reason||(i.reason=new no(r,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ER(function(s){e=s}),cancel:e}}};function F8(t){return function(n){return t.apply(null,n)}}function q8(t){return j.isObject(t)&&t.isAxiosError===!0}const ag={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ag).forEach(([t,e])=>{ag[e]=t});function SR(t){const e=new ar(t),n=tR(ar.prototype.request,e);return j.extend(n,ar.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return SR(vr(t,s))},n}const Ye=SR(vc);Ye.Axios=ar;Ye.CanceledError=no;Ye.CancelToken=B8;Ye.isCancel=gR;Ye.VERSION=xR;Ye.toFormData=Cf;Ye.AxiosError=ie;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=F8;Ye.isAxiosError=q8;Ye.mergeConfig=vr;Ye.AxiosHeaders=$t;Ye.formToJSON=t=>pR(j.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=TR.getAdapter;Ye.HttpStatusCode=ag;Ye.default=Ye;const{Axios:xz,AxiosError:Ez,CanceledError:Sz,isCancel:wz,CancelToken:Az,VERSION:Cz,all:Rz,Cancel:Nz,isAxiosError:Iz,spread:Dz,toFormData:Oz,AxiosHeaders:Mz,HttpStatusCode:kz,formToJSON:Pz,getAdapter:Vz,mergeConfig:jz}=Ye,H8="http://10.0.2.2:8000",at=Ye.create({baseURL:H8,headers:{"Content-Type":"application/json"},timeout:1e4});at.interceptors.request.use(async t=>{try{const e=Ge.currentUser;if(e){const n=await e.getIdToken(!1);t.headers.Authorization=`Bearer ${n}`}}catch(e){console.error("Error attaching auth token:",e)}return t});at.interceptors.response.use(t=>t,async t=>{var n;const e=t.config;if(((n=t.response)==null?void 0:n.status)===401&&!e._retry){console.warn(`401 Unauthorized on ${e.url}. Retrying...`),e._retry=!0;try{const i=Ge.currentUser;if(i){const s=await i.getIdToken(!0);return e.headers.Authorization=`Bearer ${s}`,at(e)}}catch(i){console.error("Token refresh failed:",i)}}return Promise.reject(t)});const G8=async()=>(await at.get("/user/menu")).data,K8=async(t,e)=>(await at.post("/user/order/create",{stall_id:t,items:e})).data,$8=async t=>(await at.post("/user/order/verify",t)).data,Y8=async()=>(await at.get("/staff/menu")).data,Q8=async t=>(await at.delete(`/staff/menu/${t}`)).data,wR=async t=>(await at.get(`/staff/orders?status=${t}`)).data,X8=async(t,e)=>(await at.patch(`/staff/orders/${t}/status`,{status:e})).data,W8=async(t,e)=>(await at.post("/staff/orders/verify-pickup",{order_id:t,pickup_code:e})).data,Z8=async(t,e,n,i)=>{try{console.log(" Creating payment order...",{stallId:e,items:t});const s=await K8(e,t);if(console.log(" Order created:",s),!window.Razorpay){const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.async=!0,document.body.appendChild(r),await new Promise((a,o)=>{r.onload=()=>a(!0),r.onerror=()=>o(new Error("Failed to load Razorpay SDK"))})}return new Promise(r=>{const a={key:s.key_id,amount:s.amount,currency:s.currency,name:"GreenPlate",description:"Food Order Payment",order_id:s.id,prefill:{email:n,name:i},theme:{color:"#10B981"},handler:function(c){console.log(" Razorpay handler response:",c),r({success:!0,paymentId:c.razorpay_payment_id,orderId:c.razorpay_order_id,signature:c.razorpay_signature,internalOrderId:s.internal_order_id})},modal:{ondismiss:function(){r({success:!1,error:"Payment cancelled by user"})}}};new window.Razorpay(a).open()})}catch(s){return console.error("Payment Error:",s),{success:!1,error:s.message||"Payment failed"}}},J8="https://raw.githubusercontent.com/AkibDa/backend/main/images_for_demo",hx=t=>{if(t)return`${J8}/${t}.jpg`},ez=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(new Map),[s,r]=V.useState(!1),[a,o]=V.useState([]),[c,u]=V.useState(!0),[h,d]=V.useState(!1),[p,y]=V.useState(null);V.useEffect(()=>{(async()=>{try{u(!0);const N=await G8();o(N.stalls||[])}catch{console.error("Failed to load menu")}finally{u(!1)}})()},[]),V.useEffect(()=>{if(p){const w=setTimeout(()=>y(null),3e3);return()=>clearTimeout(w)}},[p]);const v=a.map(w=>{if(!t.trim())return w;const N=w.menu_items.filter(k=>{var x;return k.name.toLowerCase().includes(t.toLowerCase())||((x=k.description)==null?void 0:x.toLowerCase().includes(t.toLowerCase()))});return{...w,menu_items:N}}).filter(w=>w.menu_items.length>0),C=(w,N,k)=>{k==null||k.stopPropagation();const x=Array.from(new Set(Array.from(n.values()).map(O=>O.stallId)));if(x.length>0&&x[0]!==N){y("You can only order from one stall at a time. Clear cart to switch.");return}const _=`${N}-${w.item_id}`,E=new Map(n),I=E.get(_);I?E.set(_,{...I,quantity:I.quantity+1}):E.set(_,{item:w,stallId:N,quantity:1}),i(E)},R=(w,N,k)=>{k==null||k.stopPropagation();const x=`${N}-${w.item_id}`,_=new Map(n),E=_.get(x);E&&E.quantity>1?_.set(x,{...E,quantity:E.quantity-1}):_.delete(x),i(_)},b=Array.from(n.values()).reduce((w,N)=>w+N.item.price*N.quantity,0),T=Array.from(n.values()).reduce((w,N)=>w+N.quantity,0),S=async()=>{if(n.size!==0){r(!0);try{const w=Ge.currentUser;if(!w){alert("Please sign in");return}const N=Array.from(n.values()),k=N[0].stallId,x=N.map(E=>({item_id:E.item.item_id,quantity:E.quantity})),_=await Z8(x,k,w.email||"",w.displayName||"");_.success?(await $8({razorpay_payment_id:_.paymentId,razorpay_order_id:_.orderId,razorpay_signature:_.signature,internal_order_id:_.internalOrderId}),i(new Map),d(!1),alert(" Order placed successfully!")):alert(` Payment failed: ${_.error}`)}catch(w){console.error("Checkout Error:",w),alert(` Error: ${w.message||"Something went wrong"}`)}finally{r(!1)}}};return c?f.jsx("div",{className:"flex h-full items-center justify-center",children:f.jsx(yr,{className:"w-8 h-8 text-emerald-600 animate-spin"})}):f.jsxs("div",{className:"flex flex-col h-full bg-gray-50 relative",style:{fontFamily:"Geom"},children:[f.jsxs("div",{className:"px-6 pt-6 pb-4 bg-white",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu"}),f.jsxs("div",{className:"relative",children:[f.jsx(sU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),f.jsx("input",{type:"text",value:t,onChange:w=>e(w.target.value),placeholder:"Search dishes...",className:"w-full bg-gray-50 border border-gray-200 py-2.5 pl-10 pr-10 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500"}),t&&f.jsx("button",{onClick:()=>e(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors",children:f.jsx(ln,{size:16})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto pb-32",children:v.length===0?f.jsx("div",{className:"text-center py-20 text-gray-400",children:f.jsxs("p",{children:['No dishes found for "',t,'"']})}):v.map(w=>f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"px-6 mb-3",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:w.stall_name}),f.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[w.menu_items.length," items available"]})]}),f.jsx("div",{className:"space-y-3 px-6",children:w.menu_items.map(N=>{var _;const k=`${w.stall_id}-${N.item_id}`,x=((_=n.get(k))==null?void 0:_.quantity)||0;return f.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-100 flex gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 overflow-hidden",children:N.image_ref?f.jsx("img",{src:hx(N.image_ref),alt:N.name,className:"w-full h-full object-cover"}):""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-0.5",children:N.name}),f.jsx("p",{className:"text-xs text-gray-500 line-clamp-1 mb-2",children:N.description}),f.jsxs("p",{className:"text-base font-bold text-gray-900",children:["",N.price]})]}),f.jsx("div",{className:"flex items-center",children:x===0?f.jsx("button",{onClick:E=>C(N,w.stall_id,E),className:"w-9 h-9 bg-emerald-600 text-white rounded-lg flex items-center justify-center hover:bg-emerald-700 transition-colors",children:f.jsx(Bl,{size:18,strokeWidth:2.5})}):f.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-lg px-2 py-1",children:[f.jsx("button",{onClick:E=>R(N,w.stall_id,E),className:"w-7 h-7 flex items-center justify-center text-emerald-700",children:f.jsx(Z9,{size:16,strokeWidth:2.5})}),f.jsx("span",{className:"font-bold text-sm text-emerald-700 min-w-[16px] text-center",children:x}),f.jsx("button",{onClick:E=>C(N,w.stall_id,E),className:"w-7 h-7 flex items-center justify-center text-emerald-700",children:f.jsx(Bl,{size:16,strokeWidth:2.5})})]})})]},N.item_id)})})]},w.stall_id))}),f.jsx(Be,{children:p&&f.jsx(K.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:"fixed top-24 left-6 right-6 z-[60] flex justify-center",children:f.jsxs("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-xl shadow-lg border border-red-100 flex items-center gap-3 max-w-sm",children:[f.jsx(E0,{size:20,className:"flex-shrink-0"}),f.jsx("p",{className:"text-xs font-semibold",children:p}),f.jsx("button",{onClick:()=>y(null),className:"ml-auto text-red-400 hover:text-red-600",children:f.jsx(ln,{size:16})})]})})}),f.jsx(Be,{children:T>0&&f.jsx(K.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-20 left-6 right-6 z-50",children:f.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-emerald-600 text-white p-4 rounded-2xl flex items-center justify-between shadow-xl",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:f.jsx(w0,{size:20,strokeWidth:2.5})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-xs font-medium opacity-90",children:"View Cart"}),f.jsxs("p",{className:"text-sm font-bold",children:[T," items  ",b]})]})]}),f.jsx("span",{className:"font-bold",children:"Checkout"})]})})}),f.jsx(Be,{children:h&&f.jsxs(f.Fragment,{children:[f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"fixed inset-0 bg-black/50 z-50"}),f.jsxs(K.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl z-50 max-h-[80vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[f.jsx("h3",{className:"text-xl font-bold",children:"Your Cart"}),f.jsx("button",{onClick:()=>d(!1),className:"w-9 h-9 bg-gray-100 rounded-full flex items-center justify-center",children:f.jsx(ln,{size:18})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:Array.from(n.values()).map(({item:w,stallId:N,quantity:k})=>f.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-100",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 overflow-hidden",children:w.image_ref?f.jsx("img",{src:hx(w.image_ref),alt:w.name,className:"w-full h-full object-cover"}):""}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-semibold text-sm",children:w.name}),f.jsxs("p",{className:"text-xs text-gray-500",children:["",w.price,"  ",k]})]}),f.jsxs("p",{className:"font-bold",children:["",w.price*k]})]},`${N}-${w.item_id}`))}),f.jsxs("div",{className:"p-6 border-t border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("span",{className:"text-gray-600",children:"Total"}),f.jsxs("span",{className:"text-2xl font-bold",children:["",b]})]}),f.jsx("button",{onClick:S,disabled:s,className:"w-full bg-emerald-600 text-white py-4 rounded-xl font-bold disabled:opacity-50 flex items-center justify-center gap-2",children:s?f.jsxs(f.Fragment,{children:[f.jsx(yr,{size:20,className:"animate-spin"}),"Processing..."]}):"Pay Now"})]})]})]})})]})},tz="tMEBxMvwxTkfeYU5mXDW",fx=t=>!t||t.length===0?0:t.reduce((e,n)=>e+n.price*n.quantity,0),nz=t=>!t||t.length===0?0:t.reduce((e,n)=>e+n.quantity,0),iz=()=>{var y;const{orders:t,loadOrders:e}=Za(),[n,i]=V.useState("Active"),[s,r]=V.useState(null),[a,o]=V.useState({}),c=V.useRef(new Set);V.useEffect(()=>{const v=setInterval(()=>{e()},5e3);return()=>clearInterval(v)},[e]),V.useEffect(()=>{const v=async()=>{const C=new Set;if(t.forEach(b=>{const T=b.stall_id||b.cafeteriaName;T&&!a[T]&&!c.current.has(T)&&T.length>3&&C.add(T)}),C.size===0)return;C.forEach(b=>c.current.add(b));const R={};await Promise.all(Array.from(C).map(async b=>{try{const T=QV(l3,"colleges",tz,"stalls",b),S=await s3(T);S.exists()?R[b]=S.data().name||"Unnamed Stall":R[b]="Unknown Stall"}catch(T){console.error(`Error fetching stall ${b}:`,T),R[b]="Stall (Offline)"}})),Object.keys(R).length>0&&o(b=>({...b,...R}))};t.length>0&&v()},[t,a]);const u=t.filter(v=>{const C=["Claimed","Completed","Cancelled"].includes(v.status);return n==="Active"?!C:C}),h=t.find(v=>v.id===s);V.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const d=v=>{const C=v.stall_id||v.cafeteriaName;return a[C]?a[C]:"Loading..."},p=v=>v==="Ready"?f.jsxs("div",{className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 bg-emerald-50 text-emerald-600",children:[f.jsx(om,{size:12}),f.jsx("span",{className:"text-xs font-semibold",children:"Ready for Pickup"})]}):["Reserved","Payment Pending","Paid"].includes(v)?f.jsxs("div",{className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 bg-blue-50 text-blue-600",children:[f.jsx(tg,{size:12}),f.jsx("span",{className:"text-xs font-semibold",children:"Preparing"})]}):["Claimed","Completed"].includes(v)?f.jsxs("div",{className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 bg-gray-100 text-gray-600",children:[f.jsx(Mu,{size:12}),f.jsx("span",{className:"text-xs font-semibold",children:"Completed"})]}):f.jsx("div",{className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 bg-gray-50 text-gray-500",children:f.jsx("span",{className:"text-xs font-semibold",children:v})});return f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full bg-gray-50 relative",style:{fontFamily:"Geom"},children:[f.jsxs("div",{className:"px-6 pt-6 pb-4 bg-white z-10 relative",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"My Orders"}),f.jsx("div",{className:"flex gap-4 border-b border-gray-200",children:["Active","Past"].map(v=>f.jsxs("button",{onClick:()=>i(v),className:"relative pb-3 px-1",children:[f.jsx("span",{className:`text-sm font-semibold transition-colors ${n===v?"text-emerald-600":"text-gray-500"}`,children:v}),n===v&&f.jsx(K.div,{layoutId:"order-tab-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-600"})]},v))})]}),f.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6 pt-4",children:f.jsx(Be,{children:u.length===0?f.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"flex flex-col items-center justify-center h-64 text-center mt-12",children:[f.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-2xl flex items-center justify-center mb-4",children:f.jsx(w0,{className:"text-gray-300",size:40})}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No orders here"}),f.jsxs("p",{className:"text-sm text-gray-500 max-w-[240px]",children:["Your ",n.toLowerCase()," orders will appear here"]})]}):f.jsx("div",{className:"space-y-4",children:u.map(v=>{var T,S,w;const C=nz(v.items),R=fx(v.items),b=d(v);return f.jsxs(K.div,{layoutId:`myorders-card-${v.id}`,onClick:()=>r(v.id),initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileTap:{scale:.98},className:`bg-white rounded-2xl p-4 border relative cursor-pointer ${v.status==="Ready"?"border-emerald-200 shadow-sm shadow-emerald-100/50":"border-gray-100 shadow-sm"}`,children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{children:[f.jsxs(K.h3,{layoutId:`myorders-title-${v.id}`,className:"text-base font-bold text-gray-900",children:[C," ",C===1?"Item":"Items"]}),f.jsxs(K.div,{layoutId:`myorders-meta-${v.id}`,className:"flex items-center gap-1.5 text-gray-500 mt-1",children:[f.jsx(eR,{size:14,className:"text-emerald-600"}),f.jsx("span",{className:"text-xs font-medium text-gray-800",children:b}),f.jsx("span",{className:"text-xs text-gray-300",children:""}),f.jsxs("span",{className:"text-xs text-gray-900 font-medium",children:["",R]})]})]}),f.jsx(K.div,{layoutId:`myorders-status-${v.id}`,children:p(v.status)})]}),f.jsxs("div",{className:"space-y-1 mb-2",children:[(T=v.items)==null?void 0:T.slice(0,2).map((N,k)=>f.jsx("div",{className:"text-xs text-gray-500 flex justify-between",children:f.jsxs("span",{children:[N.quantity,"x ",N.name]})},k)),(((S=v.items)==null?void 0:S.length)||0)>2&&f.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:["+ ",(((w=v.items)==null?void 0:w.length)||0)-2," more items..."]})]}),f.jsxs("div",{className:"pt-3 border-t border-gray-50 flex items-center justify-between text-xs font-medium text-emerald-600",children:[f.jsx("span",{children:"View Details & QR"}),f.jsx(S0,{size:14})]})]},v.id)})})})}),f.jsx(Be,{children:s&&h&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6",children:[f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(null),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),f.jsxs(K.div,{layoutId:`myorders-card-${s}`,className:"w-full max-w-md bg-white rounded-3xl overflow-hidden shadow-2xl relative z-10 flex flex-col max-h-[85vh]",style:{fontFamily:"Geom"},children:[f.jsx(K.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:v=>{v.stopPropagation(),r(null)},className:"absolute top-4 right-4 z-20 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-500 hover:bg-gray-200",children:f.jsx(ln,{size:18})}),f.jsxs("div",{className:"overflow-y-auto p-6 scrollbar-hide flex flex-col h-full",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2 pr-10",children:[f.jsxs("div",{children:[f.jsx(K.h3,{layoutId:`myorders-title-${s}`,className:"text-xl font-bold text-gray-900",children:"Order Details"}),f.jsxs(K.div,{layoutId:`myorders-meta-${s}`,className:"flex items-center gap-1.5 text-gray-500 mt-1",children:[f.jsx(W9,{size:14,className:"text-emerald-600"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:d(h)})]})]}),f.jsx(K.div,{layoutId:`myorders-status-${s}`,children:p(h.status)})]}),f.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[["Reserved","Payment Pending","Paid"].includes(h.status)&&f.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-100 flex items-center gap-2",children:[f.jsx(fU,{size:16,className:"text-blue-600 flex-shrink-0"}),f.jsx("p",{className:"text-xs font-medium text-blue-700",children:"Chef is preparing your order"})]}),h.status==="Ready"&&f.jsxs("div",{className:"p-3 bg-emerald-50 rounded-xl border border-emerald-100 flex items-center gap-2",children:[f.jsx(om,{size:16,className:"text-emerald-600 flex-shrink-0"}),f.jsx("p",{className:"text-xs font-medium text-emerald-700",children:"Your order is ready! Show the code below."})]}),["Claimed","Completed"].includes(h.status)&&f.jsxs("div",{className:"p-3 bg-gray-100 rounded-xl border border-gray-200 flex items-center gap-2",children:[f.jsx(Mu,{size:16,className:"text-gray-500 flex-shrink-0"}),f.jsx("p",{className:"text-xs font-medium text-gray-600",children:"This order has been picked up."})]})]})]}),["Reserved","Ready","Paid"].includes(h.status)&&f.jsxs(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gray-50 border border-gray-100 p-6 rounded-2xl flex flex-col items-center justify-center gap-3 mb-6 text-center",children:[f.jsx("div",{className:"w-48 h-48 bg-white rounded-xl flex items-center justify-center border border-gray-100 shadow-sm p-2",children:f.jsx(tU,{size:140,className:"text-gray-900"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wide",children:"Pickup Code"}),f.jsx("p",{className:"text-3xl font-bold text-gray-900 tracking-wider",children:h.qrCode||"----"})]})]}),f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-4",children:[f.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Order Items"}),f.jsxs("div",{className:"space-y-3 mb-6",children:[(y=h.items)==null?void 0:y.map((v,C)=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl border border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"bg-white w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold shadow-sm border border-gray-100",children:["",v.quantity]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-gray-900",children:v.name}),f.jsxs("p",{className:"text-xs text-gray-500",children:["",v.price,"/each"]})]})]}),f.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",v.price*v.quantity]})]},C)),f.jsxs("div",{className:"flex items-center justify-between pt-2 px-2",children:[f.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),f.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",fx(h.items)]})]})]})]}),f.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-auto pt-2",children:[h.status==="Ready"&&f.jsxs("div",{className:"w-full py-4 rounded-xl text-sm font-bold bg-emerald-600 text-white flex items-center justify-center gap-2 shadow-lg shadow-emerald-200",children:[f.jsx(om,{size:20,className:"animate-pulse"}),f.jsx("span",{children:"Order Ready for Pickup"})]}),["Reserved","Payment Pending","Paid"].includes(h.status)&&f.jsxs("div",{className:"w-full py-4 rounded-xl text-sm font-bold bg-blue-600 text-white flex items-center justify-center gap-2 shadow-lg shadow-blue-200",children:[f.jsx(tg,{size:20}),f.jsx("span",{children:"Kitchen is Preparing"})]}),["Claimed","Completed"].includes(h.status)&&f.jsxs("div",{className:"w-full py-4 rounded-xl text-sm font-bold bg-gray-100 text-gray-500 border border-gray-200 flex items-center justify-center gap-2",children:[f.jsx(Mu,{size:20}),f.jsx("span",{children:"Order Completed"})]}),h.status==="Cancelled"&&f.jsxs("div",{className:"w-full py-4 rounded-xl text-sm font-bold bg-red-50 text-red-500 border border-red-100 flex items-center justify-center gap-2",children:[f.jsx(ln,{size:20}),f.jsx("span",{children:"Order Cancelled"})]})]})]})]})]})})]})},AR=()=>{var r,a;const{resetApp:t,staffProfile:e,userRole:n}=Za(),i=Ge.currentUser,s=async()=>{try{await qM(Ge),t(),window.location.href="/"}catch(o){console.error("Logout failed:",o)}};return e||n===Zt.STAFF?f.jsxs("div",{style:{fontFamily:"Geom"},className:"h-full bg-gray-50 overflow-y-auto",children:[f.jsxs("div",{className:"bg-white p-6 border-b border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-black rounded-2xl flex items-center justify-center text-white shadow-lg shadow-gray-200",children:f.jsx(U9,{size:28})}),f.jsxs("div",{children:[f.jsx("h2",{style:{fontFamily:"Geom"},className:"text-xl font-bold text-gray-900",children:((r=i==null?void 0:i.email)==null?void 0:r.split("@")[0])||"Staff Member"}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx("span",{className:"text-xs font-bold uppercase tracking-wider bg-gray-100 text-gray-500 px-2 py-0.5 rounded",children:(e==null?void 0:e.role)||"Staff"}),f.jsx("span",{className:"text-xs text-gray-400",children:(e==null?void 0:e.stallName)||"GreenPlate Stall"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase",children:"Stall Name"}),f.jsx("p",{className:"font-mono text-sm font-semibold text-gray-700 truncate",children:(e==null?void 0:e.stallName)||"----"})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase",children:"Status"}),f.jsxs("p",{className:"text-sm font-bold text-emerald-600 flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"})," Active"]})]})]})]}),f.jsxs("div",{className:"p-6 space-y-3",children:[f.jsx(zs,{icon:f.jsx(eR,{size:20}),label:"Stall Configuration"}),f.jsx(zs,{icon:f.jsx($T,{size:20}),label:"App Settings"}),f.jsx(zs,{icon:f.jsx(ng,{size:20}),label:"Security & Access"}),f.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 p-4 bg-white rounded-xl border border-red-100 text-red-600 hover:bg-red-50 transition-colors mt-6",children:[f.jsx(KT,{size:20}),f.jsx("span",{className:"font-semibold",children:"Log Out"})]})]}),f.jsx("div",{className:"text-center py-6",children:f.jsx("p",{className:"text-xs text-gray-300 font-mono",children:"Staff Terminal v2.1"})})]}):f.jsxs("div",{className:"h-full bg-gray-50 overflow-y-auto",children:[f.jsxs("div",{className:"bg-white p-6 border-b border-gray-100",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full overflow-hidden shadow-emerald-200 shadow-lg p-0.5",children:f.jsx("div",{className:"w-full h-full bg-white rounded-full overflow-hidden",children:f.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${(i==null?void 0:i.email)||"User"}`,alt:"Profile",className:"w-full h-full object-cover"})})}),f.jsxs("div",{children:[f.jsx("h2",{style:{fontFamily:"Geom"},className:"text-xl font-bold text-gray-900",children:(i==null?void 0:i.displayName)||((a=i==null?void 0:i.email)==null?void 0:a.split("@")[0])||"Student"}),f.jsx("p",{className:"text-sm text-gray-500",children:i==null?void 0:i.email})]})]}),f.jsxs("div",{className:"bg-emerald-50 rounded-2xl p-5 border border-emerald-100 flex justify-between items-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute -right-6 -bottom-6 w-24 h-24 bg-emerald-100 rounded-full opacity-50"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("p",{className:"text-xs text-emerald-700 font-bold uppercase tracking-wider mb-1",children:"Impact Created"}),f.jsxs("div",{className:"flex items-baseline gap-1",children:[f.jsx("p",{style:{fontFamily:"Geom"},className:"text-3xl font-bold text-emerald-800",children:"0"}),f.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:"Meals Saved"})]})]}),f.jsx("div",{className:"text-3xl relative z-10",children:""})]})]}),f.jsxs("div",{className:"p-6 space-y-3",children:[f.jsx(zs,{icon:f.jsx(B9,{size:20}),label:"Account Details"}),f.jsx(zs,{icon:f.jsx($T,{size:20}),label:"Preferences"}),f.jsx(zs,{icon:f.jsx(XC,{size:20}),label:"Notifications"}),f.jsx(zs,{icon:f.jsx(ng,{size:20}),label:"Privacy Policy"}),f.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 p-4 bg-white rounded-xl border border-gray-100 text-red-600 hover:bg-red-50 transition-colors mt-4",children:[f.jsx(KT,{size:20}),f.jsx("span",{className:"font-semibold",children:"Sign Out"})]})]}),f.jsx("div",{className:"text-center py-6",children:f.jsx("p",{className:"text-xs text-gray-400",children:"GreenPlate Student v2.0"})})]})},zs=({icon:t,label:e})=>f.jsxs("button",{className:"w-full flex items-center gap-3 p-4 bg-white rounded-xl border border-gray-100 hover:border-gray-200 hover:shadow-sm transition-all active:scale-[0.98]",children:[f.jsx("div",{className:"text-gray-500",children:t}),f.jsx("span",{className:"font-semibold text-gray-700 text-sm",children:e})]}),sz=()=>{const[t,e]=V.useState("home"),n=Ge.currentUser,i=`https://api.dicebear.com/7.x/avataaars/svg?seed=${(n==null?void 0:n.email)||"User"}`;return f.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[f.jsxs("header",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-100 bg-white z-20",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:A0,alt:"GreenPlate Logo",className:"w-10 h-10 object-contain"}),f.jsx("span",{style:{fontFamily:"Geom"},className:"font-bold text-xl text-gray-900 mt-1",children:"GreenPlate"})]}),f.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-100 overflow-hidden border border-gray-100",children:f.jsx("img",{src:i,alt:"Profile",className:"w-full h-full object-cover"})})]}),f.jsxs("div",{className:"flex-1 overflow-hidden relative bg-gray-50",children:[f.jsx("div",{className:`h-full w-full ${t==="home"?"block":"hidden"}`,children:f.jsx(ez,{})}),t==="orders"&&f.jsx("div",{className:"h-full w-full",children:f.jsx(iz,{})}),f.jsx("div",{className:`h-full w-full ${t==="profile"?"block":"hidden"}`,children:f.jsx(AR,{})})]}),f.jsx("nav",{className:"border-t border-gray-100 bg-white px-6 py-2 safe-area-bottom z-20",children:f.jsxs("div",{className:"flex justify-around items-center max-w-md mx-auto",children:[f.jsx(fm,{icon:f.jsx(H9,{size:22,strokeWidth:2.5}),label:"Home",active:t==="home",onClick:()=>e("home")}),f.jsx(fm,{icon:f.jsx(nU,{size:22,strokeWidth:2.5}),label:"Orders",active:t==="orders",onClick:()=>e("orders")}),f.jsx(fm,{icon:f.jsx(Ef,{size:22,strokeWidth:2.5}),label:"Profile",active:t==="profile",onClick:()=>e("profile")})]})})]})},fm=({icon:t,label:e,active:n,onClick:i})=>f.jsxs("button",{onClick:i,className:"flex flex-col items-center gap-1 py-2 px-4 relative",children:[f.jsx("div",{className:`transition-colors duration-200 ${n?"text-emerald-600":"text-gray-400"}`,children:t}),f.jsx("span",{style:{fontFamily:"Mona Sans"},className:`text-[10px] font-medium transition-colors duration-200 ${n?"text-emerald-600":"text-gray-400"}`,children:e}),n&&f.jsx(K.div,{layoutId:"nav-indicator",className:"absolute -bottom-0 left-1/2 -translate-x-1/2 w-1 h-1 bg-emerald-600 rounded-full"})]}),rz=({onClose:t})=>{const[e,n]=V.useState(""),[i,s]=V.useState(!1),[r,a]=V.useState(null),[o,c]=V.useState(null),u=async()=>{var h,d,p;if(!e){a("Please enter an email");return}s(!0),a(null),c(null);try{const y=await((h=Ge.currentUser)==null?void 0:h.getIdToken());if(!y)throw new Error("Not authenticated");await at.post("/staff/add-member",{email:e},{headers:{Authorization:`Bearer ${y}`}}),c("Staff invite sent successfully"),n("")}catch(y){a(((p=(d=y.response)==null?void 0:d.data)==null?void 0:p.message)||"Failed to add staff")}finally{s(!1)}};return f.jsx(Be,{children:f.jsx(K.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:t,children:f.jsxs(K.div,{className:"bg-white w-full max-w-sm rounded-2xl shadow-xl overflow-hidden",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",duration:.4,bounce:.3},onClick:h=>h.stopPropagation(),children:[f.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-900",style:{fontFamily:"Geom"},children:"Add Team Member"}),f.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 transition-colors",children:f.jsx(ln,{size:16})})]}),f.jsxs("div",{className:"p-5 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Staff Email Address"}),f.jsx("input",{type:"email",placeholder:"staff@tint.edu.in",value:e,onChange:h=>n(h.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all",autoFocus:!0})]}),f.jsxs(Be,{mode:"wait",children:[r&&f.jsx(K.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm font-medium overflow-hidden",children:r}),o&&f.jsx(K.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 bg-emerald-50 text-emerald-600 rounded-lg text-sm font-medium overflow-hidden",children:o})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{onClick:t,className:"px-5 py-2.5 rounded-xl text-sm font-medium text-gray-600 hover:bg-gray-100 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:u,disabled:i,className:"px-5 py-2.5 rounded-xl text-sm font-bold bg-black text-white flex items-center gap-2 hover:opacity-90 disabled:opacity-50 transition-all shadow-sm",children:i?"Adding":f.jsxs(f.Fragment,{children:[f.jsx(uU,{size:16}),"Add Member"]})})]})]})]})})})},az=({onClose:t})=>{const[e,n]=V.useState([]),[i,s]=V.useState(!0),[r,a]=V.useState(null),[o,c]=V.useState(null),[u,h]=V.useState(null),[d,p]=V.useState(""),[y,v]=V.useState(!1);V.useEffect(()=>{C()},[]),V.useEffect(()=>{if(o){const w=setTimeout(()=>c(null),3e3);return()=>clearTimeout(w)}},[o]);const C=async()=>{var w;try{const N=await((w=Ge.currentUser)==null?void 0:w.getIdToken());if(!N)return;const k=await at.get("/staff/list",{headers:{Authorization:`Bearer ${N}`}}),x=Array.isArray(k.data)?k.data:k.data.staff||[];n(x)}catch{a("Failed to load team members")}finally{s(!1)}},R=async w=>{var N,k,x;if(confirm("Are you sure you want to remove this staff member?")){v(!0),c(null);try{const _=await((N=Ge.currentUser)==null?void 0:N.getIdToken());await at.delete(`/staff/${w}`,{headers:{Authorization:`Bearer ${_}`}}),n(E=>E.filter(I=>I.uid!==w)),c({type:"success",message:"Staff member removed successfully."})}catch(_){c({type:"error",message:((x=(k=_.response)==null?void 0:k.data)==null?void 0:x.message)||"Failed to remove staff."})}finally{v(!1)}}},b=w=>{h(w.uid),p(w.email),c(null)},T=()=>{h(null),p("")},S=async w=>{var N,k,x;if(!d.includes("@")){c({type:"error",message:"Please enter a valid email."});return}v(!0);try{const _=await((N=Ge.currentUser)==null?void 0:N.getIdToken());await at.put(`/staff/${w}/email`,{new_email:d},{headers:{Authorization:`Bearer ${_}`}}),n(E=>E.map(I=>I.uid===w?{...I,email:d}:I)),h(null),c({type:"success",message:"Email updated successfully."})}catch(_){c({type:"error",message:((x=(k=_.response)==null?void 0:k.data)==null?void 0:x.message)||"Failed to update email."})}finally{v(!1)}};return f.jsx(Be,{children:f.jsx(K.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:f.jsxs(K.div,{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0,transition:{type:"spring",duration:.5,bounce:.3}},exit:{scale:.95,opacity:0,y:20},onClick:w=>w.stopPropagation(),children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50 shrink-0",children:[f.jsx("h3",{style:{fontFamily:"Geom"},className:"text-xl font-bold text-gray-900",children:"Manage Team"}),f.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 hover:bg-gray-200 hover:text-gray-700 transition-all",children:f.jsx(ln,{size:18})})]}),f.jsx(Be,{children:o&&f.jsxs(K.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:`px-6 py-3 text-sm font-medium flex items-center gap-2 overflow-hidden ${o.type==="success"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:[o.type==="success"?f.jsx(eg,{size:16}):f.jsx(E0,{size:16}),o.message]})}),f.jsx("div",{className:"overflow-y-auto p-4 sm:p-6 flex-1",children:i?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400 gap-3",children:[f.jsx("div",{className:"w-8 h-8 border-3 border-gray-100 border-t-emerald-500 rounded-full animate-spin"}),f.jsx("span",{className:"text-sm font-medium",children:"Loading team..."})]}):r?f.jsx("div",{className:"text-center py-10 text-red-500 text-sm bg-red-50 rounded-xl border border-red-100 mx-2",children:r}):e.length===0?f.jsx("div",{className:"text-center py-12 text-gray-400 text-sm bg-gray-50 rounded-xl border border-dashed border-gray-200 mx-2",children:"No staff members found."}):f.jsx("div",{className:"space-y-3",children:f.jsx(Be,{mode:"popLayout",initial:!1,children:e.map(w=>f.jsxs(K.div,{layout:!0,initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,transition:{duration:.2}},transition:{type:"spring",stiffness:500,damping:40,mass:1},className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between group hover:border-emerald-200 hover:shadow-md transition-all duration-200",children:[f.jsxs("div",{className:"flex items-center gap-4 overflow-hidden flex-1",children:[f.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold shrink-0 shadow-sm ${w.role==="manager"?"bg-gray-900":"bg-emerald-500"}`,children:w.role==="manager"?f.jsx(ng,{size:20}):f.jsx(Ef,{size:20})}),f.jsxs("div",{className:"min-w-0 flex-1 mr-2",children:[u===w.uid?f.jsx("input",{className:"bg-gray-50 border border-gray-200 rounded-lg px-3 py-1.5 text-sm w-full focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all",value:d,onChange:N=>p(N.target.value),autoFocus:!0,placeholder:"Enter new email"}):f.jsx("p",{className:"font-semibold text-gray-900 truncate text-sm",children:w.email}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md border border-gray-200",children:w.role}),f.jsxs("span",{className:`text-[10px] font-medium flex items-center gap-1 ${w.status==="active"?"text-emerald-600":"text-amber-600"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${w.status==="active"?"bg-emerald-500":"bg-amber-500"}`}),w.status==="active"?"Active":"Pending"]})]})]})]}),f.jsx("div",{className:"flex gap-2 pl-2",children:u===w.uid?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>S(w.uid),disabled:y,className:"w-9 h-9 flex items-center justify-center rounded-xl bg-emerald-50 text-emerald-600 hover:bg-emerald-100 hover:scale-105 transition-all",children:f.jsx(eg,{size:16,strokeWidth:2.5})}),f.jsx("button",{onClick:T,disabled:y,className:"w-9 h-9 flex items-center justify-center rounded-xl bg-gray-100 text-gray-500 hover:bg-gray-200 hover:scale-105 transition-all",children:f.jsx(ln,{size:16,strokeWidth:2.5})})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>b(w),className:"w-9 h-9 flex items-center justify-center rounded-xl text-gray-400 hover:bg-emerald-50 hover:text-emerald-600 transition-all",title:"Edit Email",children:f.jsx(JC,{size:16})}),w.role!=="manager"&&f.jsx("button",{onClick:()=>R(w.uid),disabled:y,className:"w-9 h-9 flex items-center justify-center rounded-xl text-gray-400 hover:bg-red-50 hover:text-red-500 transition-all",title:"Remove Staff",children:f.jsx(kh,{size:16})})]})})]},w.uid))})})})]})})})},oz="https://raw.githubusercontent.com/AkibDa/backend/main/images_for_demo",lz=t=>{if(t)return`${oz}/${t}.jpg`},dx=()=>{const[t,e]=V.useState([]),[n,i]=V.useState([]),[s,r]=V.useState(!0),[a,o]=V.useState(!1),[c,u]=V.useState(!1),[h,d]=V.useState(null),[p,y]=V.useState(null),[v,C]=V.useState(null),{cafeterias:R,managedCafeteriaId:b,staffProfile:T,toggleCafeteriaStatus:S}=Za(),w=(E,I)=>{C({message:E,type:I}),setTimeout(()=>C(null),3e3)};V.useEffect(()=>{const E=async()=>{var O;try{const M=await((O=Ge.currentUser)==null?void 0:O.getIdToken());if(!M)return;const D=await at.get("/staff/orders?status=PAID",{headers:{Authorization:`Bearer ${M}`}});e(D.data.orders||[])}catch(M){console.error("Failed to fetch orders",M)}},I=async()=>{try{r(!0);const O=await Y8();i(O.menu_items||[])}catch(O){console.error("Failed menu load",O)}finally{r(!1)}};Ge.currentUser&&(E(),I())},[]);const N=(E,I)=>{d({id:E,name:I})},k=async()=>{if(!h)return;const{id:E,name:I}=h;d(null),y(E);try{await Q8(E),i(O=>O.filter(M=>M.item_id!==E)),w(`"${I}" deleted successfully.`,"success")}catch{w("Delete failed. Please try again.","error")}finally{y(null)}},x=E=>{w(`Editing "${E}" is coming soon!`,"info")};if(!T)return f.jsx("div",{className:"p-10 text-center",children:"Loading..."});const _=R.find(E=>E.id===b)||R[0];return f.jsxs("div",{style:{fontFamily:"Geom"},className:"flex flex-col h-full bg-gray-50 overflow-hidden relative",children:[f.jsx(Be,{children:v&&f.jsxs(K.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",stiffness:300,damping:25},className:`absolute top-6 left-4 right-4 z-[70] p-4 rounded-2xl shadow-xl flex items-center gap-3 ${v.type==="success"?"bg-emerald-600 text-white":v.type==="error"?"bg-red-500 text-white":"bg-blue-600 text-white"}`,children:[v.type==="success"&&f.jsx(WC,{className:"flex-shrink-0",size:24}),v.type==="error"&&f.jsx(QC,{className:"flex-shrink-0",size:24}),v.type==="info"&&f.jsx(G9,{className:"flex-shrink-0",size:24}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-sm capitalize",children:v.type}),f.jsx("p",{className:"text-xs opacity-90 font-medium",children:v.message})]}),f.jsx("button",{onClick:()=>C(null),className:"ml-auto p-1 bg-white/20 rounded-full hover:bg-white/30",children:f.jsx(ln,{size:14})})]})}),f.jsxs("div",{className:"px-6 pt-8 pb-6 bg-white border-b border-gray-100 flex justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Control Panel"}),f.jsx("h1",{className:"text-3xl font-bold",children:_.name}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${_.isOpen?"bg-emerald-500":"bg-red-500"}`}),f.jsx("span",{className:"text-sm text-gray-500",children:_.isOpen?"Store is Live":"Store is Closed"})]})]}),f.jsx("button",{onClick:()=>S(_.id),className:`w-12 h-12 rounded-xl flex items-center justify-center ${_.isOpen?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:f.jsx(eU,{size:22})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(ru,{label:"Total Orders",value:t.length.toString(),icon:f.jsx(L9,{size:18})}),f.jsx(ru,{label:"Active Menu",value:n.length.toString(),icon:f.jsx(ZC,{size:18})}),f.jsx(ru,{label:"Rating",value:_.rating.toString(),icon:f.jsx(oU,{size:18})}),f.jsx(ru,{label:"Revenue",value:"Coming Soon",icon:f.jsx(cU,{size:18})})]}),T.role==="manager"&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Staff Management"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>o(!0),className:"bg-black text-white py-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition-transform",children:[f.jsx(Bl,{size:16})," Add Staff"]}),f.jsxs("button",{onClick:()=>u(!0),className:"bg-white border py-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition-transform",children:[f.jsx(hU,{size:16})," View Team"]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Active Menu"}),s?f.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"Loading Menu..."}):f.jsxs("div",{className:"space-y-3 pb-20",children:[n.map(E=>f.jsxs(K.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex gap-4 items-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-xl flex items-center justify-center text-2xl flex-shrink-0 overflow-hidden",children:E.image_ref?f.jsx("img",{src:lz(E.image_ref),alt:E.name,className:"w-full h-full object-cover"}):""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{style:{fontFamily:"Geom"},className:"font-semibold text-gray-900 mb-0.5 truncate",children:E.name}),f.jsx("p",{className:"text-xs text-gray-400 truncate mb-1",children:E.description}),f.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["",E.price]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("button",{onClick:()=>x(E.name),className:"p-2 bg-gray-50 rounded text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:f.jsx(JC,{size:14})}),f.jsx("button",{disabled:p===E.item_id,onClick:()=>N(E.item_id,E.name),className:"p-2 bg-gray-50 rounded text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:p===E.item_id?f.jsx("div",{className:"w-3.5 h-3.5 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):f.jsx(kh,{size:14})})]})]},E.item_id)),n.length===0&&f.jsx("div",{className:"text-center py-8 text-gray-400 text-sm bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:"No items in menu. Start by adding some!"})]})]})]}),f.jsxs(Be,{children:[a&&f.jsx(dm,{onClose:()=>o(!1),children:f.jsx(rz,{onClose:()=>o(!1)})}),c&&f.jsx(dm,{onClose:()=>u(!1),children:f.jsx(az,{onClose:()=>u(!1)})}),h&&f.jsx(dm,{onClose:()=>d(null),children:f.jsxs("div",{className:"text-center pt-2",children:[f.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 text-red-500",children:f.jsx(kh,{size:28})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delete Item?"}),f.jsxs("p",{className:"text-sm text-gray-500 mb-8 max-w-[240px] mx-auto",children:["Are you sure you want to delete ",f.jsxs("span",{className:"font-bold text-gray-800",children:['"',h.name,'"']}),"? This action cannot be undone."]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>d(null),className:"flex-1 py-3.5 rounded-xl font-bold text-gray-600 bg-gray-50 hover:bg-gray-100 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:k,className:"flex-1 py-3.5 rounded-xl font-bold text-white bg-red-500 hover:bg-red-600 shadow-lg shadow-red-200 transition-colors",children:"Yes, Delete"})]})]})})]})]})},dm=({onClose:t,children:e})=>f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:t}),f.jsxs(K.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white rounded-3xl p-6 z-10 w-full max-w-sm mx-4 shadow-2xl",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-900",children:f.jsx(ln,{size:20})}),e]})]}),ru=({label:t,value:e,icon:n})=>f.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm h-28 flex flex-col justify-between border border-gray-100",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider",children:t}),f.jsx("div",{className:"text-gray-400",children:n})]}),f.jsx("span",{className:"text-2xl font-bold text-gray-900",children:e})]}),cz=()=>{const[t,e]=V.useState([]),[n,i]=V.useState(!0),[s,r]=V.useState(null),a=async()=>{try{t.length===0&&i(!0);const c=await wR("PAID");e(c.orders||[])}catch(c){console.error("Failed to load queue",c)}finally{i(!1)}};V.useEffect(()=>{a();const c=setInterval(a,15e3);return()=>clearInterval(c)},[]);const o=async c=>{try{r(c),await X8(c,"READY"),e(u=>u.filter(h=>h.order_id!==c))}catch{alert("Failed to update order status")}finally{r(null)}};return f.jsxs("div",{className:"p-6 h-full flex flex-col bg-transparent",children:[f.jsxs("header",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tighter",children:"Kitchen Queue"}),f.jsxs("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-[9px] mt-1",children:["Pending Preparation (",t.length,")"]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-32",children:n?f.jsx("div",{className:"flex justify-center pt-20",children:f.jsx(yr,{className:"animate-spin text-gray-400"})}):t.length===0?f.jsxs("div",{className:"text-center py-24 bg-gray-50/50 rounded-[3.5rem] border-2 border-dashed border-gray-100",children:[f.jsx(XC,{className:"text-gray-200 mx-auto mb-4",size:56}),f.jsx("h3",{className:"text-xl font-black text-gray-900",children:"All Clear"}),f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"No pending orders"})]}):f.jsx(Be,{children:f.jsx("div",{className:"space-y-6",children:t.map(c=>f.jsxs(K.div,{layout:!0,initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"bg-white p-7 rounded-[3rem] border border-gray-100 shadow-sm",children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 bg-gray-900 text-white rounded-[1.75rem] flex items-center justify-center",children:f.jsx(Ef,{size:26})}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-black text-xl text-gray-900 leading-none tracking-tight uppercase",children:["Order #",c.order_id.slice(-6)]}),f.jsxs("span",{className:"text-[9px] font-black text-orange-500 uppercase tracking-widest mt-2 flex items-center gap-1.5",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full animate-pulse"}),"To Prepare"]})]})]})}),f.jsx("div",{className:"bg-gray-50 p-5 rounded-[2.25rem] border border-gray-100 mb-6",children:f.jsx("div",{className:"space-y-2",children:c.items.map((u,h)=>f.jsx("div",{className:"flex justify-between items-center",children:f.jsxs("span",{className:"font-black text-gray-900",children:[u.quantity,"x ",u.name]})},h))})}),f.jsxs("button",{onClick:()=>o(c.order_id),disabled:s===c.order_id,className:"w-full bg-gray-900 text-white py-6 rounded-[1.75rem] text-[11px] font-black uppercase tracking-[0.3em] shadow-xl flex items-center justify-center gap-3 active:scale-95 transition-all hover:bg-emerald-600",children:[s===c.order_id?"Updating...":"Mark as Ready",f.jsx(S0,{size:18})]})]},c.order_id))})})})]})},uz=()=>{const[t,e]=V.useState([]),[n,i]=V.useState(!0),[s,r]=V.useState(!1),[a,o]=V.useState(null),[c,u]=V.useState(""),[h,d]=V.useState(!1),[p,y]=V.useState({show:!1,type:"success",message:""}),v=async()=>{try{t.length===0&&i(!0);const S=await wR("READY");e(S.orders||[])}catch(S){console.error("Failed to load pickups",S)}finally{i(!1)}};V.useEffect(()=>{v();const S=setInterval(v,15e3);return()=>clearInterval(S)},[]);const C=S=>{o(S),u(""),r(!0)},R=()=>{r(!1),o(null),u(""),d(!1)},b=(S,w)=>{y({show:!0,type:S,message:w}),S==="success"&&setTimeout(()=>y(N=>({...N,show:!1})),3e3)},T=async S=>{var w,N;if(S.preventDefault(),!a||!c||c.length<4){b("error","Please enter a valid 4-digit code.");return}d(!0);try{await W8(a.order_id,c),R(),b("success","Verification Successful! Handover Complete."),e(k=>k.filter(x=>x.order_id!==a.order_id))}catch(k){console.error("Verification error:",k);const x=((N=(w=k.response)==null?void 0:w.data)==null?void 0:N.message)||"Verification failed. Please check the code.";b("error",x),d(!1)}};return f.jsxs("div",{className:"p-6 h-full flex flex-col bg-transparent relative",children:[f.jsxs("header",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tighter",children:"Pickup Hub"}),f.jsxs("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-[9px] mt-1",children:["Ready for Collection (",t.length,")"]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-32",children:n?f.jsx("div",{className:"flex justify-center pt-20",children:f.jsx(yr,{className:"animate-spin text-gray-400"})}):t.length===0?f.jsxs("div",{className:"text-center py-24 bg-gray-50/50 rounded-[3.5rem] border-2 border-dashed border-gray-100",children:[f.jsx(w0,{className:"text-gray-200 mx-auto mb-4",size:56}),f.jsx("h3",{className:"text-xl font-black text-gray-900",children:"Shelf Empty"}),f.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"No orders waiting for pickup"})]}):f.jsx("div",{className:"space-y-6",children:f.jsx(Be,{children:t.map(S=>{var w;return f.jsxs(K.div,{layout:!0,initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"bg-white p-7 rounded-[3rem] border border-gray-50 shadow-sm group",children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-14 h-14 bg-emerald-50 text-emerald-600 rounded-[1.75rem] flex items-center justify-center",children:f.jsx(ZC,{size:26})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-black text-xl text-gray-900 tracking-tight leading-none mb-1.5 uppercase",children:["#",S.order_id.slice(-6)]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest bg-emerald-100 px-2 py-1 rounded-md",children:"Ready"}),f.jsx("span",{className:"text-xs font-bold text-gray-500 truncate max-w-[120px]",children:((w=S.user_details)==null?void 0:w.name)||"Student"})]})]})]})}),f.jsx("div",{className:"bg-gray-50 p-5 rounded-[2.25rem] mb-6 border border-gray-100",children:S.items.map((N,k)=>f.jsx("div",{className:"flex justify-between text-sm mb-1",children:f.jsxs("span",{className:"font-bold text-gray-800",children:[N.quantity,"x ",N.name]})},k))}),f.jsxs("button",{onClick:()=>C(S),className:"w-full bg-emerald-600 text-white py-5 rounded-[1.75rem] text-[10px] font-black uppercase tracking-[0.25em] flex items-center justify-center gap-2 active:scale-95 transition-all shadow-lg shadow-emerald-100",children:[f.jsx(K9,{size:18}),"Verify & Handover"]})]},S.order_id)})})})}),f.jsx(Be,{children:s&&a&&f.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:R,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),f.jsxs(K.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-sm bg-white rounded-[2.5rem] shadow-2xl overflow-hidden z-10 p-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-black text-gray-900 tracking-tight leading-none",children:"Verify Pickup"}),f.jsxs("p",{className:"text-xs text-gray-500 font-bold mt-1",children:["Order #",a.order_id.slice(-6).toUpperCase()]})]}),f.jsx("button",{onClick:R,className:"p-2 bg-gray-50 rounded-full text-gray-500 hover:bg-gray-100",children:f.jsx(ln,{size:20})})]}),f.jsxs("form",{onSubmit:T,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Ask student for their code"}),f.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:c,onChange:S=>u(S.target.value),placeholder:"   ",className:"w-full bg-gray-50 border-2 border-gray-100 text-center text-4xl font-black tracking-[0.5em] py-5 rounded-2xl focus:outline-none focus:border-emerald-500 focus:bg-white transition-all text-gray-900 placeholder:text-gray-300",autoFocus:!0})]}),f.jsxs("button",{type:"submit",disabled:h||c.length<4,className:"w-full bg-emerald-600 text-white py-5 rounded-[1.75rem] text-[11px] font-black uppercase tracking-[0.25em] flex items-center justify-center gap-3 shadow-xl shadow-emerald-100 active:scale-95 transition-all disabled:opacity-70",children:[h?f.jsx(yr,{className:"animate-spin",size:18}):f.jsx(Mu,{size:18}),h?"Verifying...":"Confirm Handover"]})]})]})]})}),f.jsx(Be,{children:p.show&&f.jsx("div",{className:"fixed inset-0 z-[110] flex items-end justify-center sm:items-center pointer-events-none p-6",children:f.jsxs(K.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:`pointer-events-auto w-full max-w-sm p-6 rounded-[2rem] shadow-2xl flex items-center gap-4 border ${p.type==="success"?"bg-white border-emerald-100":"bg-white border-red-100"}`,children:[f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 ${p.type==="success"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-500"}`,children:p.type==="success"?f.jsx(eg,{size:24,strokeWidth:3}):f.jsx(E0,{size:24,strokeWidth:3})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:`text-lg font-black leading-none mb-1 ${p.type==="success"?"text-gray-900":"text-red-600"}`,children:p.type==="success"?"Success!":"Failed"}),f.jsx("p",{className:"text-xs font-bold text-gray-500 leading-tight",children:p.message})]}),f.jsx("button",{onClick:()=>y(S=>({...S,show:!1})),className:"p-2 bg-gray-50 rounded-full text-gray-400 hover:bg-gray-100",children:f.jsx(ln,{size:18})})]})})})]})},hz=({onClose:t})=>{const{staffProfile:e}=Za(),n=V.useRef(null),[i,s]=V.useState(!1),[r,a]=V.useState(!1),[o,c]=V.useState([]),[u,h]=V.useState(!1),[d,p]=V.useState(null),y=(S,w)=>{p({message:S,type:w}),setTimeout(()=>p(null),3e3)},v=async S=>{var N;const w=(N=S.target.files)==null?void 0:N[0];if(w){s(!0),h(!1);try{const k=new FormData;k.append("file",w);const _=(await at.post("/staff/menu/scan-image",k,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})).data;_.detected_items&&_.detected_items.length>0?(c(_.detected_items.map(E=>({name:E.name,price:E.price||"",description:E.description||""}))),h(!0),y("Items scanned successfully!","success")):y("No items detected. Please try again.","error")}catch(k){console.error("Scan failed:",k),y("Failed to read menu. Try manual entry.","error"),c([]),h(!0)}finally{s(!1)}}},C=(S,w,N)=>{const k=[...o];k[S]={...k[S],[w]:N},c(k)},R=S=>{const w=o.filter((N,k)=>k!==S);c(w)},b=()=>{c([{name:"",price:"",description:""},...o])},T=async()=>{var S,w;if(o.length!==0){a(!0);try{const k=(await at.get("/staff/me")).data.stall_id;if(!k)throw new Error("Could not verify staff identity.");await at.post("/staff/menu",{stall_id:k,items:o.map(x=>({name:x.name,price:Number(x.price)||0,description:x.description,is_available:!0}))}),y("Menu uploaded successfully!","success"),c([]),h(!1),setTimeout(()=>{t()},2e3)}catch(N){console.error("Upload failed:",N);const k=((w=(S=N.response)==null?void 0:S.data)==null?void 0:w.message)||"Failed to save menu.";y(k,"error")}finally{a(!1)}}};return f.jsx("div",{style:{fontFamily:"Geom"},children:f.jsxs(K.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[60] bg-white flex flex-col max-w-md mx-auto overflow-hidden",children:[f.jsx(Be,{children:d&&f.jsxs(K.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",stiffness:300,damping:25},className:`absolute top-6 left-4 right-4 z-[70] p-4 rounded-2xl shadow-xl flex items-center gap-3 ${d.type==="success"?"bg-emerald-600 text-white":"bg-red-500 text-white"}`,children:[d.type==="success"?f.jsx(WC,{className:"flex-shrink-0",size:24}):f.jsx(QC,{className:"flex-shrink-0",size:24}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-sm",children:d.type==="success"?"Success":"Error"}),f.jsx("p",{className:"text-xs opacity-90 font-medium",children:d.message})]})]})}),f.jsxs("header",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-white/80 backdrop-blur-md sticky top-0 z-10",children:[f.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-900 transition-colors",children:f.jsx(ln,{size:24})}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("h2",{className:"text-xl font-black text-gray-900 tracking-tight",children:"Upload Menu"}),f.jsxs("span",{className:"text-[8px] font-black text-green-600 uppercase tracking-widest",children:[(e==null?void 0:e.stallName)||"GreenPlate Stall"," Hub"]})]}),f.jsx("div",{className:"w-10"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 hide-scrollbar pb-32",children:[!u&&f.jsxs("div",{onClick:()=>{var S;return!i&&((S=n.current)==null?void 0:S.click())},className:"w-full aspect-[3/4] bg-gray-50 border-2 border-dashed border-gray-200 rounded-[2.5rem] flex flex-col items-center justify-center cursor-pointer overflow-hidden relative group transition-all hover:bg-gray-100",children:[f.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-8",children:[f.jsx("div",{className:"w-20 h-20 bg-white rounded-full shadow-lg flex items-center justify-center mb-2 group-hover:scale-110 transition-transform text-green-600",children:f.jsx(z9,{size:36,strokeWidth:2.5})}),f.jsx("h3",{className:"text-lg font-black text-gray-900",children:"Scan Menu Card"}),f.jsx("p",{className:"text-xs text-gray-400 font-medium max-w-[200px]",children:"Take a clear photo of your printed menu. AI will extract all items instantly."})]}),f.jsx("input",{type:"file",ref:n,onChange:v,className:"hidden",accept:"image/*"}),f.jsx(Be,{children:i&&f.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-green-600/90 backdrop-blur-md flex flex-col items-center justify-center text-white p-6 text-center z-20",children:[f.jsx(yr,{className:"animate-spin mb-4",size:48}),f.jsx("h3",{className:"text-xl font-black tracking-tight",children:"Analyzing Menu..."}),f.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-green-100 mt-2",children:"Extracting items & prices"})]})})]}),u&&f.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-500 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between px-1",children:[f.jsxs("h3",{className:"text-sm font-black text-gray-900 uppercase tracking-wider",children:["Review Items (",o.length,")"]}),f.jsxs("button",{type:"button",onClick:b,className:"text-xs font-bold text-green-600 bg-green-50 px-3 py-1.5 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-1 active:scale-95",children:[f.jsx(Bl,{size:14})," Add Item"]})]}),f.jsx("div",{className:"space-y-3",children:o.map((S,w)=>f.jsx(K.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-100 p-4 rounded-2xl shadow-sm group focus-within:ring-2 focus-within:ring-green-500/20 transition-all",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("div",{className:"flex-1 space-y-2",children:[f.jsx("input",{value:S.name,onChange:N=>C(w,"name",N.target.value),placeholder:"Item Name",className:"w-full font-bold text-gray-900 placeholder:text-gray-300 focus:outline-none bg-transparent"}),f.jsx("input",{value:S.description,onChange:N=>C(w,"description",N.target.value),placeholder:"Short description (optional)",className:"w-full text-xs text-gray-500 placeholder:text-gray-300 focus:outline-none bg-transparent"})]}),f.jsxs("div",{className:"flex flex-col items-end justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 rounded-lg px-2 py-1",children:[f.jsx("span",{className:"text-xs font-bold text-gray-400",children:""}),f.jsx("input",{type:"number",value:S.price,onChange:N=>C(w,"price",N.target.value),placeholder:"0",className:"w-12 text-right font-black text-gray-900 bg-transparent focus:outline-none"})]}),f.jsx("button",{type:"button",onClick:()=>R(w),className:"p-1.5 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:f.jsx(kh,{size:16})})]})]})},w))})]})]}),u&&f.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white/80 backdrop-blur-md flex gap-3",children:[f.jsx("button",{type:"button",onClick:()=>{c([]),h(!1)},className:"px-6 py-4 rounded-2xl font-bold text-gray-500 bg-gray-50 hover:bg-gray-100 transition-colors",children:"Rescan"}),f.jsx("button",{type:"button",onClick:T,disabled:r||o.length===0,className:"flex-1 bg-green-600 text-white py-4 rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl shadow-green-100 active:scale-95 transition-all disabled:opacity-50 disabled:shadow-none flex items-center justify-center gap-2",children:r?f.jsxs(f.Fragment,{children:[f.jsx(yr,{className:"animate-spin",size:18})," Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(iU,{size:18})," Publish Menu"]})})]})]})})},fz=()=>{const[t,e]=V.useState("dashboard"),[n,i]=V.useState(!1),s=()=>{switch(t){case"dashboard":return f.jsx(dx,{});case"queue":return f.jsx(cz,{});case"pickup":return f.jsx(uz,{});case"profile":return f.jsx(AR,{});default:return f.jsx(dx,{})}},r=[{id:"dashboard",label:"Overview",icon:f.jsx($9,{size:22,strokeWidth:2})},{id:"queue",label:"Kitchen",icon:f.jsx(tg,{size:22,strokeWidth:2})},{id:"pickup",label:"Pickup",icon:f.jsx(J9,{size:22,strokeWidth:2})},{id:"profile",label:"Profile",icon:f.jsx(Ef,{size:22,strokeWidth:2})}];return f.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-gray-50/50",children:[f.jsxs("header",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-100 bg-white z-20",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:A0,alt:"GreenPlate Logo",className:"w-10 h-10 object-contain"}),f.jsx("span",{style:{fontFamily:"Geom"},className:"font-bold text-xl text-gray-900 mt-1",children:"GreenPlate"})]}),f.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-100 overflow-hidden",children:f.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Alex",alt:"Profile",className:"w-full h-full object-cover"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-24",children:f.jsx(Be,{mode:"wait",children:f.jsx(K.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},className:"h-full",children:s()},t)})}),f.jsx(Be,{children:n&&f.jsx(hz,{onClose:()=>i(!1)})}),f.jsx(K.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!0),className:"fixed bottom-24 right-6 w-14 h-14 bg-black text-white rounded-2xl flex items-center justify-center shadow-lg shadow-gray-300 z-40","aria-label":"Create new post",children:f.jsx(Bl,{size:26,strokeWidth:2.5})}),f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 px-6 py-2 pb-5 z-50 flex justify-between items-center",children:r.map(a=>{const o=t===a.id;return f.jsxs("button",{onClick:()=>e(a.id),className:"relative flex flex-col items-center justify-center w-16 h-14 group",children:[o&&f.jsx(K.div,{layoutId:"navbar-indicator",className:"absolute inset-0 bg-emerald-50 rounded-xl",transition:{type:"spring",bounce:.2,duration:.6}}),f.jsx("span",{className:`relative z-10 transition-colors duration-300 ${o?"text-emerald-700":"text-gray-400 group-hover:text-gray-600"}`,children:a.icon}),f.jsx("span",{className:`relative z-10 text-[10px] font-bold mt-1 transition-all duration-300 ${o?"text-emerald-700 translate-y-0 opacity-100":"text-gray-400 translate-y-1 opacity-0"}`,children:a.label})]},a.id)})})]})},dz=()=>f.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0 overflow-hidden bg-[#FDFDFD]",children:[f.jsx(K.div,{animate:{opacity:[.1,.2,.1],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-[-20%] left-[-10%] w-[150%] aspect-square bg-green-200/40 rounded-full blur-[100px]"}),f.jsx(K.div,{animate:{opacity:[.1,.15,.1],scale:[1.1,1,1.1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-[-20%] right-[-10%] w-[120%] aspect-square bg-emerald-100/30 rounded-full blur-[80px]"})]}),mz=()=>{const{userRole:t,isVerified:e,setOnboarded:n}=Za(),[i,s]=V.useState(!0);return i?f.jsx(mU,{onFinish:()=>{s(!1),n(!0)}}):f.jsx(Be,{mode:"wait",children:t?e?t===Zt.USER?f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:f.jsx(sz,{})},"user"):f.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:f.jsx(fz,{})},"staff"):f.jsx(K.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.02},className:"h-full",children:f.jsx(YT,{verifyOnly:!0})},"verify"):f.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"spring",damping:25,stiffness:200},className:"h-full",children:f.jsx(YT,{})},"auth")})},pz=()=>f.jsx(c3,{children:f.jsxs("div",{className:"max-w-md mx-auto h-screen bg-white overflow-hidden relative flex flex-col border-x border-gray-100 shadow-2xl",children:[f.jsx(dz,{}),f.jsx("div",{className:"relative z-10 flex flex-col h-full overflow-hidden",children:f.jsx(mz,{})})]})}),CR=document.getElementById("root");if(!CR)throw new Error("Could not find root element to mount to");const gz=tD.createRoot(CR);gz.render(f.jsx(TN.StrictMode,{children:f.jsx(pz,{})}));
//# sourceMappingURL=index-DMrCwVND.js.map
